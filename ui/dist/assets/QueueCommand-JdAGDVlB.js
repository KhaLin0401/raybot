import{_ as te,u as ue,a as ce,b as me,c as pe,d as fe,e as _e,f as ge,g as xe}from"./StatusBadge.vuevuetypescriptsetuptruelang-B4foueJw.js";import{_ as ve,a as ye,b as we,c as he,d as $e}from"./SelectValue.vuevuetypescriptsetuptruelang-Cvg3gVg_.js";import{a as Ce,C as D,_ as be,c as U,b as ke}from"./SelectGroup.vuevuetypescriptsetuptruelang-DBOf6ns0.js";import{_ as De,L as M}from"./http-B84wg0N-.js";import{_ as Pe}from"./index-BNQQiay5.js";import{a as K,_ as P}from"./CardContent.vuevuetypescriptsetuptruelang-BHItdCM8.js";import{_ as W,a as G,b as H,C as Be}from"./CardTitle.vuevuetypescriptsetuptruelang-DsX-blWH.js";import{_ as Ae}from"./CardFooter.vuevuetypescriptsetuptruelang-B7olo1s4.js";import{_ as Ne}from"./Input.vuevuetypescriptsetuptruelang-kJ5f0n5X.js";import{u as A,a as Se,h as se,g as ae,e as ze}from"./PopperContent-DGGPpA43.js";import{i as N,_ as Ie,a as Le,b as Oe,c as qe,d as Te,X as je}from"./x-B3tk2HAP.js";import{d as g,k as Fe,h as p,o as i,i as a,b as v,m as C,j as e,z as oe,A as ne,e as S,l as s,E as t,B as w,F as Ee,s as f,K as B,v as _,a as J,Q as Qe,g as Ve,y as X,I as Y,G as Z,N as Re,R as Ue,S as b}from"./index-Qb-K-lGR.js";import{P as z,c as Me,a as k}from"./createLucideIcon--oNMgtbN.js";const Ke=g({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(c){const l=c,d=N(),{forwardRef:u,currentElement:r}=A();return d.contentId||(d.contentId=Se(void 0,"reka-dialog-content")),Fe(()=>{d.triggerElement.value=r.value}),(o,h)=>(i(),p(e(z),C(l,{ref:e(u),type:o.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(d).open.value||!1,"aria-controls":e(d).open.value?e(d).contentId:void 0,"data-state":e(d).open.value?"open":"closed",onClick:e(d).onOpenToggle}),{default:a(()=>[v(o.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),We=g({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(c){const l=c,d=N();return A(),(u,r)=>(i(),p(e(z),C(l,{id:e(d).titleId}),{default:a(()=>[v(u.$slots,"default")]),_:3},16,["id"]))}}),Ge=g({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(c){const l=c;A();const d=N();return(u,r)=>(i(),p(e(z),C(l,{id:e(d).descriptionId}),{default:a(()=>[v(u.$slots,"default")]),_:3},16,["id"]))}});/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Me("app-window",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]),Je=g({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(c,{emit:l}){const r=se(c,l);return(o,h)=>(i(),p(e(Ie),oe(ne(e(r))),{default:a(()=>[v(o.$slots,"default")]),_:3},16))}}),Xe=g({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(c,{emit:l}){const d=c,u=l,r=S(()=>{const{class:h,...$}=d;return $}),o=se(r,u);return(h,$)=>(i(),p(e(Le),null,{default:a(()=>[s(e(Oe),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),s(e(qe),C(e(o),{class:e(k)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",d.class)}),{default:a(()=>[v(h.$slots,"default"),s(e(Te),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:a(()=>[s(e(je),{class:"w-4 h-4"}),$[0]||($[0]=t("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),Ye=g({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(c){const l=c,d=S(()=>{const{class:r,...o}=l;return o}),u=ae(d);return(r,o)=>(i(),p(e(Ge),C(e(u),{class:e(k)("text-sm text-muted-foreground",l.class)}),{default:a(()=>[v(r.$slots,"default")]),_:3},16,["class"]))}}),Ze=g({__name:"DialogHeader",props:{class:{}},setup(c){const l=c;return(d,u)=>(i(),w("div",{class:Ee(e(k)("flex flex-col gap-y-1.5 text-center sm:text-left",l.class))},[v(d.$slots,"default")],2))}}),et=g({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(c){const l=c,d=S(()=>{const{class:r,...o}=l;return o}),u=ae(d);return(r,o)=>(i(),p(e(We),C(e(u),{class:e(k)("text-lg font-semibold leading-none tracking-tight",l.class)}),{default:a(()=>[v(r.$slots,"default")]),_:3},16,["class"]))}}),tt=g({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(c){const l=c;return(d,u)=>(i(),p(e(Ke),oe(ne(l)),{default:a(()=>[v(d.$slots,"default")]),_:3},16))}}),st={class:"mt-4 space-y-4"},at={class:"flex"},ot={class:"flex"},nt={class:"flex items-center"},lt={class:"flex"},dt={class:"flex"},rt={key:0,class:"space-y-2"},it={class:"p-4 rounded-lg bg-muted-foreground/30 dark:bg-black"},ut={class:"text-sm whitespace-pre-wrap"},ee=g({__name:"CommandDetailDialog",props:{command:{}},setup(c){const l=c;function d(r){return r.replace(/_/g," ").toLowerCase().replace(/\b\w/g,o=>o.toUpperCase())}function u(r){return r==="CLOUD"?"Cloud":"Application"}return(r,o)=>(i(),p(e(Je),null,{default:a(()=>[s(e(tt),{"as-child":""},{default:a(()=>[v(r.$slots,"default")]),_:3}),s(e(Xe),{class:"sm:max-w-md"},{default:a(()=>[s(e(Ze),null,{default:a(()=>[s(e(et),null,{default:a(()=>o[0]||(o[0]=[f(" Command Details ")])),_:1}),s(e(Ye),null,{default:a(()=>[s(e(ze),null,{default:a(()=>o[1]||(o[1]=[f(" View the details of the command ")])),_:1})]),_:1})]),_:1}),t("div",st,[t("div",at,[o[2]||(o[2]=t("div",{class:"w-1/4 font-medium"}," ID: ",-1)),t("div",null,_(l.command.id),1)]),t("div",ot,[o[3]||(o[3]=t("div",{class:"w-1/4 font-medium"}," Type: ",-1)),t("div",null,_(d(l.command.type)),1)]),t("div",nt,[o[4]||(o[4]=t("div",{class:"w-1/4 font-medium"}," Status: ",-1)),t("div",null,[s(te,{status:l.command.status},null,8,["status"])])]),t("div",lt,[o[5]||(o[5]=t("div",{class:"w-1/4 font-medium"}," Source: ",-1)),t("div",null,_(u(l.command.source)),1)]),t("div",dt,[o[6]||(o[6]=t("div",{class:"w-1/4 font-medium"}," Created: ",-1)),t("div",null,_(e(Ce)(l.command.createdAt)),1)]),l.command.inputs?(i(),w("div",rt,[o[7]||(o[7]=t("div",{class:"font-medium"}," Inputs: ",-1)),t("div",it,[t("pre",ut,_(JSON.stringify(l.command.inputs,null,2)),1)])])):B("",!0)])]),_:1})]),_:3}))}}),ct={class:"grid grid-cols-3 gap-4"},mt={class:"col-span-2"},pt={class:"flex flex-col gap-4"},ft={class:"flex flex-col gap-2"},_t={class:"w-full"},gt={class:"space-y-2 text-center"},xt={class:"text-sm text-muted-foreground"},vt={key:1,class:"flex flex-col w-full gap-2 p-4 border rounded-md shadow-md bg-muted"},yt={class:"flex flex-col items-center gap-4 p-2"},wt={class:"flex flex-col w-full gap-2 p-6 border rounded-md shadow cursor-pointer bg-muted"},ht={class:"flex items-center justify-between w-full"},$t={class:"font-medium"},Ct={class:"flex gap-2"},bt={class:"flex items-center gap-1 text-sm text-muted-foreground"},kt={class:"text-xs text-muted-foreground"},Dt={class:"flex flex-col gap-2"},Pt={class:"font-medium"},Bt={key:0,class:"flex items-center justify-center w-full"},At={key:1,class:"flex flex-col items-center justify-center w-full gap-2 p-6 border rounded-md shadow-md bg-muted"},Nt={class:"flex flex-col w-full gap-2 p-4 border rounded-md shadow-md cursor-pointer bg-muted"},St={class:"flex items-center justify-between w-full"},zt={class:"font-medium"},It={class:"flex gap-2"},Lt={class:"flex items-center gap-1 text-sm text-muted-foreground"},Ot={class:"text-xs text-muted-foreground"},qt={class:"flex items-center justify-end gap-4"},Tt={class:"flex items-center gap-1"},jt={class:"col-span-1"},Yt=g({__name:"QueueCommand",setup(c){const l=Qe(),d=Ue(),u=J(Number(l.query.page)||1),r=J(Number(l.query.pageSize)||10),{data:o,isPending:h,isError:$,error:le,refetch:de}=ue(u,r,{axiosOpts:{doNotShowLoading:!0}}),{data:y}=ce({axiosOpts:{doNotShowLoading:!0},refetchInterval:1e3});function re(x){u.value=x,d.replace({query:{...l.query,page:x.toString()}})}function I(x){return x.replace(/_/g," ").toLowerCase().replace(/\b\w/g,n=>n.toUpperCase())}function ie(){u.value=1,d.replace({query:{...l.query,pageSize:r.value.toString(),page:"1"}})}Ve(y,(x,n)=>{x!==n&&de()});function L(x){switch(x){case"APP":return b("span",{class:"text-muted-foreground flex items-center gap-2"},[b(He,{class:"w-4 h-4"}),"Application"]);case"CLOUD":return b("span",{class:"text-muted-foreground flex items-center gap-2"},[b(Be,{class:"w-4 h-4"}),"Cloud"]);default:return b("span",{class:"text-muted-foreground"},x||"N/A")}}return(x,n)=>(i(),p(e(De),null,{default:a(()=>[n[15]||(n[15]=t("div",null,[t("h1",{class:"text-xl font-semibold"}," Queue command "),t("p",{class:"text-sm text-muted-foreground"}," Queue a command to the robot ")],-1)),t("div",ct,[t("div",mt,[s(e(P),null,{default:a(()=>[s(e(W),null,{default:a(()=>[s(e(G),null,{default:a(()=>n[1]||(n[1]=[f(" Command Queue ")])),_:1}),s(e(H),null,{default:a(()=>n[2]||(n[2]=[f(" Current and queued commands ")])),_:1})]),_:1}),s(e(K),null,{default:a(()=>{var O,q,T,j,F,E,Q;return[t("div",pt,[t("div",ft,[n[7]||(n[7]=t("p",{class:"font-medium"}," Current Command ",-1)),t("div",_t,[e($)?(i(),p(e(P),{key:0,class:"flex flex-col items-center gap-4 p-6 text-destructive"},{default:a(()=>{var m;return[s(e(D),{class:"w-8 h-8"}),t("div",gt,[n[3]||(n[3]=t("h2",{class:"text-lg font-semibold"}," Failed to load state ",-1)),t("p",xt,_(((m=e(le))==null?void 0:m.message)||"An unexpected error occurred"),1)])]}),_:1})):((O=e(y))==null?void 0:O.items.length)===0?(i(),w("div",vt,[t("div",yt,[s(e(D),{class:"w-8 h-8 text-muted-foreground"}),n[4]||(n[4]=t("div",{class:"space-y-2 text-center"}," No command processing ",-1))])])):(q=e(y))!=null&&q.items[0]?(i(),p(ee,{key:2,command:(T=e(y))==null?void 0:T.items[0]},{default:a(()=>{var m,V,R;return[t("div",wt,[t("div",ht,[t("p",$t,_(I((m=e(y))==null?void 0:m.items[0].type)),1),s(e(be),{class:"text-blue-500 bg-blue-500/10 hover:bg-blue-500/20"},{default:a(()=>[s(e(M),{class:"w-4 h-4 mr-1 duration-2000 animate-spin"}),n[5]||(n[5]=f(" Processing "))]),_:1})]),t("div",Ct,[t("p",bt,[(i(),p(X(L((V=e(y))==null?void 0:V.items[0].source)))),n[6]||(n[6]=f(" • ")),t("span",kt,_(e(U)(((R=e(y))==null?void 0:R.items[0].createdAt)||"")),1)])])])]}),_:1},8,["command"])):B("",!0)])]),t("div",Dt,[t("p",Pt," Waitting Command ("+_((j=e(o))==null?void 0:j.totalItems)+") ",1),e(h)?(i(),w("div",Bt,[s(e(M),{class:"w-4 h-4 mr-1 duration-2000 animate-spin"}),n[8]||(n[8]=f(" Loading... "))])):((F=e(o))==null?void 0:F.items.length)===0?(i(),w("div",At,[s(e(D),{class:"w-8 h-8 text-muted-foreground"}),n[9]||(n[9]=f(" No commands in queue "))])):B("",!0),(i(!0),w(Z,null,Y((E=e(o))==null?void 0:E.items,m=>(i(),p(ee,{key:m.id,command:m},{default:a(()=>[t("div",Nt,[t("div",St,[t("p",zt,_(I(m.type)),1),s(te,{status:m.status},null,8,["status"])]),t("div",It,[t("p",Lt,[(i(),p(X(L(m.source)))),n[10]||(n[10]=f(" • ")),t("span",Ot,_(e(U)(m.createdAt)),1)])])])]),_:2},1032,["command"]))),128)),t("div",qt,[t("div",Tt,[n[11]||(n[11]=t("span",{class:"text-sm sr-only sm:not-sr-only"}," Items per page: ",-1)),s(e(ve),{modelValue:e(r),"onUpdate:modelValue":[n[0]||(n[0]=m=>Re(r)?r.value=m:null),ie]},{default:a(()=>[s(e(ye),{class:"w-20"},{default:a(()=>[s(e(we))]),_:1}),s(e(he),null,{default:a(()=>[s(e(ke),null,{default:a(()=>[(i(),w(Z,null,Y([10,20,30],m=>s(e($e),{key:m,value:m},{default:a(()=>[f(_(m),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),s(e(me),{"items-per-page":e(r),total:(Q=e(o))==null?void 0:Q.totalItems,"sibling-count":1,"show-edges":"","default-page":e(u),"onUpdate:page":re},{default:a(()=>[s(e(pe),{class:"flex items-center gap-1"},{default:a(()=>[s(e(fe)),s(e(_e)),s(e(ge)),s(e(xe))]),_:1})]),_:1},8,["items-per-page","total","default-page"])])])])]}),_:1})]),_:1})]),t("div",jt,[s(e(P),null,{default:a(()=>[s(e(W),null,{default:a(()=>[s(e(G),null,{default:a(()=>n[12]||(n[12]=[f(" Create Command ")])),_:1}),s(e(H),null,{default:a(()=>n[13]||(n[13]=[f(" Add a new command to the queue ")])),_:1})]),_:1}),s(e(K),null,{default:a(()=>[s(e(Ne),{placeholder:"Command"})]),_:1}),s(e(Ae),null,{default:a(()=>[s(e(Pe),{class:"w-full"},{default:a(()=>n[14]||(n[14]=[f(" Add Command ")])),_:1})]),_:1})]),_:1})])])]),_:1}))}});export{Yt as default};
