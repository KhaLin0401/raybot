import{u as ie,C as re,_ as ee,a as fe,b as me,H as _e,c as pe,d as be,e as ce,f as ge,g as ye,W as ve,h as Se}from"./Switch.vuevuetypescriptsetuptruelang-Cd0DIuYz.js";import{c as oe,a as xe,e as te,i as we,u as Ce}from"./http-BZBk8gp4.js";import{c as U,o as q,s as Q,g as le,f as se,F as _,a as p,b,_ as c,d as y,t as de,n as G,u as ne,h as Pe,l as Y,Z as ae}from"./FormMessage.vuevuetypescriptsetuptruelang-Dd7NXoDB.js";import{_ as z}from"./index-BOMfkHpD.js";/* empty css                                                              */import{d as B,P as ke,Q as Ee,r as Te,p as T,o as u,g as l,u as e,q as Ve,w as a,c as N,l as d,v as K,I as M,s,m as I,D as $,F as j,E as Z,i as H,j as O,N as $e,G as Ie,O as Ne}from"./index-PGjIun-o.js";import{_ as Ae}from"./plugin-vueexport-helper-DlAUqK2U.js";import{L as W,_ as De}from"./PageContainer.vuevuetypescriptsetuptruelang-Dn_o6crX.js";import{_ as D,a as h,b as F,c as R,d as m}from"./SelectValue.vuevuetypescriptsetuptruelang-DOHCGhAE.js";import{_ as he,a as J,b as X,c as Fe}from"./TabsTrigger.vuevuetypescriptsetuptruelang-C3Tv5Vlp.js";import"./check-DIq3qtMv.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=oe("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=oe("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Be={class:"relative"},qe={class:"sr-only"},He=B({__name:"PasswordInput",props:ke({disabled:{type:Boolean},class:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(C){const r=C,S=Ee(C,"modelValue"),w=Te(!1);function V(){w.value=!w.value}return(P,v)=>(u(),T("div",Be,[l(e(U),{modelValue:S.value,"onUpdate:modelValue":v[0]||(v[0]=o=>S.value=o),type:e(w)?"text":"password",class:Ve(e(xe)("pr-10 hide-password-toggle",r.class))},null,8,["modelValue","type","class"]),l(e(z),{type:"button",variant:"ghost",size:"sm",class:"absolute top-0 right-0 h-full px-3 py-2 hover:bg-transparent",onClick:V},{default:a(()=>[e(w)&&!r.disabled?(u(),N(e(Ue),{key:0,class:"w-4 h-4","aria-hidden":"true"})):(u(),N(e(Re),{key:1,class:"w-4 h-4","aria-hidden":"true"})),d("span",qe,K(e(w)?"Hide password":"Show password"),1)]),_:1})]))}}),ue=Ae(He,[["__scopeId","data-v-e2be5266"]]),Oe={class:"space-y-0.5"},Qe=B({__name:"CloudConfigForm",props:{initialValues:{}},setup(C){const r=C,S=q({enable:le().default(!1),address:Q().min(1,"Address is required"),token:Q().min(1,"Token is required")}),w=te(),{mutate:V,isPending:P}=ie(),o=se({validationSchema:de(S),initialValues:r.initialValues}).handleSubmit(x=>{V(x,{onSuccess:()=>{w.setQueryData([re],x),M.success("Cloud configuration updated successfully!")},onError:()=>{M.error("Failed to update cloud configuration")}})});return(x,f)=>(u(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:f[0]||(f[0]=(...k)=>e(o)&&e(o)(...k))},[f[5]||(f[5]=d("h3",{class:"pb-2 text-lg font-medium border-b"}," Cloud Configuration ",-1)),l(e(_),{name:"address"},{default:a(({componentField:k})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>f[1]||(f[1]=[s("Cloud Address")])),_:1,__:[1]}),l(e(c),null,{default:a(()=>[l(e(U),I(k,{type:"url",placeholder:"https://cloud.example.com",disabled:e(P)}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"token"},{default:a(({componentField:k})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>f[2]||(f[2]=[s("Auth token")])),_:1,__:[2]}),l(e(c),null,{default:a(()=>[l(e(ue),I(k,{placeholder:"Enter your auth token",disabled:e(P)}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"enable"},{default:a(({value:k,handleChange:E})=>[l(e(p),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[d("div",Oe,[l(e(b),null,{default:a(()=>f[3]||(f[3]=[s("Enable Cloud Service")])),_:1,__:[3]})]),l(e(c),null,{default:a(()=>[l(e(ee),{"model-value":k,disabled:e(P),"aria-readonly":"","onUpdate:modelValue":E},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),d("div",null,[l(e(z),{type:"submit",disabled:e(P)},{default:a(()=>[e(P)?(u(),N(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),f[4]||(f[4]=s(" Save "))]),_:1,__:[4]},8,["disabled"])])],32))}}),je={key:0,class:"flex items-center justify-center h-full"},Me=B({__name:"CloudConfigTab",setup(C){const{data:r,isPending:S}=fe();return(w,V)=>(u(),T(j,null,[e(S)?(u(),T("div",je,[l(e(W),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(r)?(u(),N(Qe,{key:1,"initial-values":e(r)},null,8,["initial-values"])):$("",!0)],64))}}),We={listAvailableSerialPorts:C=>we.get("/peripherals/serials",C)};function Le(C){return Ce({queryKey:["serial-ports"],queryFn:()=>We.listAvailableSerialPorts(C),select:r=>r.items})}const Ye={class:"grid grid-cols-1 gap-8"},Ge={class:"space-y-3"},Ke={class:"px-4 space-y-6"},ze={class:"space-y-6"},Ze={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Je={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},Xe={class:"space-y-6"},el={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ll={class:"space-y-3"},al={class:"px-4 space-y-6"},tl={class:"space-y-6"},sl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},dl={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},ul={class:"space-y-6"},nl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ol=B({__name:"HardwareConfigForm",props:{initialValues:{}},setup(C){const r=C,S=[9600,19200,38400,57600,115200],w=q({port:Q().min(1,"Port is required"),baudRate:G().int().positive("Baud rate must be positive"),parity:Pe(["NONE","EVEN","ODD"]).default("NONE"),dataBits:ne([Y(5),Y(6),Y(7),Y(8)]).default(8),stopBits:ne([Y(1),Y(1.5),Y(2)]).default(1),readTimeout:G().int().nonnegative("Read timeout must be non-negative")}),V=q({esp:q({serial:w,commandAckTimeout:G().int().nonnegative("Command ack timeout must be non-negative")}),pic:q({serial:w,commandAckTimeout:G().int().nonnegative("Command ack timeout must be non-negative")})}).superRefine((g,t)=>{g.esp.serial.port===g.pic.serial.port&&(t.addIssue({code:ae.custom,message:"ESP and PIC cannot use the same port",path:["esp.serial.port"]}),t.addIssue({code:ae.custom,message:"ESP and PIC cannot use the same port",path:["pic.serial.port"]}))}),P=te(),{mutate:v,isPending:o}=me(),{data:x,refetch:f}=Le({doNotShowLoading:!0}),E=se({validationSchema:de(V),initialValues:r.initialValues}).handleSubmit(g=>{v(g,{onSuccess:()=>{P.setQueryData([_e],g),M.success("Hardware configuration updated successfully!")},onError:()=>{M.error("Failed to update hardware configuration")}})});function i(g){g&&f()}return(g,t)=>(u(),T("form",{class:"flex flex-col w-full space-y-6",onSubmit:t[0]||(t[0]=(...n)=>e(E)&&e(E)(...n))},[d("div",Ye,[d("div",Ge,[t[21]||(t[21]=d("div",null,[d("h4",{class:"text-lg font-medium tracking-tight"}," ESP Controller "),d("p",{class:"text-sm text-muted-foreground"}," Configure the ESP controller ")],-1)),d("div",Ke,[d("div",ze,[t[18]||(t[18]=d("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),d("div",Ze,[l(e(_),{name:"esp.serial.port"},{default:a(({componentField:n,value:A})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[1]||(t[1]=[s("Port")])),_:1,__:[1]}),l(e(D),I(n,{required:"","onUpdate:open":i}),{default:a(()=>[l(e(c),null,{default:a(()=>[l(e(h),{disabled:e(o)},{default:a(()=>[l(e(F),{placeholder:A},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(R),null,{default:a(()=>[l(e(m),{value:"NONEESP"},{default:a(()=>t[2]||(t[2]=[s(" None ")])),_:1,__:[2]}),e(x)?(u(!0),T(j,{key:0},Z(e(x),L=>(u(),N(e(m),{key:L.port,value:L.port},{default:a(()=>[s(K(L.port),1)]),_:2},1032,["value"]))),128)):$("",!0)]),_:1})]),_:2},1040),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"esp.serial.readTimeout"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[3]||(t[3]=[s("Read Timeout (s)")])),_:1,__:[3]}),l(e(c),null,{default:a(()=>[l(e(U),I(n,{type:"number",disabled:e(o),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1})]),d("div",Je,[l(e(_),{name:"esp.serial.baudRate"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[4]||(t[4]=[s("Baud Rate")])),_:1,__:[4]}),l(e(D),H(O(n)),{default:a(()=>[l(e(c),null,{default:a(()=>[l(e(h),{disabled:e(o)},{default:a(()=>[l(e(F),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[(u(),T(j,null,Z(S,A=>l(e(m),{key:A,value:A},{default:a(()=>[s(K(A),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"esp.serial.parity"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[5]||(t[5]=[s("Parity")])),_:1,__:[5]}),l(e(D),H(O(n)),{default:a(()=>[l(e(c),null,{default:a(()=>[l(e(h),{disabled:e(o)},{default:a(()=>[l(e(F),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(m),{value:"NONE"},{default:a(()=>t[6]||(t[6]=[s(" None ")])),_:1,__:[6]}),l(e(m),{value:"EVEN"},{default:a(()=>t[7]||(t[7]=[s(" Even ")])),_:1,__:[7]}),l(e(m),{value:"ODD"},{default:a(()=>t[8]||(t[8]=[s(" Odd ")])),_:1,__:[8]})]),_:1})]),_:2},1040),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"esp.serial.dataBits"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[9]||(t[9]=[s("Data Bits")])),_:1,__:[9]}),l(e(D),H(O(n)),{default:a(()=>[l(e(c),null,{default:a(()=>[l(e(h),{disabled:e(o)},{default:a(()=>[l(e(F),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(m),{value:5},{default:a(()=>t[10]||(t[10]=[s(" 5 ")])),_:1,__:[10]}),l(e(m),{value:6},{default:a(()=>t[11]||(t[11]=[s(" 6 ")])),_:1,__:[11]}),l(e(m),{value:7},{default:a(()=>t[12]||(t[12]=[s(" 7 ")])),_:1,__:[12]}),l(e(m),{value:8},{default:a(()=>t[13]||(t[13]=[s(" 8 ")])),_:1,__:[13]})]),_:1})]),_:2},1040),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"esp.serial.stopBits"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[14]||(t[14]=[s("Stop Bits")])),_:1,__:[14]}),l(e(D),H(O(n)),{default:a(()=>[l(e(c),null,{default:a(()=>[l(e(h),{disabled:e(o)},{default:a(()=>[l(e(F),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(m),{value:1},{default:a(()=>t[15]||(t[15]=[s(" 1 ")])),_:1,__:[15]}),l(e(m),{value:1.5},{default:a(()=>t[16]||(t[16]=[s(" 1.5 ")])),_:1,__:[16]}),l(e(m),{value:2},{default:a(()=>t[17]||(t[17]=[s(" 2 ")])),_:1,__:[17]})]),_:1})]),_:2},1040),l(e(y))]),_:2},1024)]),_:1})])]),d("div",Xe,[t[20]||(t[20]=d("h4",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),d("div",el,[l(e(_),{name:"esp.commandAckTimeout"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[19]||(t[19]=[s("Ack Timeout (ms)")])),_:1,__:[19]}),l(e(c),null,{default:a(()=>[l(e(U),I(n,{type:"number",disabled:e(o),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1})])])])]),d("div",ll,[t[42]||(t[42]=d("div",null,[d("h4",{class:"text-lg font-medium tracking-tight"}," PIC Controller "),d("p",{class:"text-sm text-muted-foreground"}," Configure the PIC controller ")],-1)),d("div",al,[d("div",tl,[t[39]||(t[39]=d("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),d("div",sl,[l(e(_),{name:"pic.serial.port"},{default:a(({componentField:n,value:A})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[22]||(t[22]=[s("Port")])),_:1,__:[22]}),l(e(D),I(n,{required:"","onUpdate:open":i}),{default:a(()=>[l(e(c),null,{default:a(()=>[l(e(h),{disabled:e(o)},{default:a(()=>[l(e(F),{placeholder:A},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(R),null,{default:a(()=>[l(e(m),{value:"NONEPIC"},{default:a(()=>t[23]||(t[23]=[s(" None ")])),_:1,__:[23]}),e(x)?(u(!0),T(j,{key:0},Z(e(x),L=>(u(),N(e(m),{key:L.port,value:L.port},{default:a(()=>[s(K(L.port),1)]),_:2},1032,["value"]))),128)):$("",!0)]),_:1})]),_:2},1040),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"pic.serial.readTimeout"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[24]||(t[24]=[s("Read Timeout (s)")])),_:1,__:[24]}),l(e(c),null,{default:a(()=>[l(e(U),I(n,{type:"number",disabled:e(o),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1})]),d("div",dl,[l(e(_),{name:"pic.serial.baudRate"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[25]||(t[25]=[s("Baud Rate")])),_:1,__:[25]}),l(e(D),H(O(n)),{default:a(()=>[l(e(c),null,{default:a(()=>[l(e(h),{disabled:e(o)},{default:a(()=>[l(e(F),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[(u(),T(j,null,Z(S,A=>l(e(m),{key:A,value:A},{default:a(()=>[s(K(A),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"pic.serial.parity"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[26]||(t[26]=[s("Parity")])),_:1,__:[26]}),l(e(D),H(O(n)),{default:a(()=>[l(e(c),null,{default:a(()=>[l(e(h),{disabled:e(o)},{default:a(()=>[l(e(F),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(m),{value:"NONE"},{default:a(()=>t[27]||(t[27]=[s(" None ")])),_:1,__:[27]}),l(e(m),{value:"EVEN"},{default:a(()=>t[28]||(t[28]=[s(" Even ")])),_:1,__:[28]}),l(e(m),{value:"ODD"},{default:a(()=>t[29]||(t[29]=[s(" Odd ")])),_:1,__:[29]})]),_:1})]),_:2},1040),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"pic.serial.dataBits"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[30]||(t[30]=[s("Data Bits")])),_:1,__:[30]}),l(e(D),H(O(n)),{default:a(()=>[l(e(c),null,{default:a(()=>[l(e(h),{disabled:e(o)},{default:a(()=>[l(e(F),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(m),{value:5},{default:a(()=>t[31]||(t[31]=[s(" 5 ")])),_:1,__:[31]}),l(e(m),{value:6},{default:a(()=>t[32]||(t[32]=[s(" 6 ")])),_:1,__:[32]}),l(e(m),{value:7},{default:a(()=>t[33]||(t[33]=[s(" 7 ")])),_:1,__:[33]}),l(e(m),{value:8},{default:a(()=>t[34]||(t[34]=[s(" 8 ")])),_:1,__:[34]})]),_:1})]),_:2},1040),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"pic.serial.stopBits"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[35]||(t[35]=[s("Stop Bits")])),_:1,__:[35]}),l(e(D),H(O(n)),{default:a(()=>[l(e(c),null,{default:a(()=>[l(e(h),{disabled:e(o)},{default:a(()=>[l(e(F),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(m),{value:1},{default:a(()=>t[36]||(t[36]=[s(" 1 ")])),_:1,__:[36]}),l(e(m),{value:1.5},{default:a(()=>t[37]||(t[37]=[s(" 1.5 ")])),_:1,__:[37]}),l(e(m),{value:2},{default:a(()=>t[38]||(t[38]=[s(" 2 ")])),_:1,__:[38]})]),_:1})]),_:2},1040),l(e(y))]),_:2},1024)]),_:1})])]),d("div",ul,[t[41]||(t[41]=d("h3",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),d("div",nl,[l(e(_),{name:"pic.commandAckTimeout"},{default:a(({componentField:n})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>t[40]||(t[40]=[s("Ack Timeout (s)")])),_:1,__:[40]}),l(e(c),null,{default:a(()=>[l(e(U),I(n,{type:"number",disabled:e(o),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1})])])])])]),d("div",null,[l(e(z),{type:"submit",disabled:e(o)},{default:a(()=>[e(o)?(u(),N(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),t[43]||(t[43]=s(" Save "))]),_:1,__:[43]},8,["disabled"])])],32))}}),il={key:0,class:"flex items-center justify-center h-full"},rl=B({__name:"HardwareConfigTab",setup(C){const{data:r,isPending:S}=pe();return(w,V)=>(u(),T(j,null,[e(S)?(u(),T("div",il,[l(e(W),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(r)?(u(),N(ol,{key:1,"initial-values":e(r)},null,8,["initial-values"])):$("",!0)],64))}}),fl={class:"space-y-0.5"},ml=B({__name:"HTTPConfigForm",props:{initialValues:{}},setup(C){const r=C,S=q({port:G().int().min(1024,"Port must be at least 1024").max(65535,"Port must be at most 65535"),swagger:le().default(!1)}),w=te(),{mutate:V,isPending:P}=be(),o=se({validationSchema:de(S),initialValues:r.initialValues}).handleSubmit(x=>{V(x,{onSuccess:()=>{w.setQueryData([ce],x),M.success("HTTP configuration updated successfully!")},onError:()=>{M.error("Failed to update HTTP configuration")}})});return(x,f)=>(u(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:f[0]||(f[0]=(...k)=>e(o)&&e(o)(...k))},[f[4]||(f[4]=d("h3",{class:"pb-2 text-lg font-medium border-b"}," HTTP Configuration ",-1)),l(e(_),{name:"port"},{default:a(({field:k})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>f[1]||(f[1]=[s("Port")])),_:1,__:[1]}),l(e(c),null,{default:a(()=>[l(e(U),{modelValue:k.value,"onUpdate:modelValue":E=>k.value=E,type:"number",placeholder:"Enter port number",disabled:e(P),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"swagger"},{default:a(({value:k,handleChange:E})=>[l(e(p),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[d("div",fl,[l(e(b),null,{default:a(()=>f[2]||(f[2]=[s("Enable Swagger")])),_:1,__:[2]})]),l(e(c),null,{default:a(()=>[l(e(ee),{"model-value":k,disabled:e(P),"aria-readonly":"","onUpdate:modelValue":E},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),d("div",null,[l(e(z),{type:"submit",disabled:e(P)},{default:a(()=>[e(P)?(u(),N(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),f[3]||(f[3]=s(" Save "))]),_:1,__:[3]},8,["disabled"])])],32))}}),_l={key:0,class:"flex items-center justify-center h-full"},pl=B({__name:"HTTPConfigTab",setup(C){const{data:r,isPending:S}=ge();return(w,V)=>(u(),T(j,null,[e(S)?(u(),T("div",_l,[l(e(W),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(r)?(u(),N(ml,{key:1,"initial-values":e(r)},null,8,["initial-values"])):$("",!0)],64))}}),bl={class:"space-y-0.5"},cl={class:"space-y-0.5"},gl=B({__name:"WifiConfigForm",props:{initialValues:{}},setup(C){const r=C,S=/^[\w\s\-.]*$/,w=/^[\x21-\x7E]*$/,V=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})$/,P=q({ap:q({enable:le(),ssid:Q().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(S,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:Q().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(w,"Password can only contain printable characters"),ip:Q().min(1,"IP address is required").regex(V,"Invalid IPv4 address format")}),sta:q({enable:le(),ssid:Q().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(S,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:Q().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(w,"Password can only contain printable characters")})}).superRefine((E,i)=>{(E.ap.enable&&E.sta.enable||!E.ap.enable&&!E.sta.enable)&&(i.addIssue({code:ae.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["ap.enable"]}),i.addIssue({code:ae.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["sta.enable"]}))}),v=te(),{mutate:o,isPending:x}=ye(),k=se({validationSchema:de(P),initialValues:r.initialValues}).handleSubmit(E=>{o(E,{onSuccess:()=>{v.setQueryData([ve],E),M.success("WiFi configuration updated successfully!")},onError:()=>{M.error("Failed to update WiFi configuration")}})});return(E,i)=>(u(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:i[0]||(i[0]=(...g)=>e(k)&&e(k)(...g))},[i[9]||(i[9]=d("h3",{class:"pb-2 text-lg font-medium border-b"}," AP Configuration ",-1)),l(e(_),{type:"checkbox",name:"ap.enable"},{default:a(({value:g,handleChange:t})=>[l(e(p),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[d("div",bl,[l(e(b),null,{default:a(()=>i[1]||(i[1]=[s("Enable AP")])),_:1,__:[1]})]),l(e(c),null,{default:a(()=>[l(e(ee),{"model-value":g,disabled:e(x),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(y))]),_:1}),l(e(_),{name:"ap.ssid"},{default:a(({componentField:g})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>i[2]||(i[2]=[s("SSID")])),_:1,__:[2]}),l(e(c),null,{default:a(()=>[l(e(U),I(g,{placeholder:"Enter SSID",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"ap.password"},{default:a(({componentField:g})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>i[3]||(i[3]=[s("Password")])),_:1,__:[3]}),l(e(c),null,{default:a(()=>[l(e(ue),I(g,{placeholder:"Enter password",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"ap.ip"},{default:a(({componentField:g})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>i[4]||(i[4]=[s("IP Address")])),_:1,__:[4]}),l(e(c),null,{default:a(()=>[l(e(U),I(g,{placeholder:"Enter IP address",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1}),i[10]||(i[10]=d("h3",{class:"pb-2 text-lg font-medium border-b"}," STA Configuration ",-1)),l(e(_),{type:"checkbox",name:"sta.enable"},{default:a(({value:g,handleChange:t})=>[l(e(p),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[d("div",cl,[l(e(b),null,{default:a(()=>i[5]||(i[5]=[s("Enable STA")])),_:1,__:[5]})]),l(e(c),null,{default:a(()=>[l(e(ee),{"model-value":g,disabled:e(x),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(y))]),_:1}),l(e(_),{name:"sta.ssid"},{default:a(({componentField:g})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>i[6]||(i[6]=[s("SSID")])),_:1,__:[6]}),l(e(c),null,{default:a(()=>[l(e(U),I(g,{placeholder:"Enter SSID",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1}),l(e(_),{name:"sta.password"},{default:a(({componentField:g})=>[l(e(p),null,{default:a(()=>[l(e(b),null,{default:a(()=>i[7]||(i[7]=[s("Password")])),_:1,__:[7]}),l(e(c),null,{default:a(()=>[l(e(ue),I(g,{placeholder:"Enter password",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(y))]),_:2},1024)]),_:1}),d("div",null,[l(e(z),{type:"submit",disabled:e(x)},{default:a(()=>[e(x)?(u(),N(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),i[8]||(i[8]=s(" Save "))]),_:1,__:[8]},8,["disabled"])])],32))}}),yl={key:0,class:"flex items-center justify-center h-full"},vl=B({__name:"WifiConfigTab",setup(C){const{data:r,isPending:S}=Se();return(w,V)=>(u(),T(j,null,[e(S)?(u(),T("div",yl,[l(e(W),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(r)?(u(),N(gl,{key:1,"initial-values":e(r)},null,8,["initial-values"])):$("",!0)],64))}}),Sl={class:"text-sm text-muted-foreground"},Al=B({__name:"SettingsView",setup(C){const r=$e(),S=Ne(),w=r.query.tab??"hardware";function V(P){S.replace({query:{tab:P}})}return(P,v)=>{const o=Ie("RouterLink");return u(),N(De,null,{default:a(()=>[d("div",null,[v[2]||(v[2]=d("h1",{class:"text-xl font-semibold tracking-tight"}," Settings ",-1)),d("p",Sl,[v[1]||(v[1]=s(" Configure your robot's settings ")),l(o,{to:"/reboot",class:"text-blue-500"},{default:a(()=>v[0]||(v[0]=[s(" (Reboot to apply changes) ")])),_:1,__:[0]})])]),l(e(Fe),{"default-value":e(w),"onUpdate:modelValue":V},{default:a(()=>[l(e(he),null,{default:a(()=>[l(e(J),{value:"hardware"},{default:a(()=>v[3]||(v[3]=[s(" Hardware ")])),_:1,__:[3]}),l(e(J),{value:"cloud"},{default:a(()=>v[4]||(v[4]=[s(" Cloud ")])),_:1,__:[4]}),l(e(J),{value:"http"},{default:a(()=>v[5]||(v[5]=[s(" HTTP ")])),_:1,__:[5]}),l(e(J),{value:"wifi"},{default:a(()=>v[6]||(v[6]=[s(" WiFi ")])),_:1,__:[6]})]),_:1}),l(e(X),{value:"hardware"},{default:a(()=>[l(rl)]),_:1}),l(e(X),{value:"cloud"},{default:a(()=>[l(Me)]),_:1}),l(e(X),{value:"http"},{default:a(()=>[l(pl)]),_:1}),l(e(X),{value:"wifi"},{default:a(()=>[l(vl)]),_:1})]),_:1},8,["default-value"])]),_:1})}}});export{Al as default};
