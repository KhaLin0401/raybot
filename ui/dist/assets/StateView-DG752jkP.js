import{i as R,u as A,_ as N,L as V}from"./http-2Rt6Aht2.js";import{_ as r,a as p}from"./CardContent.vuevuetypescriptsetuptruelang-B9vBnSlb.js";import{_ as m,a as f}from"./CardTitle.vuevuetypescriptsetuptruelang-BPQSvs5f.js";import{C as _,_ as $,a as k,b as S,c as B,d as Y,e as E}from"./SelectValue.vuevuetypescriptsetuptruelang-DZw8K-mo.js";import{f as g}from"./date-uxVFw4zM.js";import{d as F,r as T,c as j,w as o,e as v,D as b,b as s,F as t,f as n,z as a,N as I,H as O,K as P,y as d,G as u}from"./index-C4oeAQMU.js";import"./createLucideIcon-BjEu_dWq.js";import"./PopperContent-w-YtvCnY.js";const q={getRobotState(i){return R.get("/robot-state",i)}};function H(i){return A({queryKey:["robotState"],queryFn:()=>q.getRobotState(i==null?void 0:i.axiosOpts),refetchInterval:i==null?void 0:i.refetchInterval})}const Q={key:0,class:"flex flex-col items-center justify-center gap-4 pt-20"},z={class:"flex items-center gap-4"},K={key:1,class:"flex flex-col items-center justify-center gap-4 pt-20"},G={class:"space-y-2 text-center"},U={class:"text-sm text-muted-foreground"},J={key:2,class:"flex flex-col items-center justify-center gap-4 pt-20"},W={key:3,class:"flex flex-col w-full"},X={class:"flex items-center justify-between mb-6"},Z={class:"flex items-center gap-2"},h={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},tt={class:"mx-auto space-x-2"},st={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},et={class:"text-green-600"},lt={class:"mx-auto space-x-2"},nt={class:"flex flex-col gap-2"},ot={class:"mx-auto space-x-2"},at={class:"flex flex-col gap-2"},dt={class:"mx-auto space-x-2"},rt={class:"grid grid-rows-1 gap-2"},ut={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},it={class:"mx-auto space-x-2"},pt={class:"grid grid-rows-1 gap-2"},mt={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},ft={class:"mx-auto space-x-2"},gt={class:"grid grid-rows-2 gap-2"},xt={class:"mx-auto space-x-2"},ct={class:"grid grid-rows-1 gap-2"},vt={class:"mx-auto space-x-2"},bt={class:"grid grid-rows-1 gap-2"},yt={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},_t={class:"mx-auto space-x-2"},St={class:"grid grid-rows-1 gap-2"},Dt=1e3,$t=F({__name:"StateView",setup(i){const y=T(Dt),{data:l,isPending:D,isError:M,error:w}=H({axiosOpts:{doNotShowLoading:!0},refetchInterval:y});function C(c){return c<20?"text-red-5500":c<40?"text-orange-500":c<60?"text-yellow-500":"text-green-500"}function L(c){return c<15?"text-blue-500":c<35?"text-green-500":"text-red-500"}return(c,e)=>(v(),j(N,null,{default:o(()=>[s(D)?(v(),b("div",Q,[t("div",z,[n(s(V),{class:"w-8 h-8 animate-spin text-muted-foreground"})]),e[1]||(e[1]=t("p",{class:"text-lg text-muted-foreground"}," Loading state... ",-1))])):s(M)?(v(),b("div",K,[n(s(r),{class:"flex flex-col items-center gap-4 p-6 text-destructive"},{default:o(()=>{var x;return[n(s(_),{class:"w-8 h-8"}),t("div",G,[e[2]||(e[2]=t("h2",{class:"text-lg font-semibold"}," Failed to load state ",-1)),t("p",U,a(((x=s(w))==null?void 0:x.message)||"An unexpected error occurred"),1)])]}),_:1})])):s(l)?(v(),b("div",W,[t("div",X,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-xl font-semibold"}," Robot state "),t("p",{class:"text-sm text-muted-foreground"}," The current state of the robot is continuously updated. ")],-1)),t("div",Z,[e[4]||(e[4]=t("span",{class:"whitespace-nowrap"},"Refresh rate: ",-1)),n(s($),{modelValue:s(y),"onUpdate:modelValue":e[0]||(e[0]=x=>I(y)?y.value=x:null)},{default:o(()=>[n(s(k),null,{default:o(()=>[n(s(S),{class:"w-5"})]),_:1}),n(s(B),null,{default:o(()=>[n(s(Y),null,{default:o(()=>[(v(),b(O,null,P([1e3,3e3,5e3,1e4],x=>n(s(E),{key:x,value:x},{default:o(()=>[n(s(S),null,{default:o(()=>[d(a(x/1e3),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e[5]||(e[5]=t("span",null,"seconds",-1))])]),t("div",h,[n(s(r),{class:"col-span-1 sm:col-span-2"},{default:o(()=>[n(s(m),null,{default:o(()=>[n(s(f),null,{default:o(()=>e[7]||(e[7]=[d("Battery State")])),_:1})]),_:1}),n(s(p),null,{default:o(()=>[t("div",tt,[t("div",st,[t("p",null,[e[8]||(e[8]=t("span",{class:"font-medium"},"Current: ",-1)),d(a(s(l).battery.current)+" mA",1)]),t("p",null,[e[9]||(e[9]=t("span",{class:"font-medium"},"Battery level: ",-1)),t("span",{class:u(C(s(l).battery.percent))},a(s(l).battery.percent)+"%",3)]),t("p",null,[e[10]||(e[10]=t("span",{class:"font-medium"},"Voltage: ",-1)),d(a(s(l).battery.voltage)+" V",1)]),t("p",null,[e[11]||(e[11]=t("span",{class:"font-medium"},"Health: ",-1)),d(a(s(l).battery.health)+"%",1)]),t("p",null,[e[12]||(e[12]=t("span",{class:"font-medium"},"Cell voltages: ",-1)),t("span",null,a(s(l).battery.cellVoltages.join(", "))+" V",1)]),t("p",null,[e[13]||(e[13]=t("span",{class:"font-medium"},"Fault status: ",-1)),t("span",et,a(s(l).battery.fault),1)]),t("p",null,[e[14]||(e[14]=t("span",{class:"font-medium"},"Temperature: ",-1)),t("span",{class:u(L(s(l).battery.temp))},a(s(l).battery.temp)+"Â°C",3)]),t("p",null,[e[15]||(e[15]=t("span",{class:"font-medium"},"Last updated: ",-1)),d(a(s(g)(s(l).battery.updatedAt)),1)])])])]),_:1})]),_:1}),n(s(r),null,{default:o(()=>[n(s(m),null,{default:o(()=>[n(s(f),null,{default:o(()=>e[16]||(e[16]=[d("Charge State")])),_:1})]),_:1}),n(s(p),null,{default:o(()=>[t("div",lt,[t("div",nt,[t("p",null,[e[17]||(e[17]=t("span",{class:"font-medium"},"Current limit: ",-1)),d(a(s(l).charge.currentLimit)+" mA ",1)]),t("p",null,[e[18]||(e[18]=t("span",{class:"font-medium"},"Charging: ",-1)),t("span",{class:u(s(l).charge.enabled?"text-green-500":"text-red-500")},a(s(l).charge.enabled?"Yes":"No"),3)]),t("p",null,[e[19]||(e[19]=t("span",{class:"font-medium"},"Last updated: ",-1)),d(" "+a(s(g)(s(l).charge.updatedAt)),1)])])])]),_:1})]),_:1}),n(s(r),null,{default:o(()=>[n(s(m),null,{default:o(()=>[n(s(f),null,{default:o(()=>e[20]||(e[20]=[d("Discharge State")])),_:1})]),_:1}),n(s(p),null,{default:o(()=>[t("div",ot,[t("div",at,[t("p",null,[e[21]||(e[21]=t("span",{class:"font-medium"},"Current limit: ",-1)),d(a(s(l).discharge.currentLimit)+" mA ",1)]),t("p",null,[e[22]||(e[22]=t("span",{class:"font-medium"},"Discharging: ",-1)),t("span",{class:u(s(l).discharge.enabled?"text-green-500":"text-red-500")},a(s(l).discharge.enabled?"Yes":"No"),3)]),t("p",null,[e[23]||(e[23]=t("span",{class:"font-medium"},"Last updated: ",-1)),d(a(s(g)(s(l).discharge.updatedAt)),1)])])])]),_:1})]),_:1}),n(s(r),null,{default:o(()=>[n(s(m),null,{default:o(()=>[n(s(f),null,{default:o(()=>e[24]||(e[24]=[d("Lift Motor State")])),_:1})]),_:1}),n(s(p),null,{default:o(()=>[t("div",dt,[t("div",rt,[t("div",ut,[t("p",null,[e[25]||(e[25]=t("span",{class:"font-medium"},"Current: ",-1)),d(a(s(l).liftMotor.currentPosition)+" cm",1)]),t("p",null,[e[26]||(e[26]=t("span",{class:"font-medium"},"Target: ",-1)),d(a(s(l).liftMotor.targetPosition)+" cm",1)]),t("p",null,[e[27]||(e[27]=t("span",{class:"font-medium"},"Running: ",-1)),t("span",{class:u(s(l).liftMotor.isRunning?"text-green-500":"text-red-500")},a(s(l).liftMotor.isRunning?"Yes":"No"),3)]),t("p",null,[e[28]||(e[28]=t("span",{class:"font-medium"},"Enabled: ",-1)),t("span",{class:u(s(l).liftMotor.enabled?"text-green-500":"text-red-500")},a(s(l).liftMotor.enabled?"Yes":"No"),3)])]),t("p",null,[e[29]||(e[29]=t("span",{class:"font-medium"},"Last updated:",-1)),d(" "+a(s(g)(s(l).liftMotor.updatedAt)),1)])])])]),_:1})]),_:1}),n(s(r),null,{default:o(()=>[n(s(m),null,{default:o(()=>[n(s(f),null,{default:o(()=>e[30]||(e[30]=[d("Drive Motor State")])),_:1})]),_:1}),n(s(p),null,{default:o(()=>[t("div",it,[t("div",pt,[t("p",null,[e[31]||(e[31]=t("span",{class:"font-medium"},"Direction: ",-1)),d(a(s(l).driveMotor.direction),1)]),t("p",null,[e[32]||(e[32]=t("span",{class:"font-medium"},"Speed: ",-1)),d(a(s(l).driveMotor.speed)+" %",1)]),t("div",mt,[t("p",null,[e[33]||(e[33]=t("span",{class:"font-medium"},"Running: ",-1)),t("span",{class:u(s(l).driveMotor.isRunning?"text-green-500":"text-red-500")},a(s(l).driveMotor.isRunning?"Yes":"No"),3)]),t("p",null,[e[34]||(e[34]=t("span",{class:"font-medium"},"Enabled: ",-1)),t("span",{class:u(s(l).driveMotor.enabled?"text-green-500":"text-red-500")},a(s(l).driveMotor.enabled?"Yes":"No"),3)])]),t("p",null,[e[35]||(e[35]=t("span",{class:"font-medium"},"Last updated: ",-1)),d(a(s(g)(s(l).driveMotor.updatedAt)),1)])])])]),_:1})]),_:1}),n(s(r),null,{default:o(()=>[n(s(m),null,{default:o(()=>[n(s(f),null,{default:o(()=>e[36]||(e[36]=[d("Distance Sensor State")])),_:1})]),_:1}),n(s(p),null,{default:o(()=>[t("div",ft,[t("div",gt,[t("p",null,[e[37]||(e[37]=t("span",{class:"font-medium"},"Front: ",-1)),d(a(s(l).distanceSensor.frontDistance)+" cm",1)]),t("p",null,[e[38]||(e[38]=t("span",{class:"font-medium"},"Back: ",-1)),d(a(s(l).distanceSensor.backDistance)+" cm",1)]),t("p",null,[e[39]||(e[39]=t("span",{class:"font-medium"},"Down: ",-1)),d(a(s(l).distanceSensor.downDistance)+" cm",1)]),t("p",null,[e[40]||(e[40]=t("span",{class:"font-medium"},"Last updated: ",-1)),d(a(s(g)(s(l).distanceSensor.updatedAt)),1)])])])]),_:1})]),_:1}),n(s(r),null,{default:o(()=>[n(s(m),null,{default:o(()=>[n(s(f),null,{default:o(()=>e[41]||(e[41]=[d("Location State")])),_:1})]),_:1}),n(s(p),null,{default:o(()=>[t("div",xt,[t("div",ct,[t("p",null,[e[42]||(e[42]=t("span",{class:"font-medium"},"Current location: ",-1)),d(a(s(l).location.currentLocation),1)]),t("p",null,[e[43]||(e[43]=t("span",{class:"font-medium"},"Last updated:",-1)),d(" "+a(s(g)(s(l).location.updatedAt)),1)])])])]),_:1})]),_:1}),n(s(r),null,{default:o(()=>[n(s(m),null,{default:o(()=>[n(s(f),null,{default:o(()=>e[44]||(e[44]=[d("Cargo Door Motor State")])),_:1})]),_:1}),n(s(p),null,{default:o(()=>[t("div",vt,[t("div",bt,[t("p",null,[e[45]||(e[45]=t("span",{class:"font-medium"},"Direction: ",-1)),d(a(s(l).cargoDoorMotor.direction),1)]),t("p",null,[e[46]||(e[46]=t("span",{class:"font-medium"},"Speed: ",-1)),d(a(s(l).cargoDoorMotor.speed)+" %",1)]),t("div",yt,[t("p",null,[e[47]||(e[47]=t("span",{class:"font-medium"},"Running: ",-1)),t("span",{class:u(s(l).cargoDoorMotor.isRunning?"text-green-500":"text-red-500")},a(s(l).cargoDoorMotor.isRunning?"Yes":"No"),3)]),t("p",null,[e[48]||(e[48]=t("span",{class:"font-medium"},"Enabled: ",-1)),t("span",{class:u(s(l).cargoDoorMotor.enabled?"text-green-500":"text-red-500")},a(s(l).cargoDoorMotor.enabled?"Yes":"No"),3)])]),t("p",null,[e[49]||(e[49]=t("span",{class:"font-medium"},"Last updated:",-1)),d(" "+a(s(g)(s(l).cargoDoorMotor.updatedAt)),1)])])])]),_:1})]),_:1}),n(s(r),null,{default:o(()=>[n(s(m),null,{default:o(()=>[n(s(f),null,{default:o(()=>e[50]||(e[50]=[d("Cargo State")])),_:1})]),_:1}),n(s(p),null,{default:o(()=>[t("div",_t,[t("div",St,[t("p",null,[e[51]||(e[51]=t("span",{class:"font-medium"},"Door Open: ",-1)),t("span",{class:u(s(l).cargo.isOpen?"text-green-500":"text-red-500")},a(s(l).cargo.isOpen?"Yes":"No"),3)]),t("p",null,[e[52]||(e[52]=t("span",{class:"font-medium"},"QR Code: ",-1)),d(a(s(l).cargo.qrCode||"None"),1)]),t("p",null,[e[53]||(e[53]=t("span",{class:"font-medium"},"Bottom Distance: ",-1)),d(a(s(l).cargo.bottomDistance)+" cm",1)]),t("p",null,[e[54]||(e[54]=t("span",{class:"font-medium"},"Last updated:",-1)),d(" "+a(s(g)(s(l).cargo.updatedAt)),1)])])])]),_:1})]),_:1})])])):(v(),b("div",J,[n(s(r),{class:"flex flex-col items-center gap-4 p-6"},{default:o(()=>[n(s(_),{class:"w-8 h-8 text-muted-foreground"}),e[3]||(e[3]=t("div",{class:"space-y-2 text-center"},[t("h2",{class:"text-lg font-semibold"}," Robot state not found "),t("p",{class:"text-sm text-muted-foreground"}," The robot state appears to be empty ")],-1))]),_:1})]))]),_:1}))}});export{$t as default};
