import{u as ie,C as re,_ as G,a as fe,b as me,H as _e,c as pe,d as be,e as ce,f as ge,g as ye,W as ve,h as xe}from"./Switch.vuevuetypescriptsetuptruelang-BDbZufDR.js";import{c as oe,a as Se,e as te,i as we,u as Ce}from"./http-CPez5q0L.js";import{c as h,o as q,s as Q,g as K,f as se,F as r,a as f,b as m,_,d as g,t as de,n as z,u as ne,h as Pe,l as Y,Z as ae}from"./FormMessage.vuevuetypescriptsetuptruelang-2WLUJ3FE.js";import{_ as J}from"./index-DC5_K_qh.js";/* empty css                                                              */import{d as B,P as ke,Q as Ee,r as Te,p as T,o,g as l,u as e,q as Ve,w as a,c as N,l as d,v as Z,I as M,s,m as A,D as I,F as j,E as X,i as H,j as O,N as $e,G as Ie,O as Ae}from"./index-D9BW6q87.js";import{_ as Ne}from"./plugin-vueexport-helper-DlAUqK2U.js";import{L as W,_ as De}from"./PageContainer.vuevuetypescriptsetuptruelang-DSO76iNL.js";import{_ as D,a as U,b as F,c as R,d as c}from"./SelectValue.vuevuetypescriptsetuptruelang-BQcn1Jok.js";import{_ as Ue,a as ee,b as le,c as Fe}from"./TabsTrigger.vuevuetypescriptsetuptruelang-SltLkc2P.js";import"./check-Be2l-sDZ.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=oe("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=oe("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Be={class:"relative"},qe={class:"sr-only"},He=B({__name:"PasswordInput",props:ke({disabled:{type:Boolean},class:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(C){const p=C,x=Ee(C,"modelValue"),w=Te(!1);function V(){w.value=!w.value}return(P,v)=>(o(),T("div",Be,[l(e(h),{modelValue:x.value,"onUpdate:modelValue":v[0]||(v[0]=n=>x.value=n),type:e(w)?"text":"password",class:Ve(e(Se)("pr-10 hide-password-toggle",p.class))},null,8,["modelValue","type","class"]),l(e(J),{type:"button",variant:"ghost",size:"sm",class:"absolute top-0 right-0 h-full px-3 py-2 hover:bg-transparent",onClick:V},{default:a(()=>[e(w)&&!p.disabled?(o(),N(e(he),{key:0,class:"w-4 h-4","aria-hidden":"true"})):(o(),N(e(Re),{key:1,class:"w-4 h-4","aria-hidden":"true"})),d("span",qe,Z(e(w)?"Hide password":"Show password"),1)]),_:1})]))}}),ue=Ne(He,[["__scopeId","data-v-e2be5266"]]),Oe={class:"space-y-0.5"},Qe=B({__name:"CloudConfigForm",props:{initialValues:{}},setup(C){const p=C,x=q({enable:K().default(!1),address:Q().min(1,"Address is required"),token:Q().min(1,"Token is required")}),w=te(),{mutate:V,isPending:P}=ie(),n=se({validationSchema:de(x),initialValues:p.initialValues}).handleSubmit(S=>{V(S,{onSuccess:()=>{w.setQueryData([re],S),M.success("Cloud configuration updated successfully!")},onError:()=>{M.error("Failed to update cloud configuration")}})});return(S,b)=>(o(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:b[0]||(b[0]=(...k)=>e(n)&&e(n)(...k))},[b[5]||(b[5]=d("h3",{class:"pb-2 text-lg font-medium border-b"}," Cloud Configuration ",-1)),l(e(r),{name:"address"},{default:a(({componentField:k})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>b[1]||(b[1]=[s("Cloud Address")])),_:1,__:[1]}),l(e(_),null,{default:a(()=>[l(e(h),A(k,{type:"url",placeholder:"https://cloud.example.com",disabled:e(P)}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"token"},{default:a(({componentField:k})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>b[2]||(b[2]=[s("Auth token")])),_:1,__:[2]}),l(e(_),null,{default:a(()=>[l(e(ue),A(k,{placeholder:"Enter your auth token",disabled:e(P)}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"enable"},{default:a(({value:k,handleChange:E})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[d("div",Oe,[l(e(m),null,{default:a(()=>b[3]||(b[3]=[s("Enable Cloud Service")])),_:1,__:[3]})]),l(e(_),null,{default:a(()=>[l(e(G),{"model-value":k,disabled:e(P),"aria-readonly":"","onUpdate:modelValue":E},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),d("div",null,[l(e(J),{type:"submit",disabled:e(P)},{default:a(()=>[e(P)?(o(),N(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):I("",!0),b[4]||(b[4]=s(" Save "))]),_:1,__:[4]},8,["disabled"])])],32))}}),je={key:0,class:"flex items-center justify-center h-full"},Me=B({__name:"CloudConfigTab",setup(C){const{data:p,isPending:x}=fe();return(w,V)=>(o(),T(j,null,[e(x)?(o(),T("div",je,[l(e(W),{class:"w-4 h-4 animate-spin"})])):I("",!0),e(p)?(o(),N(Qe,{key:1,"initial-values":e(p)},null,8,["initial-values"])):I("",!0)],64))}}),We={listAvailableSerialPorts:C=>we.get("/peripherals/serials",C)};function Le(C){return Ce({queryKey:["serial-ports"],queryFn:()=>We.listAvailableSerialPorts(C),select:p=>p.items})}const Ye={class:"grid grid-cols-1 gap-8"},Ge={class:"space-y-3"},Ke={class:"px-4 space-y-6"},ze={class:"space-y-6"},Ze={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Je={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},Xe={class:"space-y-6"},el={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ll={class:"space-y-6"},al={class:"space-y-3"},tl={class:"px-4 space-y-6"},sl={class:"space-y-6"},dl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ul={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},nl={class:"space-y-6"},ol={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},il={class:"space-y-6"},rl=B({__name:"HardwareConfigForm",props:{initialValues:{}},setup(C){const p=C,x=[9600,19200,38400,57600,115200],w=q({port:Q().min(1,"Port is required"),baudRate:z().int().positive("Baud rate must be positive"),parity:Pe(["NONE","EVEN","ODD"]).default("NONE"),dataBits:ne([Y(5),Y(6),Y(7),Y(8)]).default(8),stopBits:ne([Y(1),Y(1.5),Y(2)]).default(1),readTimeout:z().int().nonnegative("Read timeout must be non-negative")}),V=q({esp:q({serial:w,enableAck:K().default(!1),commandAckTimeout:z().int().nonnegative("Command ack timeout must be non-negative")}),pic:q({serial:w,enableAck:K().default(!1),commandAckTimeout:z().int().nonnegative("Command ack timeout must be non-negative")})}).superRefine((y,t)=>{y.esp.serial.port===y.pic.serial.port&&(t.addIssue({code:ae.custom,message:"ESP and PIC cannot use the same port",path:["esp.serial.port"]}),t.addIssue({code:ae.custom,message:"ESP and PIC cannot use the same port",path:["pic.serial.port"]}))}),P=te(),{mutate:v,isPending:n}=me(),{data:S,refetch:b}=Le({doNotShowLoading:!0}),E=se({validationSchema:de(V),initialValues:p.initialValues}).handleSubmit(y=>{v(y,{onSuccess:()=>{P.setQueryData([_e],y),M.success("Hardware configuration updated successfully!")},onError:()=>{M.error("Failed to update hardware configuration")}})});function i(y){y&&b()}return(y,t)=>(o(),T("form",{class:"flex flex-col w-full space-y-6",onSubmit:t[0]||(t[0]=(...u)=>e(E)&&e(E)(...u))},[d("div",Ye,[d("div",Ge,[t[22]||(t[22]=d("div",null,[d("h4",{class:"text-lg font-medium tracking-tight"}," ESP Controller "),d("p",{class:"text-sm text-muted-foreground"}," Configure the ESP controller ")],-1)),d("div",Ke,[d("div",ze,[t[18]||(t[18]=d("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),d("div",Ze,[l(e(r),{name:"esp.serial.port"},{default:a(({componentField:u,value:$})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[1]||(t[1]=[s("Port")])),_:1,__:[1]}),l(e(D),A(u,{required:"","onUpdate:open":i}),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(U),{disabled:e(n)},{default:a(()=>[l(e(F),{placeholder:$},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(R),null,{default:a(()=>[l(e(c),{value:"NONEESP"},{default:a(()=>t[2]||(t[2]=[s(" None ")])),_:1,__:[2]}),e(S)?(o(!0),T(j,{key:0},X(e(S),L=>(o(),N(e(c),{key:L.port,value:L.port},{default:a(()=>[s(Z(L.port),1)]),_:2},1032,["value"]))),128)):I("",!0)]),_:1})]),_:2},1040),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"esp.serial.readTimeout"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[3]||(t[3]=[s("Read Timeout (s)")])),_:1,__:[3]}),l(e(_),null,{default:a(()=>[l(e(h),A(u,{type:"number",disabled:e(n),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1})]),d("div",Je,[l(e(r),{name:"esp.serial.baudRate"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[4]||(t[4]=[s("Baud Rate")])),_:1,__:[4]}),l(e(D),H(O(u)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(U),{disabled:e(n)},{default:a(()=>[l(e(F),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[(o(),T(j,null,X(x,$=>l(e(c),{key:$,value:$},{default:a(()=>[s(Z($),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"esp.serial.parity"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[5]||(t[5]=[s("Parity")])),_:1,__:[5]}),l(e(D),H(O(u)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(U),{disabled:e(n)},{default:a(()=>[l(e(F),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(c),{value:"NONE"},{default:a(()=>t[6]||(t[6]=[s(" None ")])),_:1,__:[6]}),l(e(c),{value:"EVEN"},{default:a(()=>t[7]||(t[7]=[s(" Even ")])),_:1,__:[7]}),l(e(c),{value:"ODD"},{default:a(()=>t[8]||(t[8]=[s(" Odd ")])),_:1,__:[8]})]),_:1})]),_:2},1040),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"esp.serial.dataBits"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[9]||(t[9]=[s("Data Bits")])),_:1,__:[9]}),l(e(D),H(O(u)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(U),{disabled:e(n)},{default:a(()=>[l(e(F),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(c),{value:5},{default:a(()=>t[10]||(t[10]=[s(" 5 ")])),_:1,__:[10]}),l(e(c),{value:6},{default:a(()=>t[11]||(t[11]=[s(" 6 ")])),_:1,__:[11]}),l(e(c),{value:7},{default:a(()=>t[12]||(t[12]=[s(" 7 ")])),_:1,__:[12]}),l(e(c),{value:8},{default:a(()=>t[13]||(t[13]=[s(" 8 ")])),_:1,__:[13]})]),_:1})]),_:2},1040),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"esp.serial.stopBits"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[14]||(t[14]=[s("Stop Bits")])),_:1,__:[14]}),l(e(D),H(O(u)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(U),{disabled:e(n)},{default:a(()=>[l(e(F),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(c),{value:1},{default:a(()=>t[15]||(t[15]=[s(" 1 ")])),_:1,__:[15]}),l(e(c),{value:1.5},{default:a(()=>t[16]||(t[16]=[s(" 1.5 ")])),_:1,__:[16]}),l(e(c),{value:2},{default:a(()=>t[17]||(t[17]=[s(" 2 ")])),_:1,__:[17]})]),_:1})]),_:2},1040),l(e(g))]),_:2},1024)]),_:1})])]),d("div",Xe,[t[21]||(t[21]=d("h4",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),d("div",el,[d("div",ll,[l(e(r),{name:"esp.enableAck"},{default:a(({value:u,handleChange:$})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[l(e(m),null,{default:a(()=>t[19]||(t[19]=[s("Enable Ack")])),_:1,__:[19]}),l(e(_),null,{default:a(()=>[l(e(G),{"model-value":u,disabled:e(n),"aria-readonly":"","onUpdate:modelValue":$},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"esp.commandAckTimeout"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[20]||(t[20]=[s("Ack Timeout (ms)")])),_:1,__:[20]}),l(e(_),null,{default:a(()=>[l(e(h),A(u,{type:"number",disabled:e(n),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1})])])])])]),d("div",al,[t[44]||(t[44]=d("div",null,[d("h4",{class:"text-lg font-medium tracking-tight"}," PIC Controller "),d("p",{class:"text-sm text-muted-foreground"}," Configure the PIC controller ")],-1)),d("div",tl,[d("div",sl,[t[40]||(t[40]=d("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),d("div",dl,[l(e(r),{name:"pic.serial.port"},{default:a(({componentField:u,value:$})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[23]||(t[23]=[s("Port")])),_:1,__:[23]}),l(e(D),A(u,{required:"","onUpdate:open":i}),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(U),{disabled:e(n)},{default:a(()=>[l(e(F),{placeholder:$},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(R),null,{default:a(()=>[l(e(c),{value:"NONEPIC"},{default:a(()=>t[24]||(t[24]=[s(" None ")])),_:1,__:[24]}),e(S)?(o(!0),T(j,{key:0},X(e(S),L=>(o(),N(e(c),{key:L.port,value:L.port},{default:a(()=>[s(Z(L.port),1)]),_:2},1032,["value"]))),128)):I("",!0)]),_:1})]),_:2},1040),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"pic.serial.readTimeout"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[25]||(t[25]=[s("Read Timeout (s)")])),_:1,__:[25]}),l(e(_),null,{default:a(()=>[l(e(h),A(u,{type:"number",disabled:e(n),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1})]),d("div",ul,[l(e(r),{name:"pic.serial.baudRate"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[26]||(t[26]=[s("Baud Rate")])),_:1,__:[26]}),l(e(D),H(O(u)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(U),{disabled:e(n)},{default:a(()=>[l(e(F),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[(o(),T(j,null,X(x,$=>l(e(c),{key:$,value:$},{default:a(()=>[s(Z($),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"pic.serial.parity"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[27]||(t[27]=[s("Parity")])),_:1,__:[27]}),l(e(D),H(O(u)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(U),{disabled:e(n)},{default:a(()=>[l(e(F),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(c),{value:"NONE"},{default:a(()=>t[28]||(t[28]=[s(" None ")])),_:1,__:[28]}),l(e(c),{value:"EVEN"},{default:a(()=>t[29]||(t[29]=[s(" Even ")])),_:1,__:[29]}),l(e(c),{value:"ODD"},{default:a(()=>t[30]||(t[30]=[s(" Odd ")])),_:1,__:[30]})]),_:1})]),_:2},1040),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"pic.serial.dataBits"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[31]||(t[31]=[s("Data Bits")])),_:1,__:[31]}),l(e(D),H(O(u)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(U),{disabled:e(n)},{default:a(()=>[l(e(F),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(c),{value:5},{default:a(()=>t[32]||(t[32]=[s(" 5 ")])),_:1,__:[32]}),l(e(c),{value:6},{default:a(()=>t[33]||(t[33]=[s(" 6 ")])),_:1,__:[33]}),l(e(c),{value:7},{default:a(()=>t[34]||(t[34]=[s(" 7 ")])),_:1,__:[34]}),l(e(c),{value:8},{default:a(()=>t[35]||(t[35]=[s(" 8 ")])),_:1,__:[35]})]),_:1})]),_:2},1040),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"pic.serial.stopBits"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[36]||(t[36]=[s("Stop Bits")])),_:1,__:[36]}),l(e(D),H(O(u)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(U),{disabled:e(n)},{default:a(()=>[l(e(F),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(c),{value:1},{default:a(()=>t[37]||(t[37]=[s(" 1 ")])),_:1,__:[37]}),l(e(c),{value:1.5},{default:a(()=>t[38]||(t[38]=[s(" 1.5 ")])),_:1,__:[38]}),l(e(c),{value:2},{default:a(()=>t[39]||(t[39]=[s(" 2 ")])),_:1,__:[39]})]),_:1})]),_:2},1040),l(e(g))]),_:2},1024)]),_:1})])]),d("div",nl,[t[43]||(t[43]=d("h3",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),d("div",ol,[d("div",il,[l(e(r),{name:"pic.enableAck"},{default:a(({value:u,handleChange:$})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[l(e(m),null,{default:a(()=>t[41]||(t[41]=[s("Enable Ack")])),_:1,__:[41]}),l(e(_),null,{default:a(()=>[l(e(G),{"model-value":u,disabled:e(n),"aria-readonly":"","onUpdate:modelValue":$},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"pic.commandAckTimeout"},{default:a(({componentField:u})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[42]||(t[42]=[s("Ack Timeout (ms)")])),_:1,__:[42]}),l(e(_),null,{default:a(()=>[l(e(h),A(u,{type:"number",disabled:e(n),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1})])])])])])]),d("div",null,[l(e(J),{type:"submit",disabled:e(n)},{default:a(()=>[e(n)?(o(),N(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):I("",!0),t[45]||(t[45]=s(" Save "))]),_:1,__:[45]},8,["disabled"])])],32))}}),fl={key:0,class:"flex items-center justify-center h-full"},ml=B({__name:"HardwareConfigTab",setup(C){const{data:p,isPending:x}=pe();return(w,V)=>(o(),T(j,null,[e(x)?(o(),T("div",fl,[l(e(W),{class:"w-4 h-4 animate-spin"})])):I("",!0),e(p)?(o(),N(rl,{key:1,"initial-values":e(p)},null,8,["initial-values"])):I("",!0)],64))}}),_l={class:"space-y-0.5"},pl=B({__name:"HTTPConfigForm",props:{initialValues:{}},setup(C){const p=C,x=q({port:z().int().min(1024,"Port must be at least 1024").max(65535,"Port must be at most 65535"),swagger:K().default(!1)}),w=te(),{mutate:V,isPending:P}=be(),n=se({validationSchema:de(x),initialValues:p.initialValues}).handleSubmit(S=>{V(S,{onSuccess:()=>{w.setQueryData([ce],S),M.success("HTTP configuration updated successfully!")},onError:()=>{M.error("Failed to update HTTP configuration")}})});return(S,b)=>(o(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:b[0]||(b[0]=(...k)=>e(n)&&e(n)(...k))},[b[4]||(b[4]=d("h3",{class:"pb-2 text-lg font-medium border-b"}," HTTP Configuration ",-1)),l(e(r),{name:"port"},{default:a(({field:k})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>b[1]||(b[1]=[s("Port")])),_:1,__:[1]}),l(e(_),null,{default:a(()=>[l(e(h),{modelValue:k.value,"onUpdate:modelValue":E=>k.value=E,type:"number",placeholder:"Enter port number",disabled:e(P),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"swagger"},{default:a(({value:k,handleChange:E})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[d("div",_l,[l(e(m),null,{default:a(()=>b[2]||(b[2]=[s("Enable Swagger")])),_:1,__:[2]})]),l(e(_),null,{default:a(()=>[l(e(G),{"model-value":k,disabled:e(P),"aria-readonly":"","onUpdate:modelValue":E},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),d("div",null,[l(e(J),{type:"submit",disabled:e(P)},{default:a(()=>[e(P)?(o(),N(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):I("",!0),b[3]||(b[3]=s(" Save "))]),_:1,__:[3]},8,["disabled"])])],32))}}),bl={key:0,class:"flex items-center justify-center h-full"},cl=B({__name:"HTTPConfigTab",setup(C){const{data:p,isPending:x}=ge();return(w,V)=>(o(),T(j,null,[e(x)?(o(),T("div",bl,[l(e(W),{class:"w-4 h-4 animate-spin"})])):I("",!0),e(p)?(o(),N(pl,{key:1,"initial-values":e(p)},null,8,["initial-values"])):I("",!0)],64))}}),gl={class:"space-y-0.5"},yl={class:"space-y-0.5"},vl=B({__name:"WifiConfigForm",props:{initialValues:{}},setup(C){const p=C,x=/^[\w\s\-.]*$/,w=/^[\x21-\x7E]*$/,V=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})$/,P=q({ap:q({enable:K(),ssid:Q().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(x,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:Q().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(w,"Password can only contain printable characters"),ip:Q().min(1,"IP address is required").regex(V,"Invalid IPv4 address format")}),sta:q({enable:K(),ssid:Q().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(x,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:Q().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(w,"Password can only contain printable characters")})}).superRefine((E,i)=>{(E.ap.enable&&E.sta.enable||!E.ap.enable&&!E.sta.enable)&&(i.addIssue({code:ae.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["ap.enable"]}),i.addIssue({code:ae.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["sta.enable"]}))}),v=te(),{mutate:n,isPending:S}=ye(),k=se({validationSchema:de(P),initialValues:p.initialValues}).handleSubmit(E=>{n(E,{onSuccess:()=>{v.setQueryData([ve],E),M.success("WiFi configuration updated successfully!")},onError:()=>{M.error("Failed to update WiFi configuration")}})});return(E,i)=>(o(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:i[0]||(i[0]=(...y)=>e(k)&&e(k)(...y))},[i[9]||(i[9]=d("h3",{class:"pb-2 text-lg font-medium border-b"}," AP Configuration ",-1)),l(e(r),{type:"checkbox",name:"ap.enable"},{default:a(({value:y,handleChange:t})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[d("div",gl,[l(e(m),null,{default:a(()=>i[1]||(i[1]=[s("Enable AP")])),_:1,__:[1]})]),l(e(_),null,{default:a(()=>[l(e(G),{"model-value":y,disabled:e(S),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(g))]),_:1}),l(e(r),{name:"ap.ssid"},{default:a(({componentField:y})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>i[2]||(i[2]=[s("SSID")])),_:1,__:[2]}),l(e(_),null,{default:a(()=>[l(e(h),A(y,{placeholder:"Enter SSID",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"ap.password"},{default:a(({componentField:y})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>i[3]||(i[3]=[s("Password")])),_:1,__:[3]}),l(e(_),null,{default:a(()=>[l(e(ue),A(y,{placeholder:"Enter password",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"ap.ip"},{default:a(({componentField:y})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>i[4]||(i[4]=[s("IP Address")])),_:1,__:[4]}),l(e(_),null,{default:a(()=>[l(e(h),A(y,{placeholder:"Enter IP address",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1}),i[10]||(i[10]=d("h3",{class:"pb-2 text-lg font-medium border-b"}," STA Configuration ",-1)),l(e(r),{type:"checkbox",name:"sta.enable"},{default:a(({value:y,handleChange:t})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[d("div",yl,[l(e(m),null,{default:a(()=>i[5]||(i[5]=[s("Enable STA")])),_:1,__:[5]})]),l(e(_),null,{default:a(()=>[l(e(G),{"model-value":y,disabled:e(S),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(g))]),_:1}),l(e(r),{name:"sta.ssid"},{default:a(({componentField:y})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>i[6]||(i[6]=[s("SSID")])),_:1,__:[6]}),l(e(_),null,{default:a(()=>[l(e(h),A(y,{placeholder:"Enter SSID",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1}),l(e(r),{name:"sta.password"},{default:a(({componentField:y})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>i[7]||(i[7]=[s("Password")])),_:1,__:[7]}),l(e(_),null,{default:a(()=>[l(e(ue),A(y,{placeholder:"Enter password",disabled:e(S)}),null,16,["disabled"])]),_:2},1024),l(e(g))]),_:2},1024)]),_:1}),d("div",null,[l(e(J),{type:"submit",disabled:e(S)},{default:a(()=>[e(S)?(o(),N(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):I("",!0),i[8]||(i[8]=s(" Save "))]),_:1,__:[8]},8,["disabled"])])],32))}}),xl={key:0,class:"flex items-center justify-center h-full"},Sl=B({__name:"WifiConfigTab",setup(C){const{data:p,isPending:x}=xe();return(w,V)=>(o(),T(j,null,[e(x)?(o(),T("div",xl,[l(e(W),{class:"w-4 h-4 animate-spin"})])):I("",!0),e(p)?(o(),N(vl,{key:1,"initial-values":e(p)},null,8,["initial-values"])):I("",!0)],64))}}),wl={class:"text-sm text-muted-foreground"},Ul=B({__name:"SettingsView",setup(C){const p=$e(),x=Ae(),w=p.query.tab??"hardware";function V(P){x.replace({query:{tab:P}})}return(P,v)=>{const n=Ie("RouterLink");return o(),N(De,null,{default:a(()=>[d("div",null,[v[2]||(v[2]=d("h1",{class:"text-xl font-semibold tracking-tight"}," Settings ",-1)),d("p",wl,[v[1]||(v[1]=s(" Configure your robot's settings ")),l(n,{to:"/reboot",class:"text-blue-500"},{default:a(()=>v[0]||(v[0]=[s(" (Reboot to apply changes) ")])),_:1,__:[0]})])]),l(e(Fe),{"default-value":e(w),"onUpdate:modelValue":V},{default:a(()=>[l(e(Ue),null,{default:a(()=>[l(e(ee),{value:"hardware"},{default:a(()=>v[3]||(v[3]=[s(" Hardware ")])),_:1,__:[3]}),l(e(ee),{value:"cloud"},{default:a(()=>v[4]||(v[4]=[s(" Cloud ")])),_:1,__:[4]}),l(e(ee),{value:"http"},{default:a(()=>v[5]||(v[5]=[s(" HTTP ")])),_:1,__:[5]}),l(e(ee),{value:"wifi"},{default:a(()=>v[6]||(v[6]=[s(" WiFi ")])),_:1,__:[6]})]),_:1}),l(e(le),{value:"hardware"},{default:a(()=>[l(ml)]),_:1}),l(e(le),{value:"cloud"},{default:a(()=>[l(Me)]),_:1}),l(e(le),{value:"http"},{default:a(()=>[l(cl)]),_:1}),l(e(le),{value:"wifi"},{default:a(()=>[l(Sl)]),_:1})]),_:1},8,["default-value"])]),_:1})}}});export{Ul as default};
