import{_ as R}from"./index-CQsLCJ-P.js";import{i as ie,e as ke,_ as Ee,a as Oe,b as Re,c as De,d as Se}from"./TooltipTrigger.vuevuetypescriptsetuptruelang-CgKFA9Nw.js";import{P as K,c as j,a as P}from"./createLucideIcon-CAkG3pDG.js";import{u as B,b as Ae,d as Me}from"./PopperContent-DZG7HJSK.js";import{d as y,a as f,o as d,w as s,r as k,m as E,u as e,h as q,i as W,g as L,c as x,f as H,j as _,k as V,t as C,I as je,J as Pe,K as Le,L as Ve,D as Ie,b as t,y as h,e as a,R as Be,M as T,N as M,p as I,v as Fe,F as Te,B as re}from"./index-BFTjAVnI.js";import{_ as Ne,C as Qe,a as Ge,L as F,b as J,A as de,u as Ue,c as ze,d as He,e as ue,f as me,g as ce,h as Ke,i as qe,j as We,k as Je,l as Xe,m as Ye,n as Ze}from"./PaginationPrev.vuevuetypescriptsetuptruelang-Cp7E_c-9.js";import{_ as X,A as pe,d as fe,r as et,a as N}from"./date-BduPWQY3.js";import{C as tt,P as O,M as _e,_ as Y,a as Z}from"./CardTitle.vuevuetypescriptsetuptruelang-DfufEyV_.js";import{_ as ee,a as te}from"./CardContent.vuevuetypescriptsetuptruelang-qZNhywJE.js";import{_ as ge}from"./CardFooter.vuevuetypescriptsetuptruelang-brRe1-rQ.js";import{z as p,u as st,F as Q,_ as G,a as U,b as at,c as z,d as le,t as nt}from"./vee-validate-zod-BDdgvckB.js";import{_ as ye,a as ve,b as Ce,c as xe,d as b}from"./SelectValue.vuevuetypescriptsetuptruelang-BY4OQCFv.js";import{_ as ot}from"./http-h4_9HVzS.js";import"./useMutation-CjNgqsLA.js";const lt=y({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(c){const n=c,o=ie();return B(),(i,l)=>(d(),f(e(K),E(n,{id:e(o).titleId}),{default:s(()=>[k(i.$slots,"default")]),_:3},16,["id"]))}}),it=y({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(c){const n=c;B();const o=ie();return(i,l)=>(d(),f(e(K),E(n,{id:e(o).descriptionId}),{default:s(()=>[k(i.$slots,"default")]),_:3},16,["id"]))}}),rt=y({__name:"MenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(c){const n=c;return(o,i)=>(d(),f(e(K),E(n,{role:"separator","aria-orientation":"horizontal"}),{default:s(()=>[k(o.$slots,"default")]),_:3},16))}}),dt=y({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(c,{emit:n}){const o=c,l=Ae(n);return B(),(r,$)=>(d(),f(e(Ne),q(W({...o,...e(l)})),{default:s(()=>[k(r.$slots,"default")]),_:3},16))}}),ut=y({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(c){const n=c;return B(),(o,i)=>(d(),f(e(rt),q(W(n)),{default:s(()=>[k(o.$slots,"default")]),_:3},16))}});/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=j("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=j("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=j("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=j("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=j("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),pt=y({__name:"SheetDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(c){const n=c,o=L(()=>{const{class:i,...l}=n;return l});return(i,l)=>(d(),f(e(it),E({class:e(P)("text-sm text-muted-foreground",n.class)},o.value),{default:s(()=>[k(i.$slots,"default")]),_:3},16,["class"]))}}),ft=y({__name:"SheetHeader",props:{class:{}},setup(c){const n=c;return(o,i)=>(d(),x("div",{class:H(e(P)("flex flex-col gap-y-2 text-center sm:text-left",n.class))},[k(o.$slots,"default")],2))}}),_t=y({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(c){const n=c,o=L(()=>{const{class:i,...l}=n;return l});return(i,l)=>(d(),f(e(lt),E({class:e(P)("text-lg font-semibold text-foreground",n.class)},o.value),{default:s(()=>[k(i.$slots,"default")]),_:3},16,["class"]))}}),gt=y({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(c){const n=c;return(o,i)=>(d(),f(e(ke),q(W(n)),{default:s(()=>[k(o.$slots,"default")]),_:3},16))}}),se=y({__name:"SourceBadge",props:{source:{}},setup(c){const n=c,o={CLOUD:{icon:tt,label:"Cloud"},APP:{icon:ct,label:"App"}};return(i,l)=>(d(),f(e(X),{variant:"outline",class:"flex items-center gap-1"},{default:s(()=>[(d(),f(V(o[n.source].icon),{class:"w-3 h-3"})),_(" "+C(o[n.source].label),1)]),_:1}))}}),ae=y({__name:"StatusBadge",props:{status:{}},setup(c){const n=c,o={QUEUED:{icon:J,label:"Queued",class:"bg-amber-500/10 text-amber-500 hover:bg-amber-500/20 hover:text-amber-500"},PROCESSING:{icon:F,label:"Processing",class:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 hover:text-blue-500"},SUCCEEDED:{icon:Ge,label:"Succeeded",class:"bg-green-500/10 text-green-500 hover:bg-green-500/20 hover:text-green-500"},FAILED:{icon:Qe,label:"Failed",class:"bg-red-500/10 text-red-500 hover:bg-red-500/20 hover:text-red-500"},CANCELED:{icon:mt,label:"Canceled",class:"bg-slate-500/10 text-slate-500 hover:bg-slate-500/20 hover:text-slate-500"}};return(i,l)=>(d(),f(e(X),{variant:"secondary",class:H(["flex items-center gap-1",[o[n.status].class]])},{default:s(()=>[(d(),f(V(o[n.status].icon),{class:H(["w-3 h-3",{"animate-spin":n.status==="PROCESSING"}])},null,8,["class"])),_(" "+C(o[n.status].label),1)]),_:1},8,["class"]))}});fe.extend(et);const yt={STOP:be,MOVE_FORWARD:de,MOVE_BACKWARD:pe,MOVE_TO:_e,CARGO_OPEN:O,CARGO_CLOSE:O,CARGO_LIFT:O,CARGO_LOWER:O,CARGO_CHECK_QR:we};function ne(c){return yt[c]}function oe(c){return c.replace(/_/g," ").toLowerCase().replace(/\b\w/g,n=>n.toUpperCase())}function vt(c){const n=fe(c);return n.isValid()?n.fromNow():"N/A"}const Ct={key:0},xt={class:"flex items-center justify-center py-8"},bt={key:1},$t={key:2,class:"mt-6 space-y-6"},wt={class:"flex items-center justify-between"},ht={class:"flex items-center gap-2"},kt={class:"text-sm font-medium"},Et={class:"grid grid-cols-2 gap-4"},Ot={class:"font-medium"},Rt={class:"flex flex-col items-start gap-2"},Dt={class:"space-y-2"},St={class:"p-4 bg-gray-100 rounded-xl dark:bg-gray-800"},At={class:"font-mono text-sm text-gray-800 break-words whitespace-pre-wrap dark:text-gray-200"},Mt={key:0,class:"space-y-2"},jt={class:"p-3 rounded-md bg-destructive/10 text-destructive"},Pt={class:"space-y-2"},Lt={class:"space-y-3"},Vt={class:"flex justify-between text-sm"},It={key:0,class:"flex justify-between text-sm"},Bt={class:"flex justify-between text-sm"},Ft={class:"flex gap-2 pt-4"},Tt=2e3,Nt=y({__name:"CommandDetailSheet",props:je({commandId:{}},{isOpen:{type:Boolean,required:!0},isOpenModifiers:{}}),emits:["update:isOpen"],setup(c){const n=c,o=Pe(c,"isOpen"),i=Le(n,"commandId"),{data:l,isPending:r,isError:$,refetch:g}=Ue(i,{axiosOpts:{doNotShowLoading:!0}}),{pause:w,resume:D}=Ve(()=>{g()},Tt,{immediate:!1});return Ie(l,v=>{v&&["SUCCEEDED","FAILED","CANCELED"].includes(v.status)?w():D()},{immediate:!0}),(v,u)=>(d(),f(e(Ee),{open:o.value,"onUpdate:open":u[0]||(u[0]=m=>o.value=m)},{default:s(()=>[t(e(Oe),{class:"sm:max-w-md"},{default:s(()=>[t(e(ft),null,{default:s(()=>[t(e(_t),null,{default:s(()=>u[1]||(u[1]=[_(" Command detail ")])),_:1}),t(e(pt),null,{default:s(()=>u[2]||(u[2]=[_(" Real-time information about the selected command ")])),_:1})]),_:1}),e(r)?(d(),x("div",Ct,[a("div",xt,[t(e(F),{class:"w-8 h-8 animate-spin"})])])):e($)?(d(),x("div",bt,u[3]||(u[3]=[a("div",{class:"flex items-center justify-center py-8"},[a("p",{class:"text-sm text-muted-foreground"}," Failed to load command details ")],-1)]))):e(l)?(d(),x("div",$t,[a("div",wt,[a("div",ht,[(d(),f(V(e(ne)(e(l).type)))),a("span",kt,C(e(oe)(e(l).type)),1)]),t(ae,{status:e(l).status},null,8,["status"])]),a("div",Et,[a("div",null,[u[4]||(u[4]=a("p",{class:"text-sm text-muted-foreground"}," ID ",-1)),a("p",Ot,C(e(l).id),1)]),a("div",Rt,[u[5]||(u[5]=a("p",{class:"text-sm text-muted-foreground"}," Source ",-1)),t(se,{source:e(l).source},null,8,["source"])])]),a("div",Dt,[u[6]||(u[6]=a("p",{class:"text-sm font-medium"}," Command Inputs ",-1)),a("div",St,[a("span",At,C(JSON.stringify(e(l).inputs,null,4)),1)])]),e(l).error?(d(),x("div",Mt,[u[7]||(u[7]=a("p",{class:"text-sm font-medium text-destructive"}," Error ",-1)),a("div",jt,C(e(l).error),1)])):h("",!0),a("div",Pt,[u[11]||(u[11]=a("p",{class:"text-sm font-medium"}," Timeline ",-1)),a("div",Lt,[a("div",Vt,[u[8]||(u[8]=a("span",{class:"text-muted-foreground"},"Created",-1)),a("span",null,C(e(N)(e(l).createdAt)),1)]),e(l).completedAt?(d(),x("div",It,[u[9]||(u[9]=a("span",{class:"text-muted-foreground"},"Completed",-1)),a("span",null,C(e(N)(e(l).completedAt)),1)])):h("",!0),a("div",Bt,[u[10]||(u[10]=a("span",{class:"text-muted-foreground"},"Last Updated",-1)),a("span",null,C(e(N)(e(l).updatedAt)),1)])])]),a("div",Ft,[e(l).status==="QUEUED"?(d(),f(e(R),{key:0,variant:"destructive",class:"flex-1",disabled:""},{default:s(()=>u[12]||(u[12]=[_(" Remove From Queue ")])),_:1})):e(l).status==="PROCESSING"?(d(),f(e(R),{key:1,variant:"destructive",class:"flex-1",disabled:""},{default:s(()=>u[13]||(u[13]=[_(" Stop Execution ")])),_:1})):(d(),f(e(R),{key:2,variant:"outline",class:"flex-1",disabled:""},{default:s(()=>u[14]||(u[14]=[_(" Re-run ")])),_:1}))])])):h("",!0)]),_:1})]),_:1},8,["open"]))}}),Qt=p.discriminatedUnion("type",[p.object({type:p.literal("STOP"),inputs:p.object({})}),p.object({type:p.literal("MOVE_TO"),inputs:p.object({location:p.string()})}),p.object({type:p.literal("MOVE_FORWARD"),inputs:p.object({})}),p.object({type:p.literal("MOVE_BACKWARD"),inputs:p.object({})}),p.object({type:p.literal("CARGO_OPEN"),inputs:p.object({})}),p.object({type:p.literal("CARGO_CLOSE"),inputs:p.object({})}),p.object({type:p.literal("CARGO_LIFT"),inputs:p.object({})}),p.object({type:p.literal("CARGO_LOWER"),inputs:p.object({})}),p.object({type:p.literal("CARGO_CHECK_QR"),inputs:p.object({qrCode:p.string()})})]),Gt={class:"space-y-4"},Ut={class:"flex items-center gap-2"},zt={class:"flex items-center gap-2"},Ht={class:"flex items-center gap-2"},Kt={class:"flex items-center gap-2"},qt={class:"flex items-center gap-2"},Wt={class:"flex items-center gap-2"},Jt={class:"flex items-center gap-2"},Xt={class:"flex items-center gap-2"},Yt={class:"flex items-center gap-2"},Zt=y({__name:"CreateCommandForm",setup(c){const{values:n,handleSubmit:o,setFieldValue:i,resetForm:l}=st({validationSchema:nt(Qt),initialValues:{type:"STOP",inputs:{}}}),r=L(()=>n.type);function $(u){i("type",u)}const{mutate:g,isPending:w}=ze(),D=o(u=>{g(u,{onSuccess:()=>{T.success("Command created successfully")},onError:m=>{m instanceof Be?T.error({title:m.errorCode,message:m.message}):T.error("Failed to create command")}})});function v(){l()}return(u,m)=>(d(),f(e(ee),{class:"sticky top-6"},{default:s(()=>[t(e(Y),null,{default:s(()=>[t(e(Z),null,{default:s(()=>m[2]||(m[2]=[_("Create command")])),_:1})]),_:1}),a("form",{onSubmit:m[1]||(m[1]=M((...S)=>e(D)&&e(D)(...S),["prevent"]))},[t(e(te),null,{default:s(()=>[a("div",Gt,[t(e(Q),{name:"type"},{default:s(()=>[t(e(G),null,{default:s(()=>[t(e(U),null,{default:s(()=>m[3]||(m[3]=[_("Command type")])),_:1}),t(e(ye),{disabled:e(w),"model-value":e(r),"onUpdate:modelValue":m[0]||(m[0]=S=>$(S))},{default:s(()=>[t(e(at),null,{default:s(()=>[t(e(ve),null,{default:s(()=>[t(e(Ce),{placeholder:"Select command type"})]),_:1})]),_:1}),t(e(xe),null,{default:s(()=>[t(e(b),{value:"STOP"},{default:s(()=>[a("div",Ut,[t(e(be),{class:"w-4 h-4"}),m[4]||(m[4]=a("span",null,"Stop",-1))])]),_:1}),t(e(b),{value:"MOVE_FORWARD"},{default:s(()=>[a("div",zt,[t(e(de),{class:"w-4 h-4"}),m[5]||(m[5]=a("span",null,"Move Forward",-1))])]),_:1}),t(e(b),{value:"MOVE_BACKWARD"},{default:s(()=>[a("div",Ht,[t(e(pe),{class:"w-4 h-4"}),m[6]||(m[6]=a("span",null,"Move Backward",-1))])]),_:1}),t(e(b),{value:"MOVE_TO"},{default:s(()=>[a("div",Kt,[t(e(_e),{class:"w-4 h-4"}),m[7]||(m[7]=a("span",null,"Move To",-1))])]),_:1}),t(e(b),{value:"CARGO_OPEN"},{default:s(()=>[a("div",qt,[t(e(O),{class:"w-4 h-4"}),m[8]||(m[8]=a("span",null,"Cargo Open",-1))])]),_:1}),t(e(b),{value:"CARGO_CLOSE"},{default:s(()=>[a("div",Wt,[t(e(O),{class:"w-4 h-4"}),m[9]||(m[9]=a("span",null,"Cargo Close",-1))])]),_:1}),t(e(b),{value:"CARGO_LIFT"},{default:s(()=>[a("div",Jt,[t(e(O),{class:"w-4 h-4"}),m[10]||(m[10]=a("span",null,"Cargo Lift",-1))])]),_:1}),t(e(b),{value:"CARGO_LOWER"},{default:s(()=>[a("div",Xt,[t(e(O),{class:"w-4 h-4"}),m[11]||(m[11]=a("span",null,"Cargo Lower",-1))])]),_:1}),t(e(b),{value:"CARGO_CHECK_QR",disabled:""},{default:s(()=>[a("div",Yt,[t(e(we),{class:"w-4 h-4"}),m[12]||(m[12]=a("span",null,"Cargo Check QR",-1))])]),_:1})]),_:1})]),_:1},8,["disabled","model-value"]),t(e(z))]),_:1})]),_:1}),e(r)==="MOVE_TO"?(d(),f(e(Q),{key:0,name:"inputs.location"},{default:s(({componentField:S})=>[t(e(G),null,{default:s(()=>[t(e(U),null,{default:s(()=>m[13]||(m[13]=[_("Location")])),_:1}),t(e(le),E(S,{placeholder:"Enter location"}),null,16),t(e(z))]),_:2},1024)]),_:1})):e(r)==="CARGO_CHECK_QR"?(d(),f(e(Q),{key:1,name:"inputs.qrCode"},{default:s(({componentField:S})=>[t(e(G),null,{default:s(()=>[t(e(U),null,{default:s(()=>m[14]||(m[14]=[_("QR Code")])),_:1}),t(e(le),E(S,{placeholder:"Enter QR code"}),null,16),t(e(z))]),_:2},1024)]),_:1})):h("",!0)])]),_:1}),t(e(ge),{class:"flex flex-col gap-2"},{default:s(()=>[t(e(R),{type:"submit",class:"w-full",disabled:e(w)},{default:s(()=>[e(w)?(d(),f(e(F),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):h("",!0),m[15]||(m[15]=_(" Add command "))]),_:1},8,["disabled"]),t(e(R),{type:"button",variant:"outline",class:"w-full",disabled:e(w),onClick:v},{default:s(()=>m[16]||(m[16]=[_(" Clear Form ")])),_:1},8,["disabled"])]),_:1})],32)]),_:1}))}}),A=y({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(c){const n=c,o=L(()=>{const{class:l,...r}=n;return r}),i=Me(o);return(l,r)=>(d(),f(e(dt),E(e(i),{class:e(P)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",l.inset&&"pl-8",n.class)}),{default:s(()=>[k(l.$slots,"default")]),_:3},16,["class"]))}}),he=y({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(c){const n=c,o=L(()=>{const{class:i,...l}=n;return l});return(i,l)=>(d(),f(e(ut),E(o.value,{class:e(P)("-mx-1 my-1 h-px bg-muted",n.class)}),null,16,["class"]))}}),es={class:"flex items-center justify-between"},ts={class:"flex items-center gap-2 font-medium"},ss={class:"flex items-center gap-2 text-sm text-muted-foreground"},as={key:0,class:"text-sm"},ns={key:1,class:"text-sm"},os=1e3,ls=y({__name:"CurrentProcessingCommandCard",emits:["viewDetails"],setup(c,{emit:n}){const o=n,{data:i,refetch:l,isError:r}=He({axiosOpts:{doNotShowLoading:!0}});return setInterval(l,os),($,g)=>e(i)&&!e(r)?(d(),f(e(ee),{key:0},{default:s(()=>[t(e(Y),{class:"pb-3"},{default:s(()=>[t(e(Z),{class:"flex items-center justify-between"},{default:s(()=>[g[3]||(g[3]=a("span",null,"Current Command",-1)),t(ae,{status:e(i).status},null,8,["status"])]),_:1})]),_:1}),t(e(te),null,{default:s(()=>[a("div",{class:"p-4 space-y-3 border rounded-lg cursor-pointer bg-muted/50",onClick:g[2]||(g[2]=w=>o("viewDetails",e(i).id))},[a("div",es,[a("div",ts,[(d(),f(V(e(ne)(e(i).type)),{class:"w-5 h-5"})),a("span",null,C(e(oe)(e(i).type)),1)]),a("div",{class:"flex items-center gap-2",onClick:g[1]||(g[1]=M(()=>{},["stop"]))},[t(se,{source:e(i).source},null,8,["source"]),t(e(ue),null,{default:s(()=>[t(e(me),{"as-child":""},{default:s(()=>[t(e(R),{variant:"ghost",size:"icon",class:"w-8 h-8"},{default:s(()=>[t(e($e),{class:"w-4 h-4"})]),_:1})]),_:1}),t(e(ce),{align:"end"},{default:s(()=>[t(e(A),{onClick:g[0]||(g[0]=M(w=>o("viewDetails",e(i).id),["stop"]))},{default:s(()=>g[4]||(g[4]=[_(" View Details ")])),_:1}),t(e(he)),t(e(A),{class:"text-destructive"},{default:s(()=>g[5]||(g[5]=[_(" Cancel Command ")])),_:1})]),_:1})]),_:1})])]),a("div",ss,[t(e(J),{class:"w-4 h-4"}),a("span",null,"Started at "+C(e(i).createdAt),1)]),e(i).type==="MOVE_TO"?(d(),x("div",as,[g[6]||(g[6]=a("span",{class:"font-medium"},"Location: ",-1)),_(" "+C(e(i).inputs.location),1)])):e(i).type==="CARGO_CHECK_QR"?(d(),x("div",ns,[g[7]||(g[7]=a("span",{class:"font-medium"},"QR Code: ",-1)),_(" "+C(e(i).inputs.qrCode),1)])):h("",!0)])]),_:1})]),_:1})):h("",!0)}}),is={class:"flex items-center justify-between"},rs={class:"flex items-center gap-2 font-medium"},ds={class:"flex items-center gap-2 text-sm text-muted-foreground"},us={key:0,class:"text-sm"},ms={key:1,class:"text-sm"},cs=y({__name:"QueuedCommandItem",props:{command:{}},emits:["viewDetails"],setup(c,{emit:n}){const o=c,i=n;return(l,r)=>(d(),x("div",{class:"p-4 space-y-3 transition-colors border rounded-lg cursor-pointer bg-muted/30 border-border/50 hover:border-border",onClick:r[3]||(r[3]=$=>i("viewDetails",o.command.id))},[a("div",is,[a("div",rs,[(d(),f(V(e(ne)(o.command.type)),{class:"w-5 h-5"})),a("span",null,C(e(oe)(o.command.type)),1)]),a("div",{class:"flex items-center gap-2",onClick:r[2]||(r[2]=M(()=>{},["stop"]))},[t(ae,{status:o.command.status},null,8,["status"]),t(se,{source:o.command.source},null,8,["source"]),t(e(ue),null,{default:s(()=>[t(e(me),{"as-child":""},{default:s(()=>[t(e(R),{variant:"ghost",size:"icon",class:"w-8 h-8"},{default:s(()=>[t(e($e),{"class-name":"h-4 w-4"})]),_:1})]),_:1}),t(e(ce),{align:"end",onClick:r[1]||(r[1]=M(()=>{},["stop"]))},{default:s(()=>[t(e(A),{onClick:r[0]||(r[0]=$=>i("viewDetails",o.command.id))},{default:s(()=>r[4]||(r[4]=[_(" View Details ")])),_:1}),t(e(A),null,{default:s(()=>r[5]||(r[5]=[_("Edit Command")])),_:1}),t(e(he)),t(e(A),{class:"text-destructive",disabled:""},{default:s(()=>r[6]||(r[6]=[_(" Remove from Queue ")])),_:1})]),_:1})]),_:1})])]),a("div",ds,[t(e(J),{class:"w-4 h-4"}),a("span",null,"Created "+C(e(vt)(o.command.createdAt)),1)]),o.command.type==="MOVE_TO"?(d(),x("div",us,[r[7]||(r[7]=a("span",{class:"font-medium"},"Location: ",-1)),_(" "+C(l.command.inputs.location),1)])):o.command.type==="CARGO_CHECK_QR"?(d(),x("div",ms,[r[8]||(r[8]=a("span",{class:"font-medium"},"QR Code: ",-1)),_(" "+C(l.command.inputs.qrCode),1)])):h("",!0)]))}}),ps={key:1,class:"py-6 text-center text-muted-foreground"},fs={class:"flex items-center gap-1 text-sm text-muted-foreground"},_s=2e3,gs=y({__name:"WaitingCommandList",emits:["viewDetails"],setup(c,{emit:n}){const o=n,i=I(1),l=I(5),{data:r,refetch:$}=Ke(i,l,{axiosOpts:{doNotShowLoading:!0}});function g(){i.value=1}function w(D){i.value=D}return setInterval($,_s),(D,v)=>e(r)?(d(),f(e(ee),{key:0},{default:s(()=>[t(e(Y),{class:"pb-3"},{default:s(()=>[t(e(Z),{class:"flex items-center justify-between"},{default:s(()=>[v[1]||(v[1]=a("span",null,"Waiting Commands",-1)),t(e(X),{variant:"outline"},{default:s(()=>[_(C(e(r).totalItems)+" commands ",1)]),_:1})]),_:1})]),_:1}),t(e(te),{class:"space-y-3"},{default:s(()=>[e(r).totalItems>0?(d(!0),x(Te,{key:0},Fe(e(r).items,u=>(d(),f(cs,{key:u.id,command:u,onViewDetails:m=>o("viewDetails",u.id)},null,8,["command","onViewDetails"]))),128)):(d(),x("div",ps," No commands in queue "))]),_:1}),t(e(ge),{class:"flex items-center justify-between pt-4 border-t"},{default:s(()=>[a("div",fs,[v[5]||(v[5]=a("span",{class:"text-sm sr-only sm:not-sr-only"}," Items per page: ",-1)),t(e(ye),{modelValue:e(l),"onUpdate:modelValue":[v[0]||(v[0]=u=>re(l)?l.value=u:null),g]},{default:s(()=>[t(e(ve),{class:"w-16 h-8 ml-2"},{default:s(()=>[t(e(Ce),{placeholder:"5"})]),_:1}),t(e(xe),null,{default:s(()=>[t(e(b),{value:"5"},{default:s(()=>v[2]||(v[2]=[_(" 5 ")])),_:1}),t(e(b),{value:"10"},{default:s(()=>v[3]||(v[3]=[_(" 10 ")])),_:1}),t(e(b),{value:"20"},{default:s(()=>v[4]||(v[4]=[_(" 20 ")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),t(e(qe),{"sibling-count":1,"items-per-page":e(l),total:e(r).totalItems,"default-page":e(i),"onUpdate:page":w},{default:s(()=>[t(e(We),{class:"flex items-center gap-1"},{default:s(()=>[t(e(Je)),t(e(Xe)),t(e(Ye)),t(e(Ze))]),_:1})]),_:1},8,["items-per-page","total","default-page"])]),_:1})]),_:1})):h("",!0)}}),ys={class:"flex items-center justify-between"},vs={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},Cs={class:"space-y-6 md:col-span-2"},Ps=y({__name:"CommandQueueView",setup(c){const n=I(!1),o=I(null);function i(l){o.value=l,n.value=!0}return(l,r)=>(d(),f(ot,null,{default:s(()=>[a("div",ys,[r[2]||(r[2]=a("div",null,[a("h1",{class:"text-xl font-semibold tracking-tight"}," Robot command queue "),a("p",{class:"text-sm text-muted-foreground"}," Manage and monitor robot commands in real-time ")],-1)),t(e(gt),null,{default:s(()=>[t(e(Re),null,{default:s(()=>[t(e(De),{"as-child":""},{default:s(()=>[t(e(R),{variant:"outline",size:"icon"},{default:s(()=>[t(e(F),{class:"w-4 h-4 animate-spin"})]),_:1})]),_:1}),t(e(Se),null,{default:s(()=>r[1]||(r[1]=[a("p",null,"Refreshing in real-time",-1)])),_:1})]),_:1})]),_:1})]),a("div",vs,[a("div",Cs,[t(ls,{onViewDetails:i}),t(gs,{onViewDetails:i})]),a("div",null,[t(Zt)])]),e(o)?(d(),f(Nt,{key:0,"is-open":e(n),"onUpdate:isOpen":r[0]||(r[0]=$=>re(n)?n.value=$:null),"command-id":e(o)},null,8,["is-open","command-id"])):h("",!0)]),_:1}))}});export{Ps as default};
