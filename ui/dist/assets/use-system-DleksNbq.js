var Mt=i=>{throw TypeError(i)};var ct=(i,t,e)=>t.has(i)||Mt("Cannot "+e);var s=(i,t,e)=>(ct(i,t,"read from private field"),e?e.call(i):t.get(i)),m=(i,t,e)=>t.has(i)?Mt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),u=(i,t,e,r)=>(ct(i,t,"write to private field"),r?r.call(i,e):t.set(i,e),e),f=(i,t,e)=>(ct(i,t,"access private method"),e);import{c as Wt,a as W}from"./index-aWFejop-.js";import{at as $t,au as Qt,av as E,aw as ht,ax as at,ay as Gt,az as Ut,aA as Pt,aB as Jt,aC as Xt,aD as Yt,aE as Ft,aF as At,aG as kt,aH as Zt,aI as te,Q as ee,aJ as se,p as Kt,aK as Bt,aL as zt,q as z,t as Nt,aM as lt,aN as dt,ad as qt,d as G,D as J,F as ie,a as X,G as Y,b as Z,e as tt,aO as re,aP as ne,aQ as ae,a9 as oe,ab as he}from"./index-LvvXtajW.js";var g,a,it,v,D,N,Q,w,rt,q,H,T,j,U,V,c,et,ft,pt,mt,yt,bt,vt,gt,Ht,jt,ue=(jt=class extends $t{constructor(t,e){super();m(this,c);m(this,g);m(this,a);m(this,it);m(this,v);m(this,D);m(this,N);m(this,Q);m(this,w);m(this,rt);m(this,q);m(this,H);m(this,T);m(this,j);m(this,U);m(this,V,new Set);this.options=e,u(this,g,t),u(this,w,null),u(this,Q,Qt()),this.options.experimental_prefetchInRender||s(this,Q).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(s(this,a).addObserver(this),Dt(s(this,a),this.options)?f(this,c,et).call(this):this.updateResult(),f(this,c,yt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ct(s(this,a),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ct(s(this,a),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,f(this,c,bt).call(this),f(this,c,vt).call(this),s(this,a).removeObserver(this)}setOptions(t,e){const r=this.options,o=s(this,a);if(this.options=s(this,g).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof E(this.options.enabled,s(this,a))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");f(this,c,gt).call(this),s(this,a).setOptions(this.options),r._defaulted&&!ht(this.options,r)&&s(this,g).getQueryCache().notify({type:"observerOptionsUpdated",query:s(this,a),observer:this});const n=this.hasListeners();n&&Tt(s(this,a),o,this.options,r)&&f(this,c,et).call(this),this.updateResult(e),n&&(s(this,a)!==o||E(this.options.enabled,s(this,a))!==E(r.enabled,s(this,a))||at(this.options.staleTime,s(this,a))!==at(r.staleTime,s(this,a)))&&f(this,c,ft).call(this);const d=f(this,c,pt).call(this);n&&(s(this,a)!==o||E(this.options.enabled,s(this,a))!==E(r.enabled,s(this,a))||d!==s(this,U))&&f(this,c,mt).call(this,d)}getOptimisticResult(t){const e=s(this,g).getQueryCache().build(s(this,g),t),r=this.createResult(e,t);return le(this,r)&&(u(this,v,r),u(this,N,this.options),u(this,D,s(this,a).state)),r}getCurrentResult(){return s(this,v)}trackResult(t,e){const r={};return Object.keys(t).forEach(o=>{Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),e==null||e(o),t[o])})}),r}trackProp(t){s(this,V).add(t)}getCurrentQuery(){return s(this,a)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=s(this,g).defaultQueryOptions(t),r=s(this,g).getQueryCache().build(s(this,g),e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return f(this,c,et).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),s(this,v)))}createResult(t,e){var It;const r=s(this,a),o=this.options,n=s(this,v),d=s(this,D),y=s(this,N),R=t!==r?t.state:s(this,it),{state:p}=t;let l={...p},k=!1,h;if(e._optimisticResults){const b=this.hasListeners(),K=!b&&Dt(t,e),B=b&&Tt(t,r,e,o);(K||B)&&(l={...l,...Yt(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:x,errorUpdatedAt:L,status:S}=l;if(e.select&&l.data!==void 0)if(n&&l.data===(d==null?void 0:d.data)&&e.select===s(this,rt))h=s(this,q);else try{u(this,rt,e.select),h=e.select(l.data),h=Ft(n==null?void 0:n.data,h,e),u(this,q,h),u(this,w,null)}catch(b){u(this,w,b)}else h=l.data;if(e.placeholderData!==void 0&&h===void 0&&S==="pending"){let b;if(n!=null&&n.isPlaceholderData&&e.placeholderData===(y==null?void 0:y.placeholderData))b=n.data;else if(b=typeof e.placeholderData=="function"?e.placeholderData((It=s(this,H))==null?void 0:It.state.data,s(this,H)):e.placeholderData,e.select&&b!==void 0)try{b=e.select(b),u(this,w,null)}catch(K){u(this,w,K)}b!==void 0&&(S="success",h=Ft(n==null?void 0:n.data,b,e),k=!0)}s(this,w)&&(x=s(this,w),h=s(this,q),L=Date.now(),S="error");const $=l.fetchStatus==="fetching",A=S==="pending",ut=S==="error",Et=A&&$,xt=h!==void 0,_={status:S,fetchStatus:l.fetchStatus,isPending:A,isSuccess:S==="success",isError:ut,isInitialLoading:Et,isLoading:Et,data:h,dataUpdatedAt:l.dataUpdatedAt,error:x,errorUpdatedAt:L,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>R.dataUpdateCount||l.errorUpdateCount>R.errorUpdateCount,isFetching:$,isRefetching:$&&!A,isLoadingError:ut&&!xt,isPaused:l.fetchStatus==="paused",isPlaceholderData:k,isRefetchError:ut&&xt,isStale:St(t,e),refetch:this.refetch,promise:s(this,Q)};if(this.options.experimental_prefetchInRender){const b=nt=>{_.status==="error"?nt.reject(_.error):_.data!==void 0&&nt.resolve(_.data)},K=()=>{const nt=u(this,Q,_.promise=Qt());b(nt)},B=s(this,Q);switch(B.status){case"pending":t.queryHash===r.queryHash&&b(B);break;case"fulfilled":(_.status==="error"||_.data!==B.value)&&K();break;case"rejected":(_.status!=="error"||_.error!==B.reason)&&K();break}}return _}updateResult(t){const e=s(this,v),r=this.createResult(s(this,a),this.options);if(u(this,D,s(this,a).state),u(this,N,this.options),s(this,D).data!==void 0&&u(this,H,s(this,a)),ht(r,e))return;u(this,v,r);const o={},n=()=>{if(!e)return!0;const{notifyOnChangeProps:d}=this.options,y=typeof d=="function"?d():d;if(y==="all"||!y&&!s(this,V).size)return!0;const O=new Set(y??s(this,V));return this.options.throwOnError&&O.add("error"),Object.keys(s(this,v)).some(R=>{const p=R;return s(this,v)[p]!==e[p]&&O.has(p)})};(t==null?void 0:t.listeners)!==!1&&n()&&(o.listeners=!0),f(this,c,Ht).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&f(this,c,yt).call(this)}},g=new WeakMap,a=new WeakMap,it=new WeakMap,v=new WeakMap,D=new WeakMap,N=new WeakMap,Q=new WeakMap,w=new WeakMap,rt=new WeakMap,q=new WeakMap,H=new WeakMap,T=new WeakMap,j=new WeakMap,U=new WeakMap,V=new WeakMap,c=new WeakSet,et=function(t){f(this,c,gt).call(this);let e=s(this,a).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Gt)),e},ft=function(){f(this,c,bt).call(this);const t=at(this.options.staleTime,s(this,a));if(Ut||s(this,v).isStale||!Pt(t))return;const r=Jt(s(this,v).dataUpdatedAt,t)+1;u(this,T,setTimeout(()=>{s(this,v).isStale||this.updateResult()},r))},pt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(s(this,a)):this.options.refetchInterval)??!1},mt=function(t){f(this,c,vt).call(this),u(this,U,t),!(Ut||E(this.options.enabled,s(this,a))===!1||!Pt(s(this,U))||s(this,U)===0)&&u(this,j,setInterval(()=>{(this.options.refetchIntervalInBackground||Xt.isFocused())&&f(this,c,et).call(this)},s(this,U)))},yt=function(){f(this,c,ft).call(this),f(this,c,mt).call(this,f(this,c,pt).call(this))},bt=function(){s(this,T)&&(clearTimeout(s(this,T)),u(this,T,void 0))},vt=function(){s(this,j)&&(clearInterval(s(this,j)),u(this,j,void 0))},gt=function(){const t=s(this,g).getQueryCache().build(s(this,g),this.options);if(t===s(this,a))return;const e=s(this,a);u(this,a,t),u(this,it,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},Ht=function(t){At.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(s(this,v))}),s(this,g).getQueryCache().notify({query:s(this,a),type:"observerResultsUpdated"})})},jt);function ce(i,t){return E(t.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&t.retryOnMount===!1)}function Dt(i,t){return ce(i,t)||i.state.data!==void 0&&Ct(i,t,t.refetchOnMount)}function Ct(i,t,e){if(E(t.enabled,i)!==!1){const r=typeof e=="function"?e(i):e;return r==="always"||r!==!1&&St(i,t)}return!1}function Tt(i,t,e,r){return(i!==t||E(r.enabled,i)===!1)&&(!e.suspense||i.state.status!=="error")&&St(i,e)}function St(i,t){return E(t.enabled,i)!==!1&&i.isStaleByTime(at(t.staleTime,i))}function le(i,t){return!ht(i.getCurrentResult(),t)}var P,F,C,I,M,ot,Rt,Lt,de=(Lt=class extends $t{constructor(t,e){super();m(this,M);m(this,P);m(this,F);m(this,C);m(this,I);u(this,P,t),this.setOptions(e),this.bindMethods(),f(this,M,ot).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const e=this.options;this.options=s(this,P).defaultMutationOptions(t),ht(this.options,e)||s(this,P).getMutationCache().notify({type:"observerOptionsUpdated",mutation:s(this,C),observer:this}),e!=null&&e.mutationKey&&this.options.mutationKey&&kt(e.mutationKey)!==kt(this.options.mutationKey)?this.reset():((r=s(this,C))==null?void 0:r.state.status)==="pending"&&s(this,C).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=s(this,C))==null||t.removeObserver(this)}onMutationUpdate(t){f(this,M,ot).call(this),f(this,M,Rt).call(this,t)}getCurrentResult(){return s(this,F)}reset(){var t;(t=s(this,C))==null||t.removeObserver(this),u(this,C,void 0),f(this,M,ot).call(this),f(this,M,Rt).call(this)}mutate(t,e){var r;return u(this,I,e),(r=s(this,C))==null||r.removeObserver(this),u(this,C,s(this,P).getMutationCache().build(s(this,P),this.options)),s(this,C).addObserver(this),s(this,C).execute(t)}},P=new WeakMap,F=new WeakMap,C=new WeakMap,I=new WeakMap,M=new WeakSet,ot=function(){var e;const t=((e=s(this,C))==null?void 0:e.state)??Zt();u(this,F,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Rt=function(t){At.batch(()=>{var e,r,o,n,d,y,O,R;if(s(this,I)&&this.hasListeners()){const p=s(this,F).variables,l=s(this,F).context;(t==null?void 0:t.type)==="success"?((r=(e=s(this,I)).onSuccess)==null||r.call(e,t.data,p,l),(n=(o=s(this,I)).onSettled)==null||n.call(o,t.data,null,p,l)):(t==null?void 0:t.type)==="error"&&((y=(d=s(this,I)).onError)==null||y.call(d,t.error,p,l),(R=(O=s(this,I)).onSettled)==null||R.call(O,void 0,t.error,p,l))}this.listeners.forEach(p=>{p(s(this,F))})})},Lt);function _t(i=""){if(!te())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=se(i),e=ee(t);if(!e)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return e}function fe(i,t,e){const r=_t(),o=Kt(()=>{const h=Bt(t);typeof h.enabled=="function"&&(h.enabled=h.enabled());const x=r.defaultQueryOptions(h);return x._optimisticResults=r.isRestoring.value?"isRestoring":"optimistic",x}),n=new i(r,o.value),d=zt(n.getCurrentResult());let y=()=>{};z(r.isRestoring,h=>{h||(y(),y=n.subscribe(x=>{dt(d,x)}))},{immediate:!0});const O=()=>{n.setOptions(o.value),dt(d,n.getCurrentResult())};z(o,O),qt(()=>{y()});const R=(...h)=>(O(),d.refetch(...h)),p=()=>new Promise((h,x)=>{let L=()=>{};const S=()=>{if(o.value.enabled!==!1){n.setOptions(o.value);const $=n.getOptimisticResult(o.value);$.isStale?(L(),n.fetchOptimistic(o.value).then(h,A=>{lt(o.value.throwOnError,[A,n.getCurrentQuery()])?x(A):h(n.getCurrentResult())})):(L(),h($))}};S(),L=z(o,S)});z(()=>d.error,h=>{if(d.isError&&!d.isFetching&&lt(o.value.throwOnError,[h,n.getCurrentQuery()]))throw h});const k=Nt(d);for(const h in d)typeof d[h]=="function"&&(k[h]=d[h]);return k.suspense=p,k.refetch=R,k}function pe(i,t){return fe(ue,i)}function Vt(i,t){const e=_t(),r=Kt(()=>e.defaultMutationOptions(Bt(i))),o=new de(e,r.value),n=zt(o.getCurrentResult()),d=o.subscribe(p=>{dt(n,p)}),y=(p,l)=>{o.mutate(p,l).catch(()=>{})};z(r,()=>{o.setOptions(r.value)}),qt(()=>{d()});const R=Nt(n);return z(()=>n.error,p=>{if(p&&lt(r.value.throwOnError,[p]))throw p}),{...R,mutate:y,mutateAsync:n.mutate,reset:n.reset}}/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=Wt("LoaderIcon",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),me={class:"container p-6"},Re=G({__name:"PageContainer",props:{spacing:{type:Boolean,default:!0},class:{}},setup(i){const t=i;return(e,r)=>(tt(),J("div",me,[ie("div",{class:Y(Z(W)(t.spacing&&"space-y-6",t.class))},[X(e.$slots,"default")],2)]))}}),Oe=G({__name:"Card",props:{class:{}},setup(i){const t=i;return(e,r)=>(tt(),J("div",{class:Y(Z(W)("rounded-xl border bg-card text-card-foreground shadow",t.class))},[X(e.$slots,"default")],2))}}),Se=G({__name:"CardContent",props:{class:{}},setup(i){const t=i;return(e,r)=>(tt(),J("div",{class:Y(Z(W)("p-6 pt-0",t.class))},[X(e.$slots,"default")],2))}}),_e=G({__name:"CardDescription",props:{class:{}},setup(i){const t=i;return(e,r)=>(tt(),J("p",{class:Y(Z(W)("text-sm text-muted-foreground",t.class))},[X(e.$slots,"default")],2))}}),we=G({__name:"CardHeader",props:{class:{}},setup(i){const t=i;return(e,r)=>(tt(),J("div",{class:Y(Z(W)("flex flex-col gap-y-1.5 p-6",t.class))},[X(e.$slots,"default")],2))}}),Ee=G({__name:"CardTitle",props:{class:{}},setup(i){const t=i;return(e,r)=>(tt(),J("h3",{class:Y(Z(W)("font-semibold leading-none tracking-tight",t.class))},[X(e.$slots,"default")],2))}}),Ot=re(),st=ne.create({baseURL:"/api/v1",timeout:2e4,headers:{"Content-Type":"application/json"},withCredentials:!0});st.interceptors.request.use(i=>(i.doNotShowLoading||Ot.start(),i),i=>Promise.reject(i));st.interceptors.response.use(i=>(Ot.done(),Promise.resolve(i.data)),i=>{if(Ot.done(),ae(i)&&i.response&&i.response.data){const{status:t}=i.response,{message:e,code:r,details:o}=i.response.data;return t>=400&&t<500?Promise.reject(new oe(e,t,r,o)):Promise.reject(new he(e||"Unexpected error",t))}return Promise.reject(i)});const wt={getSystemConfig(){return st.get("/system/config")},updateSystemConfig(i){return st.put("/system/config",i)},restartSystem(){return st.post("/system/restart")}};function xe(){return pe({queryKey:["systemConfig"],queryFn:()=>wt.getSystemConfig()})}function Ie(){const i=_t();return Vt({mutationFn:t=>wt.updateSystemConfig(t),onSuccess:()=>i.invalidateQueries({queryKey:["systemConfig"]})})}function Me(){return Vt({mutationFn:()=>wt.restartSystem()})}export{Ce as L,Oe as _,we as a,Ee as b,Se as c,_e as d,xe as e,Re as f,Me as g,Ie as u};
