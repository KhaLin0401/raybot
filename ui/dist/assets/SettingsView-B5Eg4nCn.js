import{u as re,C as fe,_ as K,a as me,b as _e,c as pe,d as be,e as ce,H as ge,f as ye,g as ve,h as we,i as xe,j as Se,W as Ce,k as ke}from"./Switch.vuevuetypescriptsetuptruelang-CDDQR9UA.js";import{c as ie,a as Pe,e as ae,i as Te,u as Ee}from"./http-D8I8Ubdl.js";import{c as N,o as R,s as W,g as z,f as te,F as r,a as f,b as m,_,d as b,t as se,n as B,Z,u as ue,h as $e,l as G}from"./FormMessage.vuevuetypescriptsetuptruelang-DsuVZqhI.js";import{_ as J}from"./index-BHeyAgR2.js";/* empty css                                                              */import{d as O,P as Ve,Q as De,r as Ie,p as T,o as u,g as l,u as e,q as Ae,w as a,c as A,l as n,v as le,I as Q,s,m as V,D,F as q,G as oe,E as ne,i as j,j as M,N as Ne,O as Re}from"./index-BB5u-pJS.js";import{_ as Oe}from"./plugin-vueexport-helper-DlAUqK2U.js";import{L as H,_ as Ue}from"./PageContainer.vuevuetypescriptsetuptruelang-Bjbc-g4F.js";import{_ as U,a as F,b as h,c as L,d as S}from"./SelectValue.vuevuetypescriptsetuptruelang-CJG6B4J8.js";import{_ as Fe,a as X,b as ee,c as he}from"./TabsTrigger.vuevuetypescriptsetuptruelang-DYE6HOB1.js";import"./check-DEgmQYAt.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=ie("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=ie("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qe={class:"relative"},Qe={class:"sr-only"},He=O({__name:"PasswordInput",props:Ve({disabled:{type:Boolean},class:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(P){const p=P,w=De(P,"modelValue"),C=Ie(!1);function E(){C.value=!C.value}return(v,x)=>(u(),T("div",qe,[l(e(N),{modelValue:w.value,"onUpdate:modelValue":x[0]||(x[0]=i=>w.value=i),type:e(C)?"text":"password",class:Ae(e(Pe)("pr-10 hide-password-toggle",p.class))},null,8,["modelValue","type","class"]),l(e(J),{type:"button",variant:"ghost",size:"sm",class:"absolute top-0 right-0 h-full px-3 py-2 hover:bg-transparent",onClick:E},{default:a(()=>[e(C)&&!p.disabled?(u(),A(e(Be),{key:0,class:"w-4 h-4","aria-hidden":"true"})):(u(),A(e(Le),{key:1,class:"w-4 h-4","aria-hidden":"true"})),n("span",Qe,le(e(C)?"Hide password":"Show password"),1)]),_:1})]))}}),de=Oe(He,[["__scopeId","data-v-e2be5266"]]),je={class:"space-y-0.5"},Me=O({__name:"CloudConfigForm",props:{initialValues:{}},setup(P){const p=P,w=R({enable:z().default(!1),address:W().min(1,"Address is required"),token:W().min(1,"Token is required")}),C=ae(),{mutate:E,isPending:v}=re(),i=te({validationSchema:se(w),initialValues:p.initialValues}).handleSubmit(c=>{E(c,{onSuccess:()=>{C.setQueryData([fe],c),Q.success("Cloud configuration updated successfully!")},onError:()=>{Q.error("Failed to update cloud configuration")}})});return(c,d)=>(u(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...g)=>e(i)&&e(i)(...g))},[d[5]||(d[5]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Cloud Configuration ",-1)),l(e(r),{name:"address"},{default:a(({componentField:g})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>d[1]||(d[1]=[s("Cloud Address")])),_:1,__:[1]}),l(e(_),null,{default:a(()=>[l(e(N),V(g,{type:"url",placeholder:"https://cloud.example.com",disabled:e(v)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"token"},{default:a(({componentField:g})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>d[2]||(d[2]=[s("Auth token")])),_:1,__:[2]}),l(e(_),null,{default:a(()=>[l(e(de),V(g,{placeholder:"Enter your auth token",disabled:e(v)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"enable"},{default:a(({value:g,handleChange:$})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",je,[l(e(m),null,{default:a(()=>d[3]||(d[3]=[s("Enable Cloud Service")])),_:1,__:[3]})]),l(e(_),null,{default:a(()=>[l(e(K),{"model-value":g,disabled:e(v),"aria-readonly":"","onUpdate:modelValue":$},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),n("div",null,[l(e(J),{type:"submit",disabled:e(v)},{default:a(()=>[e(v)?(u(),A(e(H),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):D("",!0),d[4]||(d[4]=s(" Save "))]),_:1,__:[4]},8,["disabled"])])],32))}}),We={key:0,class:"flex items-center justify-center h-full"},Ye=O({__name:"CloudConfigTab",setup(P){const{data:p,isPending:w}=me();return(C,E)=>(u(),T(q,null,[e(w)?(u(),T("div",We,[l(e(H),{class:"w-4 h-4 animate-spin"})])):D("",!0),e(p)?(u(),A(Me,{key:1,"initial-values":e(p)},null,8,["initial-values"])):D("",!0)],64))}}),Ge={class:"grid grid-cols-1 gap-8"},Ke={class:"space-y-3"},ze={class:"space-y-6 ps-4"},Ze={class:"grid grid-cols-1 gap-8"},Je={class:"space-y-3"},Xe={class:"space-y-6 ps-4"},el={class:"space-y-6"},ll=O({__name:"CommandConfigForm",props:{initialValues:{}},setup(P){const p=P,w=R({cargoLift:R({stableReadCount:B().int().positive("Stable read count must be positive").min(1)}),cargoLower:R({stableReadCount:B().int().positive("Stable read count must be positive").min(1),bottomObstacleTracking:R({enterDistance:B().int().min(1),exitDistance:B().int().min(1)})})}).superRefine((c,d)=>{c.cargoLower.bottomObstacleTracking.enterDistance>=c.cargoLower.bottomObstacleTracking.exitDistance&&(d.addIssue({code:Z.custom,message:"Enter distance must be less than exit distance",path:["cargoLower.bottomObstacleTracking.enterDistance"]}),d.addIssue({code:Z.custom,message:"Enter distance must be less than exit distance",path:["cargoLower.bottomObstacleTracking.exitDistance"]}))}),C=ae(),{mutate:E,isPending:v}=_e(),i=te({validationSchema:se(w),initialValues:p.initialValues}).handleSubmit(c=>{E(c,{onSuccess:()=>{Q.success("Command configuration updated successfully!"),C.setQueryData([pe],c)}})});return(c,d)=>(u(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...g)=>e(i)&&e(i)(...g))},[n("div",Ge,[n("div",Ke,[d[2]||(d[2]=n("h4",{class:"text-lg font-medium tracking-tight"}," Cargo Lift configuration ",-1)),n("div",ze,[l(e(r),{name:"cargoLift.stableReadCount"},{default:a(({componentField:g})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>d[1]||(d[1]=[s("Stable Read Count")])),_:1,__:[1]}),l(e(_),null,{default:a(()=>[l(e(N),V(g,{type:"number",disabled:e(v)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1})])])]),n("div",Ze,[n("div",Je,[d[7]||(d[7]=n("h4",{class:"text-lg font-medium tracking-tight"}," Cargo Lower configuration ",-1)),n("div",Xe,[l(e(r),{name:"cargoLower.stableReadCount"},{default:a(({componentField:g})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>d[3]||(d[3]=[s("Stable Read Count")])),_:1,__:[3]}),l(e(_),null,{default:a(()=>[l(e(N),V(g,{type:"number",disabled:e(v)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),n("div",el,[d[6]||(d[6]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Bottom Obstacle Tracking ",-1)),l(e(r),{name:"cargoLower.bottomObstacleTracking.enterDistance"},{default:a(({componentField:g})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>d[4]||(d[4]=[s("Enter Distance (cm)")])),_:1,__:[4]}),l(e(_),null,{default:a(()=>[l(e(N),V(g,{type:"number",disabled:e(v)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"cargoLower.bottomObstacleTracking.exitDistance"},{default:a(({componentField:g})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>d[5]||(d[5]=[s("Exit Distance (cm)")])),_:1,__:[5]}),l(e(_),null,{default:a(()=>[l(e(N),V(g,{type:"number",disabled:e(v)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1})])])])]),n("div",null,[l(e(J),{type:"submit",disabled:e(v)},{default:a(()=>[e(v)?(u(),A(e(H),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):D("",!0),d[8]||(d[8]=s(" Save "))]),_:1,__:[8]},8,["disabled"])])],32))}}),al={key:0,class:"flex items-center justify-center h-full"},tl=O({__name:"CommandConfigTab",setup(P){const{data:p,isPending:w}=be();return(C,E)=>{const v=oe("Loader");return u(),T(q,null,[e(w)?(u(),T("div",al,[l(v,{class:"w-4 h-4 animate-spin"})])):D("",!0),e(p)?(u(),A(ll,{key:1,"initial-values":e(p)},null,8,["initial-values"])):D("",!0)],64)}}}),sl={listAvailableSerialPorts:P=>Te.get("/peripherals/serials",P)};function nl(P){return Ee({queryKey:["serial-ports"],queryFn:()=>sl.listAvailableSerialPorts(P),select:p=>p.items})}const dl={class:"grid grid-cols-1 gap-8"},ul={class:"space-y-3"},il={class:"px-4 space-y-6"},ol={class:"space-y-6"},rl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},fl={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},ml={class:"space-y-6"},_l={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},pl={class:"space-y-6"},bl={class:"space-y-3"},cl={class:"px-4 space-y-6"},gl={class:"space-y-6"},yl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},vl={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},wl={class:"space-y-6"},xl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Sl={class:"space-y-6"},Cl=O({__name:"HardwareConfigForm",props:{initialValues:{}},setup(P){const p=P,w=[9600,19200,38400,57600,115200],C=R({port:W().min(1,"Port is required"),baudRate:B().int().positive("Baud rate must be positive"),parity:$e(["NONE","EVEN","ODD"]).default("NONE"),dataBits:ue([G(5),G(6),G(7),G(8)]).default(8),stopBits:ue([G(1),G(1.5),G(2)]).default(1),readTimeout:B().int().nonnegative("Read timeout must be non-negative")}),E=R({esp:R({serial:C,enableAck:z().default(!1),commandAckTimeout:B().int().nonnegative("Command ack timeout must be non-negative")}),pic:R({serial:C,enableAck:z().default(!1),commandAckTimeout:B().int().nonnegative("Command ack timeout must be non-negative")})}).superRefine((k,t)=>{k.esp.serial.port===k.pic.serial.port&&(t.addIssue({code:Z.custom,message:"ESP and PIC cannot use the same port",path:["esp.serial.port"]}),t.addIssue({code:Z.custom,message:"ESP and PIC cannot use the same port",path:["pic.serial.port"]}))}),v=ae(),{mutate:x,isPending:i}=ce(),{data:c,refetch:d}=nl({doNotShowLoading:!0}),$=te({validationSchema:se(E),initialValues:p.initialValues}).handleSubmit(k=>{x(k,{onSuccess:()=>{v.setQueryData([ge],k),Q.success("Hardware configuration updated successfully!")},onError:()=>{Q.error("Failed to update hardware configuration")}})});function y(k){k&&d()}return(k,t)=>(u(),T("form",{class:"flex flex-col w-full space-y-6",onSubmit:t[0]||(t[0]=(...o)=>e($)&&e($)(...o))},[n("div",dl,[n("div",ul,[t[22]||(t[22]=n("h4",{class:"text-lg font-medium tracking-tight"}," ESP Controller ",-1)),n("div",il,[n("div",ol,[t[18]||(t[18]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),n("div",rl,[l(e(r),{name:"esp.serial.port"},{default:a(({componentField:o,value:I})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[1]||(t[1]=[s("Port")])),_:1,__:[1]}),l(e(U),V(o,{required:"","onUpdate:open":y}),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(F),{disabled:e(i)},{default:a(()=>[l(e(h),{placeholder:I},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(L),null,{default:a(()=>[l(e(S),{value:"NONEESP"},{default:a(()=>t[2]||(t[2]=[s(" None ")])),_:1,__:[2]}),e(c)?(u(!0),T(q,{key:0},ne(e(c),Y=>(u(),A(e(S),{key:Y.port,value:Y.port},{default:a(()=>[s(le(Y.port),1)]),_:2},1032,["value"]))),128)):D("",!0)]),_:1})]),_:2},1040),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"esp.serial.readTimeout"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[3]||(t[3]=[s("Read Timeout (s)")])),_:1,__:[3]}),l(e(_),null,{default:a(()=>[l(e(N),V(o,{type:"number",disabled:e(i),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1})]),n("div",fl,[l(e(r),{name:"esp.serial.baudRate"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[4]||(t[4]=[s("Baud Rate")])),_:1,__:[4]}),l(e(U),j(M(o)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(F),{disabled:e(i)},{default:a(()=>[l(e(h),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[(u(),T(q,null,ne(w,I=>l(e(S),{key:I,value:I},{default:a(()=>[s(le(I),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"esp.serial.parity"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[5]||(t[5]=[s("Parity")])),_:1,__:[5]}),l(e(U),j(M(o)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(F),{disabled:e(i)},{default:a(()=>[l(e(h),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(S),{value:"NONE"},{default:a(()=>t[6]||(t[6]=[s(" None ")])),_:1,__:[6]}),l(e(S),{value:"EVEN"},{default:a(()=>t[7]||(t[7]=[s(" Even ")])),_:1,__:[7]}),l(e(S),{value:"ODD"},{default:a(()=>t[8]||(t[8]=[s(" Odd ")])),_:1,__:[8]})]),_:1})]),_:2},1040),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"esp.serial.dataBits"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[9]||(t[9]=[s("Data Bits")])),_:1,__:[9]}),l(e(U),j(M(o)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(F),{disabled:e(i)},{default:a(()=>[l(e(h),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(S),{value:5},{default:a(()=>t[10]||(t[10]=[s(" 5 ")])),_:1,__:[10]}),l(e(S),{value:6},{default:a(()=>t[11]||(t[11]=[s(" 6 ")])),_:1,__:[11]}),l(e(S),{value:7},{default:a(()=>t[12]||(t[12]=[s(" 7 ")])),_:1,__:[12]}),l(e(S),{value:8},{default:a(()=>t[13]||(t[13]=[s(" 8 ")])),_:1,__:[13]})]),_:1})]),_:2},1040),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"esp.serial.stopBits"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[14]||(t[14]=[s("Stop Bits")])),_:1,__:[14]}),l(e(U),j(M(o)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(F),{disabled:e(i)},{default:a(()=>[l(e(h),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(S),{value:1},{default:a(()=>t[15]||(t[15]=[s(" 1 ")])),_:1,__:[15]}),l(e(S),{value:1.5},{default:a(()=>t[16]||(t[16]=[s(" 1.5 ")])),_:1,__:[16]}),l(e(S),{value:2},{default:a(()=>t[17]||(t[17]=[s(" 2 ")])),_:1,__:[17]})]),_:1})]),_:2},1040),l(e(b))]),_:2},1024)]),_:1})])]),n("div",ml,[t[21]||(t[21]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),n("div",_l,[n("div",pl,[l(e(r),{name:"esp.enableAck"},{default:a(({value:o,handleChange:I})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[l(e(m),null,{default:a(()=>t[19]||(t[19]=[s("Enable Ack")])),_:1,__:[19]}),l(e(_),null,{default:a(()=>[l(e(K),{"model-value":o,disabled:e(i),"aria-readonly":"","onUpdate:modelValue":I},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"esp.commandAckTimeout"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[20]||(t[20]=[s("Ack Timeout (ms)")])),_:1,__:[20]}),l(e(_),null,{default:a(()=>[l(e(N),V(o,{type:"number",disabled:e(i),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1})])])])])]),n("div",bl,[t[44]||(t[44]=n("h4",{class:"text-lg font-medium tracking-tight"}," PIC Controller ",-1)),n("div",cl,[n("div",gl,[t[40]||(t[40]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),n("div",yl,[l(e(r),{name:"pic.serial.port"},{default:a(({componentField:o,value:I})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[23]||(t[23]=[s("Port")])),_:1,__:[23]}),l(e(U),V(o,{required:"","onUpdate:open":y}),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(F),{disabled:e(i)},{default:a(()=>[l(e(h),{placeholder:I},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(L),null,{default:a(()=>[l(e(S),{value:"NONEPIC"},{default:a(()=>t[24]||(t[24]=[s(" None ")])),_:1,__:[24]}),e(c)?(u(!0),T(q,{key:0},ne(e(c),Y=>(u(),A(e(S),{key:Y.port,value:Y.port},{default:a(()=>[s(le(Y.port),1)]),_:2},1032,["value"]))),128)):D("",!0)]),_:1})]),_:2},1040),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"pic.serial.readTimeout"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[25]||(t[25]=[s("Read Timeout (s)")])),_:1,__:[25]}),l(e(_),null,{default:a(()=>[l(e(N),V(o,{type:"number",disabled:e(i),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1})]),n("div",vl,[l(e(r),{name:"pic.serial.baudRate"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[26]||(t[26]=[s("Baud Rate")])),_:1,__:[26]}),l(e(U),j(M(o)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(F),{disabled:e(i)},{default:a(()=>[l(e(h),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[(u(),T(q,null,ne(w,I=>l(e(S),{key:I,value:I},{default:a(()=>[s(le(I),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"pic.serial.parity"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[27]||(t[27]=[s("Parity")])),_:1,__:[27]}),l(e(U),j(M(o)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(F),{disabled:e(i)},{default:a(()=>[l(e(h),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(S),{value:"NONE"},{default:a(()=>t[28]||(t[28]=[s(" None ")])),_:1,__:[28]}),l(e(S),{value:"EVEN"},{default:a(()=>t[29]||(t[29]=[s(" Even ")])),_:1,__:[29]}),l(e(S),{value:"ODD"},{default:a(()=>t[30]||(t[30]=[s(" Odd ")])),_:1,__:[30]})]),_:1})]),_:2},1040),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"pic.serial.dataBits"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[31]||(t[31]=[s("Data Bits")])),_:1,__:[31]}),l(e(U),j(M(o)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(F),{disabled:e(i)},{default:a(()=>[l(e(h),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(S),{value:5},{default:a(()=>t[32]||(t[32]=[s(" 5 ")])),_:1,__:[32]}),l(e(S),{value:6},{default:a(()=>t[33]||(t[33]=[s(" 6 ")])),_:1,__:[33]}),l(e(S),{value:7},{default:a(()=>t[34]||(t[34]=[s(" 7 ")])),_:1,__:[34]}),l(e(S),{value:8},{default:a(()=>t[35]||(t[35]=[s(" 8 ")])),_:1,__:[35]})]),_:1})]),_:2},1040),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"pic.serial.stopBits"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[36]||(t[36]=[s("Stop Bits")])),_:1,__:[36]}),l(e(U),j(M(o)),{default:a(()=>[l(e(_),null,{default:a(()=>[l(e(F),{disabled:e(i)},{default:a(()=>[l(e(h),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(L),null,{default:a(()=>[l(e(S),{value:1},{default:a(()=>t[37]||(t[37]=[s(" 1 ")])),_:1,__:[37]}),l(e(S),{value:1.5},{default:a(()=>t[38]||(t[38]=[s(" 1.5 ")])),_:1,__:[38]}),l(e(S),{value:2},{default:a(()=>t[39]||(t[39]=[s(" 2 ")])),_:1,__:[39]})]),_:1})]),_:2},1040),l(e(b))]),_:2},1024)]),_:1})])]),n("div",wl,[t[43]||(t[43]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),n("div",xl,[n("div",Sl,[l(e(r),{name:"pic.enableAck"},{default:a(({value:o,handleChange:I})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[l(e(m),null,{default:a(()=>t[41]||(t[41]=[s("Enable Ack")])),_:1,__:[41]}),l(e(_),null,{default:a(()=>[l(e(K),{"model-value":o,disabled:e(i),"aria-readonly":"","onUpdate:modelValue":I},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"pic.commandAckTimeout"},{default:a(({componentField:o})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>t[42]||(t[42]=[s("Ack Timeout (ms)")])),_:1,__:[42]}),l(e(_),null,{default:a(()=>[l(e(N),V(o,{type:"number",disabled:e(i),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1})])])])])])]),n("div",null,[l(e(J),{type:"submit",disabled:e(i)},{default:a(()=>[e(i)?(u(),A(e(H),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):D("",!0),t[45]||(t[45]=s(" Save "))]),_:1,__:[45]},8,["disabled"])])],32))}}),kl={key:0,class:"flex items-center justify-center h-full"},Pl=O({__name:"HardwareConfigTab",setup(P){const{data:p,isPending:w}=ye();return(C,E)=>(u(),T(q,null,[e(w)?(u(),T("div",kl,[l(e(H),{class:"w-4 h-4 animate-spin"})])):D("",!0),e(p)?(u(),A(Cl,{key:1,"initial-values":e(p)},null,8,["initial-values"])):D("",!0)],64))}}),Tl={class:"space-y-0.5"},El=O({__name:"HTTPConfigForm",props:{initialValues:{}},setup(P){const p=P,w=R({port:B().int().min(1024,"Port must be at least 1024").max(65535,"Port must be at most 65535"),swagger:z().default(!1)}),C=ae(),{mutate:E,isPending:v}=ve(),i=te({validationSchema:se(w),initialValues:p.initialValues}).handleSubmit(c=>{E(c,{onSuccess:()=>{C.setQueryData([we],c),Q.success("HTTP configuration updated successfully!")},onError:()=>{Q.error("Failed to update HTTP configuration")}})});return(c,d)=>(u(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...g)=>e(i)&&e(i)(...g))},[d[4]||(d[4]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," HTTP Configuration ",-1)),l(e(r),{name:"port"},{default:a(({field:g})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>d[1]||(d[1]=[s("Port")])),_:1,__:[1]}),l(e(_),null,{default:a(()=>[l(e(N),{modelValue:g.value,"onUpdate:modelValue":$=>g.value=$,type:"number",placeholder:"Enter port number",disabled:e(v),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"swagger"},{default:a(({value:g,handleChange:$})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",Tl,[l(e(m),null,{default:a(()=>d[2]||(d[2]=[s("Enable Swagger")])),_:1,__:[2]})]),l(e(_),null,{default:a(()=>[l(e(K),{"model-value":g,disabled:e(v),"aria-readonly":"","onUpdate:modelValue":$},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),n("div",null,[l(e(J),{type:"submit",disabled:e(v)},{default:a(()=>[e(v)?(u(),A(e(H),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):D("",!0),d[3]||(d[3]=s(" Save "))]),_:1,__:[3]},8,["disabled"])])],32))}}),$l={key:0,class:"flex items-center justify-center h-full"},Vl=O({__name:"HTTPConfigTab",setup(P){const{data:p,isPending:w}=xe();return(C,E)=>(u(),T(q,null,[e(w)?(u(),T("div",$l,[l(e(H),{class:"w-4 h-4 animate-spin"})])):D("",!0),e(p)?(u(),A(El,{key:1,"initial-values":e(p)},null,8,["initial-values"])):D("",!0)],64))}}),Dl={class:"space-y-0.5"},Il={class:"space-y-0.5"},Al=O({__name:"WifiConfigForm",props:{initialValues:{}},setup(P){const p=P,w=/^[\w\s\-.]*$/,C=/^[\x21-\x7E]*$/,E=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})$/,v=R({ap:R({enable:z(),ssid:W().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(w,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:W().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(C,"Password can only contain printable characters"),ip:W().min(1,"IP address is required").regex(E,"Invalid IPv4 address format")}),sta:R({enable:z(),ssid:W().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(w,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:W().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(C,"Password can only contain printable characters")})}).superRefine(($,y)=>{($.ap.enable&&$.sta.enable||!$.ap.enable&&!$.sta.enable)&&(y.addIssue({code:Z.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["ap.enable"]}),y.addIssue({code:Z.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["sta.enable"]}))}),x=ae(),{mutate:i,isPending:c}=Se(),g=te({validationSchema:se(v),initialValues:p.initialValues}).handleSubmit($=>{i($,{onSuccess:()=>{x.setQueryData([Ce],$),Q.success("WiFi configuration updated successfully!")},onError:()=>{Q.error("Failed to update WiFi configuration")}})});return($,y)=>(u(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:y[0]||(y[0]=(...k)=>e(g)&&e(g)(...k))},[y[9]||(y[9]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," AP Configuration ",-1)),l(e(r),{type:"checkbox",name:"ap.enable"},{default:a(({value:k,handleChange:t})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",Dl,[l(e(m),null,{default:a(()=>y[1]||(y[1]=[s("Enable AP")])),_:1,__:[1]})]),l(e(_),null,{default:a(()=>[l(e(K),{"model-value":k,disabled:e(c),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(b))]),_:1}),l(e(r),{name:"ap.ssid"},{default:a(({componentField:k})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>y[2]||(y[2]=[s("SSID")])),_:1,__:[2]}),l(e(_),null,{default:a(()=>[l(e(N),V(k,{placeholder:"Enter SSID",disabled:e(c)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"ap.password"},{default:a(({componentField:k})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>y[3]||(y[3]=[s("Password")])),_:1,__:[3]}),l(e(_),null,{default:a(()=>[l(e(de),V(k,{placeholder:"Enter password",disabled:e(c)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"ap.ip"},{default:a(({componentField:k})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>y[4]||(y[4]=[s("IP Address")])),_:1,__:[4]}),l(e(_),null,{default:a(()=>[l(e(N),V(k,{placeholder:"Enter IP address",disabled:e(c)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),y[10]||(y[10]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," STA Configuration ",-1)),l(e(r),{type:"checkbox",name:"sta.enable"},{default:a(({value:k,handleChange:t})=>[l(e(f),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",Il,[l(e(m),null,{default:a(()=>y[5]||(y[5]=[s("Enable STA")])),_:1,__:[5]})]),l(e(_),null,{default:a(()=>[l(e(K),{"model-value":k,disabled:e(c),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(b))]),_:1}),l(e(r),{name:"sta.ssid"},{default:a(({componentField:k})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>y[6]||(y[6]=[s("SSID")])),_:1,__:[6]}),l(e(_),null,{default:a(()=>[l(e(N),V(k,{placeholder:"Enter SSID",disabled:e(c)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),l(e(r),{name:"sta.password"},{default:a(({componentField:k})=>[l(e(f),null,{default:a(()=>[l(e(m),null,{default:a(()=>y[7]||(y[7]=[s("Password")])),_:1,__:[7]}),l(e(_),null,{default:a(()=>[l(e(de),V(k,{placeholder:"Enter password",disabled:e(c)}),null,16,["disabled"])]),_:2},1024),l(e(b))]),_:2},1024)]),_:1}),n("div",null,[l(e(J),{type:"submit",disabled:e(c)},{default:a(()=>[e(c)?(u(),A(e(H),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):D("",!0),y[8]||(y[8]=s(" Save "))]),_:1,__:[8]},8,["disabled"])])],32))}}),Nl={key:0,class:"flex items-center justify-center h-full"},Rl=O({__name:"WifiConfigTab",setup(P){const{data:p,isPending:w}=ke();return(C,E)=>(u(),T(q,null,[e(w)?(u(),T("div",Nl,[l(e(H),{class:"w-4 h-4 animate-spin"})])):D("",!0),e(p)?(u(),A(Al,{key:1,"initial-values":e(p)},null,8,["initial-values"])):D("",!0)],64))}}),Ol={class:"text-sm text-muted-foreground"},Yl=O({__name:"SettingsView",setup(P){const p=Ne(),w=Re(),C=p.query.tab??"hardware";function E(v){w.replace({query:{tab:v}})}return(v,x)=>{const i=oe("RouterLink");return u(),A(Ue,null,{default:a(()=>[n("div",null,[x[2]||(x[2]=n("h1",{class:"text-xl font-semibold tracking-tight"}," Settings ",-1)),n("p",Ol,[x[1]||(x[1]=s(" Configure your robot's settings ")),l(i,{to:"/reboot",class:"text-blue-500"},{default:a(()=>x[0]||(x[0]=[s(" (Reboot to apply changes) ")])),_:1,__:[0]})])]),l(e(he),{"default-value":e(C),"onUpdate:modelValue":E},{default:a(()=>[l(e(Fe),null,{default:a(()=>[l(e(X),{value:"hardware"},{default:a(()=>x[3]||(x[3]=[s(" Hardware ")])),_:1,__:[3]}),l(e(X),{value:"cloud"},{default:a(()=>x[4]||(x[4]=[s(" Cloud ")])),_:1,__:[4]}),l(e(X),{value:"http"},{default:a(()=>x[5]||(x[5]=[s(" HTTP ")])),_:1,__:[5]}),l(e(X),{value:"wifi"},{default:a(()=>x[6]||(x[6]=[s(" WiFi ")])),_:1,__:[6]}),l(e(X),{value:"command"},{default:a(()=>x[7]||(x[7]=[s(" Command ")])),_:1,__:[7]})]),_:1}),l(e(ee),{value:"hardware"},{default:a(()=>[l(Pl)]),_:1}),l(e(ee),{value:"cloud"},{default:a(()=>[l(Ye)]),_:1}),l(e(ee),{value:"http"},{default:a(()=>[l(Vl)]),_:1}),l(e(ee),{value:"wifi"},{default:a(()=>[l(Rl)]),_:1}),l(e(ee),{value:"command"},{default:a(()=>[l(tl)]),_:1})]),_:1},8,["default-value"])]),_:1})}}});export{Yl as default};
