import{u as ie,C as re,_ as X,a as fe,b as _e,H as pe,c as me,d as be,e as ce,f as ge,g as ye,W as ve,h as Se}from"./Switch.vuevuetypescriptsetuptruelang-CjPGYe6P.js";import{c as oe,a as we,u as ae,i as xe}from"./http-B4KzYEr5.js";import{c as j,o as B,s as O,g as ee,f as te,F as m,a as b,b as c,_ as g,d as S,t as se,n as ue,u as ne,h as Pe,l as Y,Z as le}from"./FormMessage.vuevuetypescriptsetuptruelang-ngLssKMu.js";import{_ as K}from"./index-lJKFTNPi.js";/* empty css                                                              */import{d as h,P as Ce,Q as Ve,r as Ee,p as T,o as u,g as l,u as e,q as Te,w as a,c as I,l as f,v as G,I as M,s,m as A,D,F as Q,E as z,i as q,j as H,N as ke,G as $e,O as Ie}from"./index-DxwmmwYy.js";import{_ as De}from"./plugin-vueexport-helper-DlAUqK2U.js";import{L as W,_ as Ue}from"./PageContainer.vuevuetypescriptsetuptruelang-98GadGMq.js";import{_ as U,a as N,b as F,c as R,d as p}from"./SelectValue.vuevuetypescriptsetuptruelang-sjkRP28k.js";import{i as Ne}from"./check-BmVWlGJ7.js";import{_ as Fe,a as Z,b as J,c as Re}from"./TabsTrigger.vuevuetypescriptsetuptruelang-BG4d6PFJ.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=oe("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=oe("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Be={class:"relative"},qe={class:"sr-only"},He=h({__name:"PasswordInput",props:Ce({disabled:{type:Boolean},class:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(P){const o=P,v=Ve(P,"modelValue"),w=Ee(!1);function k(){w.value=!w.value}return(C,y)=>(u(),T("div",Be,[l(e(j),{modelValue:v.value,"onUpdate:modelValue":y[0]||(y[0]=i=>v.value=i),type:e(w)?"text":"password",class:Te(e(we)("pr-10 hide-password-toggle",o.class))},null,8,["modelValue","type","class"]),l(e(K),{type:"button",variant:"ghost",size:"sm",class:"absolute top-0 right-0 h-full px-3 py-2 hover:bg-transparent",onClick:k},{default:a(()=>[e(w)&&!o.disabled?(u(),I(e(Ae),{key:0,class:"w-4 h-4","aria-hidden":"true"})):(u(),I(e(he),{key:1,class:"w-4 h-4","aria-hidden":"true"})),f("span",qe,G(e(w)?"Hide password":"Show password"),1)]),_:1})]))}}),de=De(He,[["__scopeId","data-v-e2be5266"]]),Oe={class:"space-y-0.5"},Qe=h({__name:"CloudConfigForm",props:{initialValues:{}},setup(P){const o=P,v=B({enable:ee().default(!1),address:O().min(1,"Address is required"),token:O().min(1,"Token is required")}),w=ae(),{mutate:k,isPending:C}=ie(),i=te({validationSchema:se(v),initialValues:o.initialValues}).handleSubmit(x=>{k(x,{onSuccess:()=>{w.setQueryData([re],x),M.success("Cloud configuration updated successfully!")},onError:()=>{M.error("Failed to update cloud configuration")}})});return(x,r)=>(u(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:r[0]||(r[0]=(...V)=>e(i)&&e(i)(...V))},[r[5]||(r[5]=f("h3",{class:"pb-2 text-lg font-medium border-b"}," Cloud Configuration ",-1)),l(e(m),{name:"address"},{default:a(({componentField:V})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>r[1]||(r[1]=[s("Cloud Address")])),_:1,__:[1]}),l(e(g),null,{default:a(()=>[l(e(j),A(V,{type:"url",placeholder:"https://cloud.example.com",disabled:e(C)}),null,16,["disabled"])]),_:2},1024),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"token"},{default:a(({componentField:V})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>r[2]||(r[2]=[s("Auth token")])),_:1,__:[2]}),l(e(g),null,{default:a(()=>[l(e(de),A(V,{placeholder:"Enter your auth token",disabled:e(C)}),null,16,["disabled"])]),_:2},1024),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"enable"},{default:a(({value:V,handleChange:E})=>[l(e(b),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[f("div",Oe,[l(e(c),null,{default:a(()=>r[3]||(r[3]=[s("Enable Cloud Service")])),_:1,__:[3]})]),l(e(g),null,{default:a(()=>[l(e(X),{"model-value":V,disabled:e(C),"aria-readonly":"","onUpdate:modelValue":E},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),f("div",null,[l(e(K),{type:"submit",disabled:e(C)},{default:a(()=>[e(C)?(u(),I(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):D("",!0),r[4]||(r[4]=s(" Save "))]),_:1,__:[4]},8,["disabled"])])],32))}}),je={key:0,class:"flex items-center justify-center h-full"},Me=h({__name:"CloudConfigTab",setup(P){const{data:o,isPending:v}=fe();return(w,k)=>(u(),T(Q,null,[e(v)?(u(),T("div",je,[l(e(W),{class:"w-4 h-4 animate-spin"})])):D("",!0),e(o)?(u(),I(Qe,{key:1,"initial-values":e(o)},null,8,["initial-values"])):D("",!0)],64))}}),We={listAvailableSerialPorts:P=>xe.get("/peripherals/serials",P)};function Le(P){return Ne({queryKey:["serial-ports"],queryFn:()=>We.listAvailableSerialPorts(P),select:o=>o.items})}const Ye={class:"grid grid-cols-1 gap-8"},Ge={class:"space-y-6"},Ke={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ze={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},Ze={class:"space-y-6"},Je={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Xe={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},el=h({__name:"HardwareConfigForm",props:{initialValues:{}},setup(P){const o=P,v=[9600,19200,38400,57600,115200],w=B({port:O().min(1,"Port is required"),baudRate:ue().int().positive("Baud rate must be positive"),parity:Pe(["NONE","EVEN","ODD"]).default("NONE"),dataBits:ne([Y(5),Y(6),Y(7),Y(8)]).default(8),stopBits:ne([Y(1),Y(1.5),Y(2)]).default(1),readTimeout:ue().int().nonnegative("Read timeout must be non-negative")}),k=B({esp:B({serial:w}),pic:B({serial:w})}).superRefine((_,t)=>{_.esp.serial.port===_.pic.serial.port&&(t.addIssue({code:le.custom,message:"ESP and PIC cannot use the same port",path:["esp.serial.port"]}),t.addIssue({code:le.custom,message:"ESP and PIC cannot use the same port",path:["pic.serial.port"]}))}),C=ae(),{mutate:y,isPending:i}=_e(),{data:x,refetch:r}=Le({doNotShowLoading:!0}),E=te({validationSchema:se(k),initialValues:o.initialValues}).handleSubmit(_=>{y(_,{onSuccess:()=>{C.setQueryData([pe],_),M.success("Hardware configuration updated successfully!")},onError:()=>{M.error("Failed to update hardware configuration")}})});function d(_){_&&r()}return(_,t)=>(u(),T("form",{class:"flex flex-col w-full space-y-6",onSubmit:t[0]||(t[0]=(...n)=>e(E)&&e(E)(...n))},[f("div",Ye,[f("div",Ge,[t[17]||(t[17]=f("h3",{class:"pb-2 text-lg font-medium border-b"}," ESP Serial Configuration ",-1)),f("div",Ke,[l(e(m),{name:"esp.serial.port"},{default:a(({componentField:n,value:$})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[1]||(t[1]=[s("Port")])),_:1,__:[1]}),l(e(U),A(n,{required:"","onUpdate:open":d}),{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(N),{disabled:e(i)},{default:a(()=>[l(e(F),{placeholder:$},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),e(x)?(u(),I(e(R),{key:0},{default:a(()=>[(u(!0),T(Q,null,z(e(x),L=>(u(),I(e(p),{key:L.port,value:L.port},{default:a(()=>[s(G(L.port),1)]),_:2},1032,["value"]))),128))]),_:1})):D("",!0)]),_:2},1040),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"esp.serial.readTimeout"},{default:a(({field:n})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[2]||(t[2]=[s("Read Timeout (s)")])),_:1,__:[2]}),l(e(g),null,{default:a(()=>[l(e(j),{modelValue:n.value,"onUpdate:modelValue":$=>n.value=$,type:"number",disabled:e(i),placeholder:"e.g. 1"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(S))]),_:2},1024)]),_:1})]),f("div",ze,[l(e(m),{name:"esp.serial.baudRate"},{default:a(({componentField:n})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[3]||(t[3]=[s("Baud Rate")])),_:1,__:[3]}),l(e(U),q(H(n)),{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(N),{disabled:e(i)},{default:a(()=>[l(e(F),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[(u(),T(Q,null,z(v,$=>l(e(p),{key:$,value:$},{default:a(()=>[s(G($),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"esp.serial.parity"},{default:a(({componentField:n})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[4]||(t[4]=[s("Parity")])),_:1,__:[4]}),l(e(U),q(H(n)),{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(N),{disabled:e(i)},{default:a(()=>[l(e(F),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(p),{value:"NONE"},{default:a(()=>t[5]||(t[5]=[s(" None ")])),_:1,__:[5]}),l(e(p),{value:"EVEN"},{default:a(()=>t[6]||(t[6]=[s(" Even ")])),_:1,__:[6]}),l(e(p),{value:"ODD"},{default:a(()=>t[7]||(t[7]=[s(" Odd ")])),_:1,__:[7]})]),_:1})]),_:2},1040),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"esp.serial.dataBits"},{default:a(({componentField:n})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[8]||(t[8]=[s("Data Bits")])),_:1,__:[8]}),l(e(U),q(H(n)),{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(N),{disabled:e(i)},{default:a(()=>[l(e(F),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(p),{value:5},{default:a(()=>t[9]||(t[9]=[s(" 5 ")])),_:1,__:[9]}),l(e(p),{value:6},{default:a(()=>t[10]||(t[10]=[s(" 6 ")])),_:1,__:[10]}),l(e(p),{value:7},{default:a(()=>t[11]||(t[11]=[s(" 7 ")])),_:1,__:[11]}),l(e(p),{value:8},{default:a(()=>t[12]||(t[12]=[s(" 8 ")])),_:1,__:[12]})]),_:1})]),_:2},1040),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"esp.serial.stopBits"},{default:a(({componentField:n})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[13]||(t[13]=[s("Stop Bits")])),_:1,__:[13]}),l(e(U),q(H(n)),{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(N),{disabled:e(i)},{default:a(()=>[l(e(F),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(p),{value:1},{default:a(()=>t[14]||(t[14]=[s(" 1 ")])),_:1,__:[14]}),l(e(p),{value:1.5},{default:a(()=>t[15]||(t[15]=[s(" 1.5 ")])),_:1,__:[15]}),l(e(p),{value:2},{default:a(()=>t[16]||(t[16]=[s(" 2 ")])),_:1,__:[16]})]),_:1})]),_:2},1040),l(e(S))]),_:2},1024)]),_:1})])]),f("div",Ze,[t[34]||(t[34]=f("h3",{class:"pb-2 text-lg font-medium border-b"}," PIC Serial Configuration ",-1)),f("div",Je,[l(e(m),{name:"pic.serial.port"},{default:a(({componentField:n,value:$})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[18]||(t[18]=[s("Port")])),_:1,__:[18]}),l(e(U),A(n,{required:"","onUpdate:open":d}),{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(N),{disabled:e(i)},{default:a(()=>[l(e(F),{placeholder:$},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(R),null,{default:a(()=>[(u(!0),T(Q,null,z(e(x),L=>(u(),I(e(p),{key:L.port,value:L.port},{default:a(()=>[s(G(L.port),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:2},1040),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"pic.serial.readTimeout"},{default:a(({field:n})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[19]||(t[19]=[s("Read Timeout (s)")])),_:1,__:[19]}),l(e(g),null,{default:a(()=>[l(e(j),{modelValue:n.value,"onUpdate:modelValue":$=>n.value=$,type:"number",disabled:e(i),placeholder:"e.g. 1"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(S))]),_:2},1024)]),_:1})]),f("div",Xe,[l(e(m),{name:"pic.serial.baudRate"},{default:a(({componentField:n})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[20]||(t[20]=[s("Baud Rate")])),_:1,__:[20]}),l(e(U),q(H(n)),{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(N),{disabled:e(i)},{default:a(()=>[l(e(F),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[(u(),T(Q,null,z(v,$=>l(e(p),{key:$,value:$},{default:a(()=>[s(G($),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"pic.serial.parity"},{default:a(({componentField:n})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[21]||(t[21]=[s("Parity")])),_:1,__:[21]}),l(e(U),q(H(n)),{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(N),{disabled:e(i)},{default:a(()=>[l(e(F),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(p),{value:"NONE"},{default:a(()=>t[22]||(t[22]=[s(" None ")])),_:1,__:[22]}),l(e(p),{value:"EVEN"},{default:a(()=>t[23]||(t[23]=[s(" Even ")])),_:1,__:[23]}),l(e(p),{value:"ODD"},{default:a(()=>t[24]||(t[24]=[s(" Odd ")])),_:1,__:[24]})]),_:1})]),_:2},1040),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"pic.serial.dataBits"},{default:a(({componentField:n})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[25]||(t[25]=[s("Data Bits")])),_:1,__:[25]}),l(e(U),q(H(n)),{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(N),{disabled:e(i)},{default:a(()=>[l(e(F),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(p),{value:5},{default:a(()=>t[26]||(t[26]=[s(" 5 ")])),_:1,__:[26]}),l(e(p),{value:6},{default:a(()=>t[27]||(t[27]=[s(" 6 ")])),_:1,__:[27]}),l(e(p),{value:7},{default:a(()=>t[28]||(t[28]=[s(" 7 ")])),_:1,__:[28]}),l(e(p),{value:8},{default:a(()=>t[29]||(t[29]=[s(" 8 ")])),_:1,__:[29]})]),_:1})]),_:2},1040),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"pic.serial.stopBits"},{default:a(({componentField:n})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>t[30]||(t[30]=[s("Stop Bits")])),_:1,__:[30]}),l(e(U),q(H(n)),{default:a(()=>[l(e(g),null,{default:a(()=>[l(e(N),{disabled:e(i)},{default:a(()=>[l(e(F),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(R),null,{default:a(()=>[l(e(p),{value:1},{default:a(()=>t[31]||(t[31]=[s(" 1 ")])),_:1,__:[31]}),l(e(p),{value:1.5},{default:a(()=>t[32]||(t[32]=[s(" 1.5 ")])),_:1,__:[32]}),l(e(p),{value:2},{default:a(()=>t[33]||(t[33]=[s(" 2 ")])),_:1,__:[33]})]),_:1})]),_:2},1040),l(e(S))]),_:2},1024)]),_:1})])])]),f("div",null,[l(e(K),{type:"submit",disabled:e(i)},{default:a(()=>[e(i)?(u(),I(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):D("",!0),t[35]||(t[35]=s(" Save "))]),_:1,__:[35]},8,["disabled"])])],32))}}),ll={key:0,class:"flex items-center justify-center h-full"},al=h({__name:"HardwareConfigTab",setup(P){const{data:o,isPending:v}=me();return(w,k)=>(u(),T(Q,null,[e(v)?(u(),T("div",ll,[l(e(W),{class:"w-4 h-4 animate-spin"})])):D("",!0),e(o)?(u(),I(el,{key:1,"initial-values":e(o)},null,8,["initial-values"])):D("",!0)],64))}}),tl={class:"space-y-0.5"},sl=h({__name:"HTTPConfigForm",props:{initialValues:{}},setup(P){const o=P,v=B({port:ue().int().min(1024,"Port must be at least 1024").max(65535,"Port must be at most 65535"),swagger:ee().default(!1)}),w=ae(),{mutate:k,isPending:C}=be(),i=te({validationSchema:se(v),initialValues:o.initialValues}).handleSubmit(x=>{k(x,{onSuccess:()=>{w.setQueryData([ce],x),M.success("HTTP configuration updated successfully!")},onError:()=>{M.error("Failed to update HTTP configuration")}})});return(x,r)=>(u(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:r[0]||(r[0]=(...V)=>e(i)&&e(i)(...V))},[r[4]||(r[4]=f("h3",{class:"pb-2 text-lg font-medium border-b"}," HTTP Configuration ",-1)),l(e(m),{name:"port"},{default:a(({field:V})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>r[1]||(r[1]=[s("Port")])),_:1,__:[1]}),l(e(g),null,{default:a(()=>[l(e(j),{modelValue:V.value,"onUpdate:modelValue":E=>V.value=E,type:"number",placeholder:"Enter port number",disabled:e(C),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"swagger"},{default:a(({value:V,handleChange:E})=>[l(e(b),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[f("div",tl,[l(e(c),null,{default:a(()=>r[2]||(r[2]=[s("Enable Swagger")])),_:1,__:[2]})]),l(e(g),null,{default:a(()=>[l(e(X),{"model-value":V,disabled:e(C),"aria-readonly":"","onUpdate:modelValue":E},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),f("div",null,[l(e(K),{type:"submit",disabled:e(C)},{default:a(()=>[e(C)?(u(),I(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):D("",!0),r[3]||(r[3]=s(" Save "))]),_:1,__:[3]},8,["disabled"])])],32))}}),ul={key:0,class:"flex items-center justify-center h-full"},dl=h({__name:"HTTPConfigTab",setup(P){const{data:o,isPending:v}=ge();return(w,k)=>(u(),T(Q,null,[e(v)?(u(),T("div",ul,[l(e(W),{class:"w-4 h-4 animate-spin"})])):D("",!0),e(o)?(u(),I(sl,{key:1,"initial-values":e(o)},null,8,["initial-values"])):D("",!0)],64))}}),nl={class:"space-y-0.5"},ol={class:"space-y-0.5"},il=h({__name:"WifiConfigForm",props:{initialValues:{}},setup(P){const o=P,v=/^[\w\s\-.]*$/,w=/^[\x21-\x7E]*$/,k=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})$/,C=B({ap:B({enable:ee(),ssid:O().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(v,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:O().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(w,"Password can only contain printable characters"),ip:O().min(1,"IP address is required").regex(k,"Invalid IPv4 address format")}),sta:B({enable:ee(),ssid:O().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(v,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:O().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(w,"Password can only contain printable characters")})}).superRefine((E,d)=>{(E.ap.enable&&E.sta.enable||!E.ap.enable&&!E.sta.enable)&&(d.addIssue({code:le.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["ap.enable"]}),d.addIssue({code:le.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["sta.enable"]}))}),y=ae(),{mutate:i,isPending:x}=ye(),V=te({validationSchema:se(C),initialValues:o.initialValues}).handleSubmit(E=>{i(E,{onSuccess:()=>{y.setQueryData([ve],E),M.success("WiFi configuration updated successfully!")},onError:()=>{M.error("Failed to update WiFi configuration")}})});return(E,d)=>(u(),T("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(..._)=>e(V)&&e(V)(..._))},[d[9]||(d[9]=f("h3",{class:"pb-2 text-lg font-medium border-b"}," AP Configuration ",-1)),l(e(m),{type:"checkbox",name:"ap.enable"},{default:a(({value:_,handleChange:t})=>[l(e(b),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[f("div",nl,[l(e(c),null,{default:a(()=>d[1]||(d[1]=[s("Enable AP")])),_:1,__:[1]})]),l(e(g),null,{default:a(()=>[l(e(X),{"model-value":_,disabled:e(x),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(S))]),_:1}),l(e(m),{name:"ap.ssid"},{default:a(({componentField:_})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>d[2]||(d[2]=[s("SSID")])),_:1,__:[2]}),l(e(g),null,{default:a(()=>[l(e(j),A(_,{placeholder:"Enter SSID",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"ap.password"},{default:a(({componentField:_})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>d[3]||(d[3]=[s("Password")])),_:1,__:[3]}),l(e(g),null,{default:a(()=>[l(e(de),A(_,{placeholder:"Enter password",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"ap.ip"},{default:a(({componentField:_})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>d[4]||(d[4]=[s("IP Address")])),_:1,__:[4]}),l(e(g),null,{default:a(()=>[l(e(j),A(_,{placeholder:"Enter IP address",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(S))]),_:2},1024)]),_:1}),d[10]||(d[10]=f("h3",{class:"pb-2 text-lg font-medium border-b"}," STA Configuration ",-1)),l(e(m),{type:"checkbox",name:"sta.enable"},{default:a(({value:_,handleChange:t})=>[l(e(b),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[f("div",ol,[l(e(c),null,{default:a(()=>d[5]||(d[5]=[s("Enable STA")])),_:1,__:[5]})]),l(e(g),null,{default:a(()=>[l(e(X),{"model-value":_,disabled:e(x),"onUpdate:modelValue":t},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(S))]),_:1}),l(e(m),{name:"sta.ssid"},{default:a(({componentField:_})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>d[6]||(d[6]=[s("SSID")])),_:1,__:[6]}),l(e(g),null,{default:a(()=>[l(e(j),A(_,{placeholder:"Enter SSID",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(S))]),_:2},1024)]),_:1}),l(e(m),{name:"sta.password"},{default:a(({componentField:_})=>[l(e(b),null,{default:a(()=>[l(e(c),null,{default:a(()=>d[7]||(d[7]=[s("Password")])),_:1,__:[7]}),l(e(g),null,{default:a(()=>[l(e(de),A(_,{placeholder:"Enter password",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(S))]),_:2},1024)]),_:1}),f("div",null,[l(e(K),{type:"submit",disabled:e(x)},{default:a(()=>[e(x)?(u(),I(e(W),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):D("",!0),d[8]||(d[8]=s(" Save "))]),_:1,__:[8]},8,["disabled"])])],32))}}),rl={key:0,class:"flex items-center justify-center h-full"},fl=h({__name:"WifiConfigTab",setup(P){const{data:o,isPending:v}=Se();return(w,k)=>(u(),T(Q,null,[e(v)?(u(),T("div",rl,[l(e(W),{class:"w-4 h-4 animate-spin"})])):D("",!0),e(o)?(u(),I(il,{key:1,"initial-values":e(o)},null,8,["initial-values"])):D("",!0)],64))}}),_l={class:"text-sm text-muted-foreground"},Cl=h({__name:"SettingsView",setup(P){const o=ke(),v=Ie(),w=o.query.tab??"hardware";function k(C){v.replace({query:{tab:C}})}return(C,y)=>{const i=$e("RouterLink");return u(),I(Ue,null,{default:a(()=>[f("div",null,[y[2]||(y[2]=f("h1",{class:"text-xl font-semibold tracking-tight"}," Settings ",-1)),f("p",_l,[y[1]||(y[1]=s(" Configure your robot's settings ")),l(i,{to:"/reboot",class:"text-blue-500"},{default:a(()=>y[0]||(y[0]=[s(" (Reboot to apply changes) ")])),_:1,__:[0]})])]),l(e(Re),{"default-value":e(w),"onUpdate:modelValue":k},{default:a(()=>[l(e(Fe),null,{default:a(()=>[l(e(Z),{value:"hardware"},{default:a(()=>y[3]||(y[3]=[s(" Hardware ")])),_:1,__:[3]}),l(e(Z),{value:"cloud"},{default:a(()=>y[4]||(y[4]=[s(" Cloud ")])),_:1,__:[4]}),l(e(Z),{value:"http"},{default:a(()=>y[5]||(y[5]=[s(" HTTP ")])),_:1,__:[5]}),l(e(Z),{value:"wifi"},{default:a(()=>y[6]||(y[6]=[s(" WiFi ")])),_:1,__:[6]})]),_:1}),l(e(J),{value:"hardware"},{default:a(()=>[l(al)]),_:1}),l(e(J),{value:"cloud"},{default:a(()=>[l(Me)]),_:1}),l(e(J),{value:"http"},{default:a(()=>[l(dl)]),_:1}),l(e(J),{value:"wifi"},{default:a(()=>[l(fl)]),_:1})]),_:1},8,["default-value"])]),_:1})}}});export{Cl as default};
