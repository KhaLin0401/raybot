import{u as ae,C as se,a as ue,b as ne,c as de,_ as ee,d as oe,e as ie,H as re,f as fe,g as me,h as pe,i as be,j as _e,W as ce,k as ge}from"./Switch.vuevuetypescriptsetuptruelang-BfE8Uc5t.js";import{_ as W}from"./index-psUL2KTg.js";import{d as H,z as n,u as Z,F as m,_ as p,a as b,b as _,c as v,t as z}from"./vee-validate-zod-Bx1vscfW.js";/* empty css                                                              */import{c as te,a as ye,u as J,i as ve}from"./http-DfUv6mDb.js";import{d as F,J as we,K as Se,p as xe,f as V,o as d,b as l,u as e,h as Ce,w as t,c as $,e as c,t as G,A as B,i as s,m as U,y as I,F as q,v as X,n as Q,g as M,H as Pe,x as he,I as Ee}from"./index-C_s5YIIN.js";import{L,_ as Ve}from"./PageContainer.vuevuetypescriptsetuptruelang-DXJ8gBRo.js";import{_ as Te}from"./plugin-vueexport-helper-DlAUqK2U.js";import{u as ke,_ as R,a as j,b as N,c as A,d as h}from"./SelectValue.vuevuetypescriptsetuptruelang-R5OzRsoE.js";import{_ as $e,a as Y,b as K,c as Ie}from"./TabsTrigger.vuevuetypescriptsetuptruelang-b4HeO81P.js";import"./PopperContent-BhWiOuKG.js";/**
 * @license lucide-vue-next v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=te("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=te("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),He={class:"relative"},Fe={class:"sr-only"},Re=F({__name:"PasswordInput",props:we({disabled:{type:Boolean},class:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(E){const o=E,w=Se(E,"modelValue"),C=xe(!1);function T(){C.value=!C.value}return(x,S)=>(d(),V("div",He,[l(e(H),{modelValue:w.value,"onUpdate:modelValue":S[0]||(S[0]=f=>w.value=f),type:e(C)?"text":"password",class:Ce(e(ye)("pr-10 hide-password-toggle",o.class))},null,8,["modelValue","type","class"]),l(e(W),{type:"button",variant:"ghost",size:"sm",class:"absolute top-0 right-0 h-full px-3 py-2 hover:bg-transparent",onClick:T},{default:t(()=>[e(C)&&!o.disabled?(d(),$(e(Ue),{key:0,class:"w-4 h-4","aria-hidden":"true"})):(d(),$(e(De),{key:1,class:"w-4 h-4","aria-hidden":"true"})),c("span",Fe,G(e(C)?"Hide password":"Show password"),1)]),_:1})]))}}),le=Te(Re,[["__scopeId","data-v-2606193e"]]),je=F({__name:"CargoConfigForm",props:{initialValues:{}},setup(E){const o=E,w=n.object({liftPosition:n.number().min(0,"Lift position must be at least 0"),lowerPosition:n.number().min(0,"Lower position must be at least 0"),liftMotorSpeed:n.number().min(0,"Motor speed must be at least 0").max(100,"Motor speed must be at most 100").default(100),bottomDistanceHysteresis:n.object({lowerThreshold:n.number().int("Lower threshold must be an integer").positive("Lower threshold must be positive").default(15),upperThreshold:n.number().int("Upper threshold must be an integer").positive("Upper threshold must be positive").default(20)})}).refine(i=>i.liftPosition<i.lowerPosition,{message:"Lift position must be less than lower position",path:["liftPosition"]}).superRefine((i,u)=>{i.bottomDistanceHysteresis.lowerThreshold>=i.bottomDistanceHysteresis.upperThreshold&&(u.addIssue({code:n.ZodIssueCode.custom,message:"Lower threshold must be less than upper threshold",path:["bottomDistanceHysteresis","lowerThreshold"]}),u.addIssue({code:n.ZodIssueCode.custom,message:"Upper threshold must be greater than lower threshold",path:["bottomDistanceHysteresis","upperThreshold"]}))}),C=J(),{mutate:T,isPending:x}=ae(),f=Z({validationSchema:z(w),initialValues:o.initialValues}).handleSubmit(i=>{T(i,{onSuccess:()=>{C.setQueryData([se],i),B.success("Cargo configuration updated successfully!")},onError:()=>{B.error("Failed to update cargo configuration")}})});return(i,u)=>(d(),V("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:u[0]||(u[0]=(...r)=>e(f)&&e(f)(...r))},[u[7]||(u[7]=c("h3",{class:"pb-2 text-lg font-medium border-b"}," Cargo Configuration ",-1)),l(e(m),{name:"liftPosition"},{default:t(({componentField:r})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>u[1]||(u[1]=[s("Lift Position")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),U(r,{type:"number",placeholder:"Enter lift position",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"lowerPosition"},{default:t(({componentField:r})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>u[2]||(u[2]=[s("Lower Position")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),U(r,{type:"number",placeholder:"Enter lower position",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"liftMotorSpeed"},{default:t(({componentField:r})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>u[3]||(u[3]=[s("Lift Motor Speed")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),U(r,{type:"number",placeholder:"Enter motor speed"}),null,16)]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),u[8]||(u[8]=c("div",{class:"flex flex-col gap-2"},[c("h3",{class:"pb-2 text-lg font-medium border-b"}," Bottom Distance Hysteresis ")],-1)),l(e(m),{name:"bottomDistanceHysteresis.lowerThreshold"},{default:t(({componentField:r})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>u[4]||(u[4]=[s("Lower Threshold")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),U(r,{type:"number",placeholder:"Enter lower threshold",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"bottomDistanceHysteresis.upperThreshold"},{default:t(({componentField:r})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>u[5]||(u[5]=[s("Upper Threshold")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),U(r,{type:"number",placeholder:"Enter upper threshold",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),c("div",null,[l(e(W),{type:"submit",disabled:e(x)},{default:t(()=>[e(x)?(d(),$(e(L),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):I("",!0),u[6]||(u[6]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),Ne={key:0,class:"flex items-center justify-center h-full"},Ae=F({__name:"CargoConfigTab",setup(E){const{data:o,isPending:w}=ue();return(C,T)=>(d(),V(q,null,[e(w)?(d(),V("div",Ne,[l(e(L),{class:"w-4 h-4 animate-spin"})])):I("",!0),e(o)?(d(),$(je,{key:1,"initial-values":e(o)},null,8,["initial-values"])):I("",!0)],64))}}),Be={class:"space-y-0.5"},Le=F({__name:"CloudConfigForm",props:{initialValues:{}},setup(E){const o=E,w=n.object({enable:n.boolean().default(!1),address:n.string().min(1,"Address is required"),token:n.string().min(1,"Token is required")}),C=J(),{mutate:T,isPending:x}=ne(),f=Z({validationSchema:z(w),initialValues:o.initialValues}).handleSubmit(i=>{T(i,{onSuccess:()=>{C.setQueryData([de],i),B.success("Cloud configuration updated successfully!")},onError:()=>{B.error("Failed to update cloud configuration")}})});return(i,u)=>(d(),V("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:u[0]||(u[0]=(...r)=>e(f)&&e(f)(...r))},[u[5]||(u[5]=c("h3",{class:"pb-2 text-lg font-medium border-b"}," Cloud Configuration ",-1)),l(e(m),{name:"address"},{default:t(({componentField:r})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>u[1]||(u[1]=[s("Cloud Address")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),U(r,{type:"url",placeholder:"https://cloud.example.com",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"token"},{default:t(({componentField:r})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>u[2]||(u[2]=[s("Auth token")])),_:1}),l(e(_),null,{default:t(()=>[l(e(le),U(r,{placeholder:"Enter your auth token",disabled:e(x)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"enable"},{default:t(({value:r,handleChange:k})=>[l(e(p),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:t(()=>[c("div",Be,[l(e(b),null,{default:t(()=>u[3]||(u[3]=[s("Enable Cloud Service")])),_:1})]),l(e(_),null,{default:t(()=>[l(e(ee),{"model-value":r,disabled:e(x),"aria-readonly":"","onUpdate:modelValue":k},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),c("div",null,[l(e(W),{type:"submit",disabled:e(x)},{default:t(()=>[e(x)?(d(),$(e(L),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):I("",!0),u[4]||(u[4]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),qe={key:0,class:"flex items-center justify-center h-full"},Qe=F({__name:"CloudConfigTab",setup(E){const{data:o,isPending:w}=oe();return(C,T)=>(d(),V(q,null,[e(w)?(d(),V("div",qe,[l(e(L),{class:"w-4 h-4 animate-spin"})])):I("",!0),e(o)?(d(),$(Le,{key:1,"initial-values":e(o)},null,8,["initial-values"])):I("",!0)],64))}}),Me={listAvailableSerialPorts:E=>ve.get("/peripherals/serials",E)};function Oe(E){return ke({queryKey:["serial-ports"],queryFn:()=>Me.listAvailableSerialPorts(E),select:o=>o.items})}const We={class:"grid grid-cols-1 gap-8"},Ye={class:"space-y-6"},Ke={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Ge={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},Ze={class:"space-y-6"},ze={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Je={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},Xe=F({__name:"HardwareConfigForm",props:{initialValues:{}},setup(E){const o=E,w=[9600,19200,38400,57600,115200],C=n.object({port:n.string().min(1,"Port is required"),baudRate:n.number().int().positive("Baud rate must be positive"),parity:n.enum(["NONE","EVEN","ODD"]).default("NONE"),dataBits:n.union([n.literal(5),n.literal(6),n.literal(7),n.literal(8)]).default(8),stopBits:n.union([n.literal(1),n.literal(1.5),n.literal(2)]).default(1),readTimeout:n.number().int().nonnegative("Read timeout must be non-negative")}),T=n.object({esp:n.object({serial:C}),pic:n.object({serial:C})}).superRefine((P,a)=>{P.esp.serial.port===P.pic.serial.port&&(a.addIssue({code:n.ZodIssueCode.custom,message:"ESP and PIC cannot use the same port",path:["esp.serial.port"]}),a.addIssue({code:n.ZodIssueCode.custom,message:"ESP and PIC cannot use the same port",path:["pic.serial.port"]}))}),x=J(),{mutate:S,isPending:f}=ie(),{data:i,refetch:u}=Oe({doNotShowLoading:!0}),k=Z({validationSchema:z(T),initialValues:o.initialValues}).handleSubmit(P=>{S(P,{onSuccess:()=>{x.setQueryData([re],P),B.success("Hardware configuration updated successfully!")},onError:()=>{B.error("Failed to update hardware configuration")}})});function g(P){P&&u()}return(P,a)=>(d(),V("form",{class:"flex flex-col w-full space-y-6",onSubmit:a[0]||(a[0]=(...y)=>e(k)&&e(k)(...y))},[c("div",We,[c("div",Ye,[a[17]||(a[17]=c("h3",{class:"pb-2 text-lg font-medium border-b"}," ESP Serial Configuration ",-1)),c("div",Ke,[l(e(m),{name:"esp.serial.port"},{default:t(({componentField:y,value:D})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[1]||(a[1]=[s("Port")])),_:1}),l(e(R),U(y,{required:"","onUpdate:open":g}),{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(j),{disabled:e(f)},{default:t(()=>[l(e(N),{placeholder:D},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),e(i)?(d(),$(e(A),{key:0},{default:t(()=>[(d(!0),V(q,null,X(e(i),O=>(d(),$(e(h),{key:O.port,value:O.port},{default:t(()=>[s(G(O.port),1)]),_:2},1032,["value"]))),128))]),_:1})):I("",!0)]),_:2},1040),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"esp.serial.readTimeout"},{default:t(({field:y})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[2]||(a[2]=[s("Read Timeout (s)")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),{modelValue:y.value,"onUpdate:modelValue":D=>y.value=D,type:"number",disabled:e(f),placeholder:"e.g. 1"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1})]),c("div",Ge,[l(e(m),{name:"esp.serial.baudRate"},{default:t(({componentField:y})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[3]||(a[3]=[s("Baud Rate")])),_:1}),l(e(R),Q(M(y)),{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(j),{disabled:e(f)},{default:t(()=>[l(e(N),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(A),null,{default:t(()=>[(d(),V(q,null,X(w,D=>l(e(h),{key:D,value:D},{default:t(()=>[s(G(D),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"esp.serial.parity"},{default:t(({componentField:y})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[4]||(a[4]=[s("Parity")])),_:1}),l(e(R),Q(M(y)),{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(j),{disabled:e(f)},{default:t(()=>[l(e(N),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(A),null,{default:t(()=>[l(e(h),{value:"NONE"},{default:t(()=>a[5]||(a[5]=[s(" None ")])),_:1}),l(e(h),{value:"EVEN"},{default:t(()=>a[6]||(a[6]=[s(" Even ")])),_:1}),l(e(h),{value:"ODD"},{default:t(()=>a[7]||(a[7]=[s(" Odd ")])),_:1})]),_:1})]),_:2},1040),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"esp.serial.dataBits"},{default:t(({componentField:y})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[8]||(a[8]=[s("Data Bits")])),_:1}),l(e(R),Q(M(y)),{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(j),{disabled:e(f)},{default:t(()=>[l(e(N),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(A),null,{default:t(()=>[l(e(h),{value:5},{default:t(()=>a[9]||(a[9]=[s(" 5 ")])),_:1}),l(e(h),{value:6},{default:t(()=>a[10]||(a[10]=[s(" 6 ")])),_:1}),l(e(h),{value:7},{default:t(()=>a[11]||(a[11]=[s(" 7 ")])),_:1}),l(e(h),{value:8},{default:t(()=>a[12]||(a[12]=[s(" 8 ")])),_:1})]),_:1})]),_:2},1040),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"esp.serial.stopBits"},{default:t(({componentField:y})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[13]||(a[13]=[s("Stop Bits")])),_:1}),l(e(R),Q(M(y)),{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(j),{disabled:e(f)},{default:t(()=>[l(e(N),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(A),null,{default:t(()=>[l(e(h),{value:1},{default:t(()=>a[14]||(a[14]=[s(" 1 ")])),_:1}),l(e(h),{value:1.5},{default:t(()=>a[15]||(a[15]=[s(" 1.5 ")])),_:1}),l(e(h),{value:2},{default:t(()=>a[16]||(a[16]=[s(" 2 ")])),_:1})]),_:1})]),_:2},1040),l(e(v))]),_:2},1024)]),_:1})])]),c("div",Ze,[a[34]||(a[34]=c("h3",{class:"pb-2 text-lg font-medium border-b"}," PIC Serial Configuration ",-1)),c("div",ze,[l(e(m),{name:"pic.serial.port"},{default:t(({componentField:y,value:D})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[18]||(a[18]=[s("Port")])),_:1}),l(e(R),U(y,{required:"","onUpdate:open":g}),{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(j),{disabled:e(f)},{default:t(()=>[l(e(N),{placeholder:D},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(A),null,{default:t(()=>[(d(!0),V(q,null,X(e(i),O=>(d(),$(e(h),{key:O.port,value:O.port},{default:t(()=>[s(G(O.port),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:2},1040),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"pic.serial.readTimeout"},{default:t(({field:y})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[19]||(a[19]=[s("Read Timeout (s)")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),{modelValue:y.value,"onUpdate:modelValue":D=>y.value=D,type:"number",disabled:e(f),placeholder:"e.g. 1"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1})]),c("div",Je,[l(e(m),{name:"pic.serial.baudRate"},{default:t(({componentField:y})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[20]||(a[20]=[s("Baud Rate")])),_:1}),l(e(R),Q(M(y)),{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(j),{disabled:e(f)},{default:t(()=>[l(e(N),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(A),null,{default:t(()=>[(d(),V(q,null,X(w,D=>l(e(h),{key:D,value:D},{default:t(()=>[s(G(D),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"pic.serial.parity"},{default:t(({componentField:y})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[21]||(a[21]=[s("Parity")])),_:1}),l(e(R),Q(M(y)),{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(j),{disabled:e(f)},{default:t(()=>[l(e(N),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(A),null,{default:t(()=>[l(e(h),{value:"NONE"},{default:t(()=>a[22]||(a[22]=[s(" None ")])),_:1}),l(e(h),{value:"EVEN"},{default:t(()=>a[23]||(a[23]=[s(" Even ")])),_:1}),l(e(h),{value:"ODD"},{default:t(()=>a[24]||(a[24]=[s(" Odd ")])),_:1})]),_:1})]),_:2},1040),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"pic.serial.dataBits"},{default:t(({componentField:y})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[25]||(a[25]=[s("Data Bits")])),_:1}),l(e(R),Q(M(y)),{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(j),{disabled:e(f)},{default:t(()=>[l(e(N),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(A),null,{default:t(()=>[l(e(h),{value:5},{default:t(()=>a[26]||(a[26]=[s(" 5 ")])),_:1}),l(e(h),{value:6},{default:t(()=>a[27]||(a[27]=[s(" 6 ")])),_:1}),l(e(h),{value:7},{default:t(()=>a[28]||(a[28]=[s(" 7 ")])),_:1}),l(e(h),{value:8},{default:t(()=>a[29]||(a[29]=[s(" 8 ")])),_:1})]),_:1})]),_:2},1040),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"pic.serial.stopBits"},{default:t(({componentField:y})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>a[30]||(a[30]=[s("Stop Bits")])),_:1}),l(e(R),Q(M(y)),{default:t(()=>[l(e(_),null,{default:t(()=>[l(e(j),{disabled:e(f)},{default:t(()=>[l(e(N),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(A),null,{default:t(()=>[l(e(h),{value:1},{default:t(()=>a[31]||(a[31]=[s(" 1 ")])),_:1}),l(e(h),{value:1.5},{default:t(()=>a[32]||(a[32]=[s(" 1.5 ")])),_:1}),l(e(h),{value:2},{default:t(()=>a[33]||(a[33]=[s(" 2 ")])),_:1})]),_:1})]),_:2},1040),l(e(v))]),_:2},1024)]),_:1})])])]),c("div",null,[l(e(W),{type:"submit",disabled:e(f)},{default:t(()=>[e(f)?(d(),$(e(L),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):I("",!0),a[35]||(a[35]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),el={key:0,class:"flex items-center justify-center h-full"},ll=F({__name:"HardwareConfigTab",setup(E){const{data:o,isPending:w}=fe();return(C,T)=>(d(),V(q,null,[e(w)?(d(),V("div",el,[l(e(L),{class:"w-4 h-4 animate-spin"})])):I("",!0),e(o)?(d(),$(Xe,{key:1,"initial-values":e(o)},null,8,["initial-values"])):I("",!0)],64))}}),tl={class:"space-y-0.5"},al=F({__name:"HTTPConfigForm",props:{initialValues:{}},setup(E){const o=E,w=n.object({port:n.number().int().min(1024,"Port must be at least 1024").max(65535,"Port must be at most 65535"),swagger:n.boolean().default(!1)}),C=J(),{mutate:T,isPending:x}=me(),f=Z({validationSchema:z(w),initialValues:o.initialValues}).handleSubmit(i=>{T(i,{onSuccess:()=>{C.setQueryData([pe],i),B.success("HTTP configuration updated successfully!")},onError:()=>{B.error("Failed to update HTTP configuration")}})});return(i,u)=>(d(),V("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:u[0]||(u[0]=(...r)=>e(f)&&e(f)(...r))},[u[4]||(u[4]=c("h3",{class:"pb-2 text-lg font-medium border-b"}," HTTP Configuration ",-1)),l(e(m),{name:"port"},{default:t(({field:r})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>u[1]||(u[1]=[s("Port")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),{modelValue:r.value,"onUpdate:modelValue":k=>r.value=k,type:"number",placeholder:"Enter port number",disabled:e(x),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"swagger"},{default:t(({value:r,handleChange:k})=>[l(e(p),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:t(()=>[c("div",tl,[l(e(b),null,{default:t(()=>u[2]||(u[2]=[s("Enable Swagger")])),_:1})]),l(e(_),null,{default:t(()=>[l(e(ee),{"model-value":r,disabled:e(x),"aria-readonly":"","onUpdate:modelValue":k},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),c("div",null,[l(e(W),{type:"submit",disabled:e(x)},{default:t(()=>[e(x)?(d(),$(e(L),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):I("",!0),u[3]||(u[3]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),sl={key:0,class:"flex items-center justify-center h-full"},ul=F({__name:"HTTPConfigTab",setup(E){const{data:o,isPending:w}=be();return(C,T)=>(d(),V(q,null,[e(w)?(d(),V("div",sl,[l(e(L),{class:"w-4 h-4 animate-spin"})])):I("",!0),e(o)?(d(),$(al,{key:1,"initial-values":e(o)},null,8,["initial-values"])):I("",!0)],64))}}),nl={class:"space-y-0.5"},dl={class:"space-y-0.5"},ol=F({__name:"WifiConfigForm",props:{initialValues:{}},setup(E){const o=E,w=/^[\w\s\-.]*$/,C=/^[\x21-\x7E]*$/,T=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})$/,x=n.object({ap:n.object({enable:n.boolean(),ssid:n.string().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(w,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:n.string().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(C,"Password can only contain printable characters"),ip:n.string().min(1,"IP address is required").regex(T,"Invalid IPv4 address format")}),sta:n.object({enable:n.boolean(),ssid:n.string().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(w,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:n.string().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(C,"Password can only contain printable characters")})}).superRefine((k,g)=>{(k.ap.enable&&k.sta.enable||!k.ap.enable&&!k.sta.enable)&&(g.addIssue({code:n.ZodIssueCode.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["ap.enable"]}),g.addIssue({code:n.ZodIssueCode.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["sta.enable"]}))}),S=J(),{mutate:f,isPending:i}=_e(),r=Z({validationSchema:z(x),initialValues:o.initialValues}).handleSubmit(k=>{f(k,{onSuccess:()=>{S.setQueryData([ce],k),B.success("WiFi configuration updated successfully!")},onError:()=>{B.error("Failed to update WiFi configuration")}})});return(k,g)=>(d(),V("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:g[0]||(g[0]=(...P)=>e(r)&&e(r)(...P))},[g[9]||(g[9]=c("h3",{class:"pb-2 text-lg font-medium border-b"}," AP Configuration ",-1)),l(e(m),{type:"checkbox",name:"ap.enable"},{default:t(({value:P,handleChange:a})=>[l(e(p),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:t(()=>[c("div",nl,[l(e(b),null,{default:t(()=>g[1]||(g[1]=[s("Enable AP")])),_:1})]),l(e(_),null,{default:t(()=>[l(e(ee),{"model-value":P,disabled:e(i),"onUpdate:modelValue":a},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(v))]),_:1}),l(e(m),{name:"ap.ssid"},{default:t(({componentField:P})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>g[2]||(g[2]=[s("SSID")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),U(P,{placeholder:"Enter SSID",disabled:e(i)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"ap.password"},{default:t(({componentField:P})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>g[3]||(g[3]=[s("Password")])),_:1}),l(e(_),null,{default:t(()=>[l(e(le),U(P,{placeholder:"Enter password",disabled:e(i)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"ap.ip"},{default:t(({componentField:P})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>g[4]||(g[4]=[s("IP Address")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),U(P,{placeholder:"Enter IP address",disabled:e(i)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),g[10]||(g[10]=c("h3",{class:"pb-2 text-lg font-medium border-b"}," STA Configuration ",-1)),l(e(m),{type:"checkbox",name:"sta.enable"},{default:t(({value:P,handleChange:a})=>[l(e(p),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:t(()=>[c("div",dl,[l(e(b),null,{default:t(()=>g[5]||(g[5]=[s("Enable STA")])),_:1})]),l(e(_),null,{default:t(()=>[l(e(ee),{"model-value":P,disabled:e(i),"onUpdate:modelValue":a},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(v))]),_:1}),l(e(m),{name:"sta.ssid"},{default:t(({componentField:P})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>g[6]||(g[6]=[s("SSID")])),_:1}),l(e(_),null,{default:t(()=>[l(e(H),U(P,{placeholder:"Enter SSID",disabled:e(i)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),l(e(m),{name:"sta.password"},{default:t(({componentField:P})=>[l(e(p),null,{default:t(()=>[l(e(b),null,{default:t(()=>g[7]||(g[7]=[s("Password")])),_:1}),l(e(_),null,{default:t(()=>[l(e(le),U(P,{placeholder:"Enter password",disabled:e(i)}),null,16,["disabled"])]),_:2},1024),l(e(v))]),_:2},1024)]),_:1}),c("div",null,[l(e(W),{type:"submit",disabled:e(i)},{default:t(()=>[e(i)?(d(),$(e(L),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):I("",!0),g[8]||(g[8]=s(" Save "))]),_:1},8,["disabled"])])],32))}}),il={key:0,class:"flex items-center justify-center h-full"},rl=F({__name:"WifiConfigTab",setup(E){const{data:o,isPending:w}=ge();return(C,T)=>(d(),V(q,null,[e(w)?(d(),V("div",il,[l(e(L),{class:"w-4 h-4 animate-spin"})])):I("",!0),e(o)?(d(),$(ol,{key:1,"initial-values":e(o)},null,8,["initial-values"])):I("",!0)],64))}}),fl={class:"text-sm text-muted-foreground"},Cl=F({__name:"SettingsView",setup(E){const o=Pe(),w=Ee(),C=o.query.tab??"hardware";function T(x){w.replace({query:{tab:x}})}return(x,S)=>{const f=he("RouterLink");return d(),$(Ve,null,{default:t(()=>[c("div",null,[S[2]||(S[2]=c("h1",{class:"text-xl font-semibold tracking-tight"}," Settings ",-1)),c("p",fl,[S[1]||(S[1]=s(" Configure your robot's settings ")),l(f,{to:"/reboot",class:"text-blue-500"},{default:t(()=>S[0]||(S[0]=[s(" (Reboot to apply changes) ")])),_:1})])]),l(e(Ie),{"default-value":e(C),"onUpdate:modelValue":T},{default:t(()=>[l(e($e),null,{default:t(()=>[l(e(Y),{value:"hardware"},{default:t(()=>S[3]||(S[3]=[s(" Hardware ")])),_:1}),l(e(Y),{value:"cloud"},{default:t(()=>S[4]||(S[4]=[s(" Cloud ")])),_:1}),l(e(Y),{value:"http"},{default:t(()=>S[5]||(S[5]=[s(" HTTP ")])),_:1}),l(e(Y),{value:"cargo"},{default:t(()=>S[6]||(S[6]=[s(" Cargo ")])),_:1}),l(e(Y),{value:"wifi"},{default:t(()=>S[7]||(S[7]=[s(" WiFi ")])),_:1})]),_:1}),l(e(K),{value:"hardware"},{default:t(()=>[l(ll)]),_:1}),l(e(K),{value:"cloud"},{default:t(()=>[l(Qe)]),_:1}),l(e(K),{value:"http"},{default:t(()=>[l(ul)]),_:1}),l(e(K),{value:"cargo"},{default:t(()=>[l(Ae)]),_:1}),l(e(K),{value:"wifi"},{default:t(()=>[l(rl)]),_:1})]),_:1},8,["default-value"])]),_:1})}}});export{Cl as default};
