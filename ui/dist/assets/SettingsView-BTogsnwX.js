import{u as re,C as fe,_ as K,a as me,b as _e,c as pe,d as be,e as ce,H as ge,f as ye,g as ve,h as xe,i as we,j as Se,W as Ce,k as ke}from"./Switch.vuevuetypescriptsetuptruelang-yH-AvgNB.js";import{c as ie,a as Pe,e as ae,i as Te,u as Ee}from"./http-D4Je9GED.js";import{c as I,o as A,s as q,g as z,f as te,F as f,a as m,b as _,_ as p,d as c,t as se,n as B,Z,u as ue,h as $e,l as G}from"./FormMessage.vuevuetypescriptsetuptruelang-RSjq3E0G.js";import{_ as J}from"./index-Cn8JYhWe.js";/* empty css                                                              */import{d as N,P as Ve,Q as Ie,r as De,p as P,o,g as l,u as e,q as Ae,w as a,c as D,l as n,v as le,I as H,s,m as E,D as $,F as Q,G as oe,E as de,i as M,j as W,N as Ne,O as Re}from"./index-CXAYBSVx.js";import{_ as Oe}from"./plugin-vueexport-helper-DlAUqK2U.js";import{L as j,_ as Ue}from"./PageContainer.vuevuetypescriptsetuptruelang-BSaaIMbv.js";import{_ as U,a as F,b as L,c as h,d as w}from"./SelectValue.vuevuetypescriptsetuptruelang-DB03SfWN.js";import{_ as Fe,a as X,b as ee,c as Le}from"./TabsTrigger.vuevuetypescriptsetuptruelang-DYeMzrOo.js";import"./check-BkU-WFoY.js";/**
 * @license lucide-vue-next v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=ie("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ie("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Be={class:"relative"},Qe={class:"sr-only"},He=N({__name:"PasswordInput",props:Ve({disabled:{type:Boolean},class:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(C){const b=C,y=Ie(C,"modelValue"),S=De(!1);function T(){S.value=!S.value}return(g,v)=>(o(),P("div",Be,[l(e(I),{modelValue:y.value,"onUpdate:modelValue":v[0]||(v[0]=r=>y.value=r),type:e(S)?"text":"password",class:Ae(e(Pe)("pr-10 hide-password-toggle",b.class))},null,8,["modelValue","type","class"]),l(e(J),{type:"button",variant:"ghost",size:"sm",class:"absolute top-0 right-0 h-full px-3 py-2 hover:bg-transparent",onClick:T},{default:a(()=>[e(S)&&!b.disabled?(o(),D(e(qe),{key:0,class:"w-4 h-4","aria-hidden":"true"})):(o(),D(e(he),{key:1,class:"w-4 h-4","aria-hidden":"true"})),n("span",Qe,le(e(S)?"Hide password":"Show password"),1)]),_:1})]))}}),ne=Oe(He,[["__scopeId","data-v-e2be5266"]]),je={class:"space-y-0.5"},Me=N({__name:"CloudConfigForm",props:{initialValues:{}},setup(C){const b=C,y=A({enable:z().default(!1),address:q().min(1,"Address is required"),token:q().min(1,"Token is required")}),S=ae(),{mutate:T,isPending:g}=re(),r=te({validationSchema:se(y),initialValues:b.initialValues}).handleSubmit(k=>{T(k,{onSuccess:()=>{S.setQueryData([fe],k),H.success("Cloud configuration updated successfully!")},onError:()=>{H.error("Failed to update cloud configuration")}})});return(k,d)=>(o(),P("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...x)=>e(r)&&e(r)(...x))},[d[5]||(d[5]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Cloud Configuration ",-1)),l(e(f),{name:"address"},{default:a(({componentField:x})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[1]||(d[1]=[s("Cloud Address")])),_:1,__:[1]}),l(e(p),null,{default:a(()=>[l(e(I),E(x,{type:"url",placeholder:"https://cloud.example.com",disabled:e(g)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"token"},{default:a(({componentField:x})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[2]||(d[2]=[s("Auth token")])),_:1,__:[2]}),l(e(p),null,{default:a(()=>[l(e(ne),E(x,{placeholder:"Enter your auth token",disabled:e(g)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"enable"},{default:a(({value:x,handleChange:R})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",je,[l(e(_),null,{default:a(()=>d[3]||(d[3]=[s("Enable Cloud Service")])),_:1,__:[3]})]),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":x,disabled:e(g),"aria-readonly":"","onUpdate:modelValue":R},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),n("div",null,[l(e(J),{type:"submit",disabled:e(g)},{default:a(()=>[e(g)?(o(),D(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),d[4]||(d[4]=s(" Save "))]),_:1,__:[4]},8,["disabled"])])],32))}}),We={key:0,class:"flex items-center justify-center h-full"},Ye=N({__name:"CloudConfigTab",setup(C){const{data:b,isPending:y}=me();return(S,T)=>(o(),P(Q,null,[e(y)?(o(),P("div",We,[l(e(j),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(b)?(o(),D(Me,{key:1,"initial-values":e(b)},null,8,["initial-values"])):$("",!0)],64))}}),Ge={class:"grid grid-cols-1 gap-8"},Ke={class:"space-y-3"},ze={class:"space-y-6 ps-4"},Ze={class:"grid grid-cols-1 gap-8"},Je={class:"space-y-3"},Xe={class:"space-y-6 ps-4"},el={class:"space-y-6"},ll=N({__name:"CommandConfigForm",props:{initialValues:{}},setup(C){const b=C,y=A({cargoLift:A({stableReadCount:B().int().positive("Stable read count must be positive").min(1)}),cargoLower:A({stableReadCount:B().int().positive("Stable read count must be positive").min(1),bottomObstacleTracking:A({enterDistance:B().int().min(1),exitDistance:B().int().min(1)})})}).superRefine((k,d)=>{k.cargoLower.bottomObstacleTracking.enterDistance>=k.cargoLower.bottomObstacleTracking.exitDistance&&(d.addIssue({code:Z.custom,message:"Enter distance must be less than exit distance",path:["cargoLower.bottomObstacleTracking.enterDistance"]}),d.addIssue({code:Z.custom,message:"Enter distance must be less than exit distance",path:["cargoLower.bottomObstacleTracking.exitDistance"]}))}),S=ae(),{mutate:T,isPending:g}=_e(),r=te({validationSchema:se(y),initialValues:b.initialValues}).handleSubmit(k=>{T(k,{onSuccess:()=>{H.success("Command configuration updated successfully!"),S.setQueryData([pe],k)}})});return(k,d)=>(o(),P("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...x)=>e(r)&&e(r)(...x))},[n("div",Ge,[n("div",Ke,[d[2]||(d[2]=n("h4",{class:"text-lg font-medium tracking-tight"}," Cargo Lift configuration ",-1)),n("div",ze,[l(e(f),{name:"cargoLift.stableReadCount"},{default:a(({componentField:x})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[1]||(d[1]=[s("Stable Read Count")])),_:1,__:[1]}),l(e(p),null,{default:a(()=>[l(e(I),E(x,{type:"number",disabled:e(g)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})])])]),n("div",Ze,[n("div",Je,[d[7]||(d[7]=n("h4",{class:"text-lg font-medium tracking-tight"}," Cargo Lower configuration ",-1)),n("div",Xe,[l(e(f),{name:"cargoLower.stableReadCount"},{default:a(({componentField:x})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[3]||(d[3]=[s("Stable Read Count")])),_:1,__:[3]}),l(e(p),null,{default:a(()=>[l(e(I),E(x,{type:"number",disabled:e(g)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),n("div",el,[d[6]||(d[6]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Bottom Obstacle Tracking ",-1)),l(e(f),{name:"cargoLower.bottomObstacleTracking.enterDistance"},{default:a(({componentField:x})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[4]||(d[4]=[s("Enter Distance (cm)")])),_:1,__:[4]}),l(e(p),null,{default:a(()=>[l(e(I),E(x,{type:"number",disabled:e(g)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"cargoLower.bottomObstacleTracking.exitDistance"},{default:a(({componentField:x})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[5]||(d[5]=[s("Exit Distance (cm)")])),_:1,__:[5]}),l(e(p),null,{default:a(()=>[l(e(I),E(x,{type:"number",disabled:e(g)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})])])])]),n("div",null,[l(e(J),{type:"submit",disabled:e(g)},{default:a(()=>[e(g)?(o(),D(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),d[8]||(d[8]=s(" Save "))]),_:1,__:[8]},8,["disabled"])])],32))}}),al={key:0,class:"flex items-center justify-center h-full"},tl=N({__name:"CommandConfigTab",setup(C){const{data:b,isPending:y}=be();return(S,T)=>{const g=oe("Loader");return o(),P(Q,null,[e(y)?(o(),P("div",al,[l(g,{class:"w-4 h-4 animate-spin"})])):$("",!0),e(b)?(o(),D(ll,{key:1,"initial-values":e(b)},null,8,["initial-values"])):$("",!0)],64)}}}),sl={listAvailableSerialPorts:C=>Te.get("/peripherals/serials",C)};function dl(C){return Ee({queryKey:["serial-ports"],queryFn:()=>sl.listAvailableSerialPorts(C),select:b=>b.items})}const nl={class:"grid grid-cols-1 gap-8"},ul={class:"space-y-3"},il={class:"px-4 space-y-6"},ol={class:"space-y-6"},rl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},fl={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},ml={class:"space-y-6"},_l={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},pl={class:"space-y-6"},bl={class:"space-y-3"},cl={class:"px-4 space-y-6"},gl={class:"space-y-6"},yl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},vl={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},xl={class:"space-y-6"},wl={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Sl={class:"space-y-6"},Cl=N({__name:"HardwareConfigForm",props:{initialValues:{}},setup(C){const b=C,y=[9600,19200,38400,57600,115200],S=A({port:q().min(1,"Port is required"),baudRate:B().int().positive("Baud rate must be positive"),parity:$e(["NONE","EVEN","ODD"]).default("NONE"),dataBits:ue([G(5),G(6),G(7),G(8)]).default(8),stopBits:ue([G(1),G(1.5),G(2)]).default(1),readTimeout:B().int().nonnegative("Read timeout must be non-negative")}),T=A({esp:A({serial:S,enableAck:z().default(!1),commandAckTimeout:B().int().nonnegative("Command ack timeout must be non-negative")}),pic:A({serial:S,enableAck:z().default(!1),commandAckTimeout:B().int().nonnegative("Command ack timeout must be non-negative")})}).superRefine((i,t)=>{i.esp.serial.port===i.pic.serial.port&&(t.addIssue({code:Z.custom,message:"ESP and PIC cannot use the same port",path:["esp.serial.port"]}),t.addIssue({code:Z.custom,message:"ESP and PIC cannot use the same port",path:["pic.serial.port"]}))}),g=ae(),{mutate:v,isPending:r}=ce(),{data:k,refetch:d}=dl({doNotShowLoading:!0}),R=te({validationSchema:se(T),initialValues:b.initialValues}).handleSubmit(i=>{v(i,{onSuccess:()=>{g.setQueryData([ge],i),H.success("Hardware configuration updated successfully!")},onError:()=>{H.error("Failed to update hardware configuration")}})});function O(i){i&&d()}return(i,t)=>(o(),P("form",{class:"flex flex-col w-full space-y-6",onSubmit:t[0]||(t[0]=(...u)=>e(R)&&e(R)(...u))},[n("div",nl,[n("div",ul,[t[22]||(t[22]=n("h4",{class:"text-lg font-medium tracking-tight"}," ESP Controller ",-1)),n("div",il,[n("div",ol,[t[18]||(t[18]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),n("div",rl,[l(e(f),{name:"esp.serial.port"},{default:a(({componentField:u,value:V})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[1]||(t[1]=[s("Port")])),_:1,__:[1]}),l(e(U),E(u,{required:"","onUpdate:open":O}),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(F),{disabled:e(r)},{default:a(()=>[l(e(L),{placeholder:V},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(h),null,{default:a(()=>[l(e(w),{value:"NONEESP"},{default:a(()=>t[2]||(t[2]=[s(" None ")])),_:1,__:[2]}),e(k)?(o(!0),P(Q,{key:0},de(e(k),Y=>(o(),D(e(w),{key:Y.port,value:Y.port},{default:a(()=>[s(le(Y.port),1)]),_:2},1032,["value"]))),128)):$("",!0)]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"esp.serial.readTimeout"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[3]||(t[3]=[s("Read Timeout (s)")])),_:1,__:[3]}),l(e(p),null,{default:a(()=>[l(e(I),E(u,{type:"number",disabled:e(r),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})]),n("div",fl,[l(e(f),{name:"esp.serial.baudRate"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[4]||(t[4]=[s("Baud Rate")])),_:1,__:[4]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(F),{disabled:e(r)},{default:a(()=>[l(e(L),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(h),null,{default:a(()=>[(o(),P(Q,null,de(y,V=>l(e(w),{key:V,value:V},{default:a(()=>[s(le(V),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"esp.serial.parity"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[5]||(t[5]=[s("Parity")])),_:1,__:[5]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(F),{disabled:e(r)},{default:a(()=>[l(e(L),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(h),null,{default:a(()=>[l(e(w),{value:"NONE"},{default:a(()=>t[6]||(t[6]=[s(" None ")])),_:1,__:[6]}),l(e(w),{value:"EVEN"},{default:a(()=>t[7]||(t[7]=[s(" Even ")])),_:1,__:[7]}),l(e(w),{value:"ODD"},{default:a(()=>t[8]||(t[8]=[s(" Odd ")])),_:1,__:[8]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"esp.serial.dataBits"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[9]||(t[9]=[s("Data Bits")])),_:1,__:[9]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(F),{disabled:e(r)},{default:a(()=>[l(e(L),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(h),null,{default:a(()=>[l(e(w),{value:5},{default:a(()=>t[10]||(t[10]=[s(" 5 ")])),_:1,__:[10]}),l(e(w),{value:6},{default:a(()=>t[11]||(t[11]=[s(" 6 ")])),_:1,__:[11]}),l(e(w),{value:7},{default:a(()=>t[12]||(t[12]=[s(" 7 ")])),_:1,__:[12]}),l(e(w),{value:8},{default:a(()=>t[13]||(t[13]=[s(" 8 ")])),_:1,__:[13]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"esp.serial.stopBits"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[14]||(t[14]=[s("Stop Bits")])),_:1,__:[14]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(F),{disabled:e(r)},{default:a(()=>[l(e(L),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(h),null,{default:a(()=>[l(e(w),{value:1},{default:a(()=>t[15]||(t[15]=[s(" 1 ")])),_:1,__:[15]}),l(e(w),{value:1.5},{default:a(()=>t[16]||(t[16]=[s(" 1.5 ")])),_:1,__:[16]}),l(e(w),{value:2},{default:a(()=>t[17]||(t[17]=[s(" 2 ")])),_:1,__:[17]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1})])]),n("div",ml,[t[21]||(t[21]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),n("div",_l,[n("div",pl,[l(e(f),{name:"esp.enableAck"},{default:a(({value:u,handleChange:V})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[l(e(_),null,{default:a(()=>t[19]||(t[19]=[s("Enable Ack")])),_:1,__:[19]}),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":u,disabled:e(r),"aria-readonly":"","onUpdate:modelValue":V},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"esp.commandAckTimeout"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[20]||(t[20]=[s("Ack Timeout (ms)")])),_:1,__:[20]}),l(e(p),null,{default:a(()=>[l(e(I),E(u,{type:"number",disabled:e(r),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})])])])])]),n("div",bl,[t[44]||(t[44]=n("h4",{class:"text-lg font-medium tracking-tight"}," PIC Controller ",-1)),n("div",cl,[n("div",gl,[t[40]||(t[40]=n("h4",{class:"pb-2 text-lg font-medium border-b"}," Serial Configuration ",-1)),n("div",yl,[l(e(f),{name:"pic.serial.port"},{default:a(({componentField:u,value:V})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[23]||(t[23]=[s("Port")])),_:1,__:[23]}),l(e(U),E(u,{required:"","onUpdate:open":O}),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(F),{disabled:e(r)},{default:a(()=>[l(e(L),{placeholder:V},null,8,["placeholder"])]),_:2},1032,["disabled"])]),_:2},1024),l(e(h),null,{default:a(()=>[l(e(w),{value:"NONEPIC"},{default:a(()=>t[24]||(t[24]=[s(" None ")])),_:1,__:[24]}),e(k)?(o(!0),P(Q,{key:0},de(e(k),Y=>(o(),D(e(w),{key:Y.port,value:Y.port},{default:a(()=>[s(le(Y.port),1)]),_:2},1032,["value"]))),128)):$("",!0)]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"pic.serial.readTimeout"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[25]||(t[25]=[s("Read Timeout (s)")])),_:1,__:[25]}),l(e(p),null,{default:a(()=>[l(e(I),E(u,{type:"number",disabled:e(r),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})]),n("div",vl,[l(e(f),{name:"pic.serial.baudRate"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[26]||(t[26]=[s("Baud Rate")])),_:1,__:[26]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(F),{disabled:e(r)},{default:a(()=>[l(e(L),{placeholder:"Select baud rate"})]),_:1},8,["disabled"])]),_:1}),l(e(h),null,{default:a(()=>[(o(),P(Q,null,de(y,V=>l(e(w),{key:V,value:V},{default:a(()=>[s(le(V),1)]),_:2},1032,["value"])),64))]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"pic.serial.parity"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[27]||(t[27]=[s("Parity")])),_:1,__:[27]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(F),{disabled:e(r)},{default:a(()=>[l(e(L),{placeholder:"Select parity"})]),_:1},8,["disabled"])]),_:1}),l(e(h),null,{default:a(()=>[l(e(w),{value:"NONE"},{default:a(()=>t[28]||(t[28]=[s(" None ")])),_:1,__:[28]}),l(e(w),{value:"EVEN"},{default:a(()=>t[29]||(t[29]=[s(" Even ")])),_:1,__:[29]}),l(e(w),{value:"ODD"},{default:a(()=>t[30]||(t[30]=[s(" Odd ")])),_:1,__:[30]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"pic.serial.dataBits"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[31]||(t[31]=[s("Data Bits")])),_:1,__:[31]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(F),{disabled:e(r)},{default:a(()=>[l(e(L),{placeholder:"Select data bits"})]),_:1},8,["disabled"])]),_:1}),l(e(h),null,{default:a(()=>[l(e(w),{value:5},{default:a(()=>t[32]||(t[32]=[s(" 5 ")])),_:1,__:[32]}),l(e(w),{value:6},{default:a(()=>t[33]||(t[33]=[s(" 6 ")])),_:1,__:[33]}),l(e(w),{value:7},{default:a(()=>t[34]||(t[34]=[s(" 7 ")])),_:1,__:[34]}),l(e(w),{value:8},{default:a(()=>t[35]||(t[35]=[s(" 8 ")])),_:1,__:[35]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"pic.serial.stopBits"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[36]||(t[36]=[s("Stop Bits")])),_:1,__:[36]}),l(e(U),M(W(u)),{default:a(()=>[l(e(p),null,{default:a(()=>[l(e(F),{disabled:e(r)},{default:a(()=>[l(e(L),{placeholder:"Select stop bits"})]),_:1},8,["disabled"])]),_:1}),l(e(h),null,{default:a(()=>[l(e(w),{value:1},{default:a(()=>t[37]||(t[37]=[s(" 1 ")])),_:1,__:[37]}),l(e(w),{value:1.5},{default:a(()=>t[38]||(t[38]=[s(" 1.5 ")])),_:1,__:[38]}),l(e(w),{value:2},{default:a(()=>t[39]||(t[39]=[s(" 2 ")])),_:1,__:[39]})]),_:1})]),_:2},1040),l(e(c))]),_:2},1024)]),_:1})])]),n("div",xl,[t[43]||(t[43]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," Command Acknowledgment ",-1)),n("div",wl,[n("div",Sl,[l(e(f),{name:"pic.enableAck"},{default:a(({value:u,handleChange:V})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[l(e(_),null,{default:a(()=>t[41]||(t[41]=[s("Enable Ack")])),_:1,__:[41]}),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":u,disabled:e(r),"aria-readonly":"","onUpdate:modelValue":V},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"pic.commandAckTimeout"},{default:a(({componentField:u})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>t[42]||(t[42]=[s("Ack Timeout (ms)")])),_:1,__:[42]}),l(e(p),null,{default:a(()=>[l(e(I),E(u,{type:"number",disabled:e(r),placeholder:"e.g. 1"}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1})])])])])])]),n("div",null,[l(e(J),{type:"submit",disabled:e(r)},{default:a(()=>[e(r)?(o(),D(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),t[45]||(t[45]=s(" Save "))]),_:1,__:[45]},8,["disabled"])])],32))}}),kl={key:0,class:"flex items-center justify-center h-full"},Pl=N({__name:"HardwareConfigTab",setup(C){const{data:b,isPending:y}=ye();return(S,T)=>(o(),P(Q,null,[e(y)?(o(),P("div",kl,[l(e(j),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(b)?(o(),D(Cl,{key:1,"initial-values":e(b)},null,8,["initial-values"])):$("",!0)],64))}}),Tl={class:"space-y-0.5"},El=N({__name:"HTTPConfigForm",props:{initialValues:{}},setup(C){const b=C,y=A({port:B().int().min(1024,"Port must be at least 1024").max(65535,"Port must be at most 65535"),swagger:z().default(!1)}),S=ae(),{mutate:T,isPending:g}=ve(),r=te({validationSchema:se(y),initialValues:b.initialValues}).handleSubmit(k=>{T(k,{onSuccess:()=>{S.setQueryData([xe],k),H.success("HTTP configuration updated successfully!")},onError:()=>{H.error("Failed to update HTTP configuration")}})});return(k,d)=>(o(),P("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:d[0]||(d[0]=(...x)=>e(r)&&e(r)(...x))},[d[4]||(d[4]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," HTTP Configuration ",-1)),l(e(f),{name:"port"},{default:a(({field:x})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>d[1]||(d[1]=[s("Port")])),_:1,__:[1]}),l(e(p),null,{default:a(()=>[l(e(I),{modelValue:x.value,"onUpdate:modelValue":R=>x.value=R,type:"number",placeholder:"Enter port number",disabled:e(g),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"swagger"},{default:a(({value:x,handleChange:R})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",Tl,[l(e(_),null,{default:a(()=>d[2]||(d[2]=[s("Enable Swagger")])),_:1,__:[2]})]),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":x,disabled:e(g),"aria-readonly":"","onUpdate:modelValue":R},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:1}),n("div",null,[l(e(J),{type:"submit",disabled:e(g)},{default:a(()=>[e(g)?(o(),D(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),d[3]||(d[3]=s(" Save "))]),_:1,__:[3]},8,["disabled"])])],32))}}),$l={key:0,class:"flex items-center justify-center h-full"},Vl=N({__name:"HTTPConfigTab",setup(C){const{data:b,isPending:y}=we();return(S,T)=>(o(),P(Q,null,[e(y)?(o(),P("div",$l,[l(e(j),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(b)?(o(),D(El,{key:1,"initial-values":e(b)},null,8,["initial-values"])):$("",!0)],64))}}),Il={class:"space-y-0.5"},Dl={class:"space-y-0.5"},Al=N({__name:"WifiConfigForm",props:{initialValues:{}},setup(C){const b=C,y=/^[\w\s\-.]*$/,S=/^[\x21-\x7E]*$/,T=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d{1,2})$/,g=/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\/(16|24))?$/,v=A({ap:A({enable:z(),ssid:q().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(y,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:q().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(S,"Password can only contain printable characters"),ip:q().min(1,"IP address is required").regex(T,"Invalid IPv4 address format")}),sta:A({enable:z(),ssid:q().min(1,"SSID is required").max(32,"SSID must be at most 32 characters").regex(y,"SSID can only contain alphanumeric characters, spaces, hyphens, underscores, and dots"),password:q().min(8,"Password must be at least 8 characters").max(63,"Password must be at most 63 characters").regex(S,"Password can only contain printable characters"),ip:q().min(1,"IP address is required").regex(g,"Invalid IPv4 address format")})}).superRefine((O,i)=>{(O.ap.enable&&O.sta.enable||!O.ap.enable&&!O.sta.enable)&&(i.addIssue({code:Z.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["ap.enable"]}),i.addIssue({code:Z.custom,message:"AP and STA cannot be enabled or disabled at the same time",path:["sta.enable"]}))}),r=ae(),{mutate:k,isPending:d}=Se(),R=te({validationSchema:se(v),initialValues:b.initialValues}).handleSubmit(O=>{k(O,{onSuccess:()=>{r.setQueryData([Ce],O),H.success("WiFi configuration updated successfully!")},onError:()=>{H.error("Failed to update WiFi configuration")}})});return(O,i)=>(o(),P("form",{class:"flex flex-col w-full max-w-lg space-y-6",onSubmit:i[0]||(i[0]=(...t)=>e(R)&&e(R)(...t))},[i[10]||(i[10]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," AP Configuration ",-1)),l(e(f),{type:"checkbox",name:"ap.enable"},{default:a(({value:t,handleChange:u})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",Il,[l(e(_),null,{default:a(()=>i[1]||(i[1]=[s("Enable AP")])),_:1,__:[1]})]),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":t,disabled:e(d),"onUpdate:modelValue":u},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(c))]),_:1}),l(e(f),{name:"ap.ssid"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[2]||(i[2]=[s("SSID")])),_:1,__:[2]}),l(e(p),null,{default:a(()=>[l(e(I),E(t,{placeholder:"Enter SSID",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"ap.password"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[3]||(i[3]=[s("Password")])),_:1,__:[3]}),l(e(p),null,{default:a(()=>[l(e(ne),E(t,{placeholder:"Enter password",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"ap.ip"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[4]||(i[4]=[s("IP Address")])),_:1,__:[4]}),l(e(p),null,{default:a(()=>[l(e(I),E(t,{placeholder:"Enter IP address",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),i[11]||(i[11]=n("h3",{class:"pb-2 text-lg font-medium border-b"}," STA Configuration ",-1)),l(e(f),{type:"checkbox",name:"sta.enable"},{default:a(({value:t,handleChange:u})=>[l(e(m),{class:"flex flex-row items-center justify-between p-4 border rounded-lg"},{default:a(()=>[n("div",Dl,[l(e(_),null,{default:a(()=>i[5]||(i[5]=[s("Enable STA")])),_:1,__:[5]})]),l(e(p),null,{default:a(()=>[l(e(K),{"model-value":t,disabled:e(d),"onUpdate:modelValue":u},null,8,["model-value","disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),l(e(c))]),_:1}),l(e(f),{name:"sta.ssid"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[6]||(i[6]=[s("SSID")])),_:1,__:[6]}),l(e(p),null,{default:a(()=>[l(e(I),E(t,{placeholder:"Enter SSID",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"sta.password"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[7]||(i[7]=[s("Password")])),_:1,__:[7]}),l(e(p),null,{default:a(()=>[l(e(ne),E(t,{placeholder:"Enter password",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),l(e(f),{name:"sta.ip"},{default:a(({componentField:t})=>[l(e(m),null,{default:a(()=>[l(e(_),null,{default:a(()=>i[8]||(i[8]=[s("Static IP Address")])),_:1,__:[8]}),l(e(p),null,{default:a(()=>[l(e(I),E(t,{placeholder:"Enter IP address",disabled:e(d)}),null,16,["disabled"])]),_:2},1024),l(e(c))]),_:2},1024)]),_:1}),n("div",null,[l(e(J),{type:"submit",disabled:e(d)},{default:a(()=>[e(d)?(o(),D(e(j),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):$("",!0),i[9]||(i[9]=s(" Save "))]),_:1,__:[9]},8,["disabled"])])],32))}}),Nl={key:0,class:"flex items-center justify-center h-full"},Rl=N({__name:"WifiConfigTab",setup(C){const{data:b,isPending:y}=ke();return(S,T)=>(o(),P(Q,null,[e(y)?(o(),P("div",Nl,[l(e(j),{class:"w-4 h-4 animate-spin"})])):$("",!0),e(b)?(o(),D(Al,{key:1,"initial-values":e(b)},null,8,["initial-values"])):$("",!0)],64))}}),Ol={class:"text-sm text-muted-foreground"},Yl=N({__name:"SettingsView",setup(C){const b=Ne(),y=Re(),S=b.query.tab??"hardware";function T(g){y.replace({query:{tab:g}})}return(g,v)=>{const r=oe("RouterLink");return o(),D(Ue,null,{default:a(()=>[n("div",null,[v[2]||(v[2]=n("h1",{class:"text-xl font-semibold tracking-tight"}," Settings ",-1)),n("p",Ol,[v[1]||(v[1]=s(" Configure your robot's settings ")),l(r,{to:"/reboot",class:"text-blue-500"},{default:a(()=>v[0]||(v[0]=[s(" (Reboot to apply changes) ")])),_:1,__:[0]})])]),l(e(Le),{"default-value":e(S),"onUpdate:modelValue":T},{default:a(()=>[l(e(Fe),null,{default:a(()=>[l(e(X),{value:"hardware"},{default:a(()=>v[3]||(v[3]=[s(" Hardware ")])),_:1,__:[3]}),l(e(X),{value:"cloud"},{default:a(()=>v[4]||(v[4]=[s(" Cloud ")])),_:1,__:[4]}),l(e(X),{value:"http"},{default:a(()=>v[5]||(v[5]=[s(" HTTP ")])),_:1,__:[5]}),l(e(X),{value:"wifi"},{default:a(()=>v[6]||(v[6]=[s(" WiFi ")])),_:1,__:[6]}),l(e(X),{value:"command"},{default:a(()=>v[7]||(v[7]=[s(" Command ")])),_:1,__:[7]})]),_:1}),l(e(ee),{value:"hardware"},{default:a(()=>[l(Pl)]),_:1}),l(e(ee),{value:"cloud"},{default:a(()=>[l(Ye)]),_:1}),l(e(ee),{value:"http"},{default:a(()=>[l(Vl)]),_:1}),l(e(ee),{value:"wifi"},{default:a(()=>[l(Rl)]),_:1}),l(e(ee),{value:"command"},{default:a(()=>[l(tl)]),_:1})]),_:1},8,["default-value"])]),_:1})}}});export{Yl as default};
