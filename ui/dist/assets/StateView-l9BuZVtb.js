import{i as L,u as N,_ as R,L as A,a as i,b as p}from"./http-DugWkt7F.js";import{C as y,_ as m,a as f}from"./CardTitle.vuevuetypescriptsetuptruelang-BXH0Ky3d.js";import{d as _,c as k,w as a,e as c,D as v,b as e,F as t,f as n,z as o,y as d,G as u}from"./index-CYrawL-w.js";import"./createLucideIcon-DbyjAzfK.js";const B={getRobotState(r){return L.get("/robot-state",r)}};function T(r){return N({queryKey:["robotState"],queryFn:()=>B.getRobotState(r==null?void 0:r.axiosOpts),refetchInterval:r==null?void 0:r.refetchInterval})}function g(r){if(!r)return"N/A";const l=new Date(r);return Number.isNaN(l.getTime())?"Invalid date":new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,year:"numeric",month:"short",day:"numeric"}).format(l)}const V={key:0,class:"flex flex-col items-center justify-center gap-4 pt-20"},Y={class:"flex items-center gap-4"},E={key:1,class:"flex flex-col items-center justify-center gap-4 pt-20"},F={class:"space-y-2 text-center"},I={class:"text-sm text-muted-foreground"},O={key:2,class:"flex flex-col items-center justify-center gap-4 pt-20"},$={key:3,class:"flex flex-col w-full"},j={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},P={class:"mx-auto space-x-2"},q={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},Q={class:"text-green-600"},z={class:"mx-auto space-x-2"},H={class:"flex flex-col gap-2"},G={class:"mx-auto space-x-2"},K={class:"flex flex-col gap-2"},U={class:"mx-auto space-x-2"},J={class:"grid grid-rows-1 gap-2"},W={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},X={class:"mx-auto space-x-2"},Z={class:"grid grid-rows-1 gap-2"},h={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},tt={class:"mx-auto space-x-2"},st={class:"grid grid-rows-2 gap-2"},et={class:"mx-auto space-x-2"},lt={class:"grid grid-rows-1 gap-2"},nt={class:"mx-auto space-x-2"},ot={class:"grid grid-rows-1 gap-2"},at={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},dt={class:"mx-auto space-x-2"},rt={class:"grid grid-rows-1 gap-2"},it=1e3,gt=_({__name:"StateView",setup(r){const{data:l,isPending:D,isError:S,error:M}=T({axiosOpts:{doNotShowLoading:!0},refetchInterval:it});function C(x){return x<20?"text-red-5500":x<40?"text-orange-500":x<60?"text-yellow-500":"text-green-500"}function w(x){return x<15?"text-blue-500":x<35?"text-green-500":"text-red-500"}return(x,s)=>(c(),k(R,null,{default:a(()=>[e(D)?(c(),v("div",V,[t("div",Y,[n(e(A),{class:"w-8 h-8 animate-spin text-muted-foreground"})]),s[0]||(s[0]=t("p",{class:"text-lg text-muted-foreground"}," Loading state... ",-1))])):e(S)?(c(),v("div",E,[n(e(i),{class:"flex flex-col items-center gap-4 p-6 text-destructive"},{default:a(()=>{var b;return[n(e(y),{class:"w-8 h-8"}),t("div",F,[s[1]||(s[1]=t("h2",{class:"text-lg font-semibold"}," Failed to load state ",-1)),t("p",I,o(((b=e(M))==null?void 0:b.message)||"An unexpected error occurred"),1)])]}),_:1})])):e(l)?(c(),v("div",$,[s[51]||(s[51]=t("div",{class:"mb-6"},[t("h1",{class:"text-xl font-semibold"}," Robot state "),t("p",{class:"text-sm text-muted-foreground"}," The current state of the robot is updated once per second. ")],-1)),t("div",j,[n(e(i),{class:"col-span-1 sm:col-span-2"},{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(f),null,{default:a(()=>s[3]||(s[3]=[d("Battery State")])),_:1})]),_:1}),n(e(p),null,{default:a(()=>[t("div",P,[t("div",q,[t("p",null,[s[4]||(s[4]=t("span",{class:"font-medium"},"Current: ",-1)),d(o(e(l).battery.current)+" mA",1)]),t("p",null,[s[5]||(s[5]=t("span",{class:"font-medium"},"Battery level: ",-1)),t("span",{class:u(C(e(l).battery.percent))},o(e(l).battery.percent)+"%",3)]),t("p",null,[s[6]||(s[6]=t("span",{class:"font-medium"},"Voltage: ",-1)),d(o(e(l).battery.voltage)+" V",1)]),t("p",null,[s[7]||(s[7]=t("span",{class:"font-medium"},"Health: ",-1)),d(o(e(l).battery.health)+"%",1)]),t("p",null,[s[8]||(s[8]=t("span",{class:"font-medium"},"Cell voltages: ",-1)),t("span",null,o(e(l).battery.cellVoltages.join(", "))+" V",1)]),t("p",null,[s[9]||(s[9]=t("span",{class:"font-medium"},"Fault status: ",-1)),t("span",Q,o(e(l).battery.fault),1)]),t("p",null,[s[10]||(s[10]=t("span",{class:"font-medium"},"Temperature: ",-1)),t("span",{class:u(w(e(l).battery.temp))},o(e(l).battery.temp)+"Â°C",3)]),t("p",null,[s[11]||(s[11]=t("span",{class:"font-medium"},"Last updated: ",-1)),d(o(e(g)(e(l).battery.updatedAt)),1)])])])]),_:1})]),_:1}),n(e(i),null,{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(f),null,{default:a(()=>s[12]||(s[12]=[d("Charge State")])),_:1})]),_:1}),n(e(p),null,{default:a(()=>[t("div",z,[t("div",H,[t("p",null,[s[13]||(s[13]=t("span",{class:"font-medium"},"Current limit: ",-1)),d(o(e(l).charge.currentLimit)+" mA ",1)]),t("p",null,[s[14]||(s[14]=t("span",{class:"font-medium"},"Charging: ",-1)),t("span",{class:u(e(l).charge.enabled?"text-green-500":"text-red-500")},o(e(l).charge.enabled?"Yes":"No"),3)]),t("p",null,[s[15]||(s[15]=t("span",{class:"font-medium"},"Last updated: ",-1)),d(" "+o(e(g)(e(l).charge.updatedAt)),1)])])])]),_:1})]),_:1}),n(e(i),null,{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(f),null,{default:a(()=>s[16]||(s[16]=[d("Discharge State")])),_:1})]),_:1}),n(e(p),null,{default:a(()=>[t("div",G,[t("div",K,[t("p",null,[s[17]||(s[17]=t("span",{class:"font-medium"},"Current limit: ",-1)),d(o(e(l).discharge.currentLimit)+" mA ",1)]),t("p",null,[s[18]||(s[18]=t("span",{class:"font-medium"},"Discharging: ",-1)),t("span",{class:u(e(l).discharge.enabled?"text-green-500":"text-red-500")},o(e(l).discharge.enabled?"Yes":"No"),3)]),t("p",null,[s[19]||(s[19]=t("span",{class:"font-medium"},"Last updated: ",-1)),d(o(e(g)(e(l).discharge.updatedAt)),1)])])])]),_:1})]),_:1}),n(e(i),null,{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(f),null,{default:a(()=>s[20]||(s[20]=[d("Lift Motor State")])),_:1})]),_:1}),n(e(p),null,{default:a(()=>[t("div",U,[t("div",J,[t("div",W,[t("p",null,[s[21]||(s[21]=t("span",{class:"font-medium"},"Current: ",-1)),d(o(e(l).liftMotor.currentPosition)+" cm",1)]),t("p",null,[s[22]||(s[22]=t("span",{class:"font-medium"},"Target: ",-1)),d(o(e(l).liftMotor.targetPosition)+" cm",1)]),t("p",null,[s[23]||(s[23]=t("span",{class:"font-medium"},"Running: ",-1)),t("span",{class:u(e(l).liftMotor.isRunning?"text-green-500":"text-red-500")},o(e(l).liftMotor.isRunning?"Yes":"No"),3)]),t("p",null,[s[24]||(s[24]=t("span",{class:"font-medium"},"Enabled: ",-1)),t("span",{class:u(e(l).liftMotor.enabled?"text-green-500":"text-red-500")},o(e(l).liftMotor.enabled?"Yes":"No"),3)])]),t("p",null,[s[25]||(s[25]=t("span",{class:"font-medium"},"Last updated:",-1)),d(" "+o(e(g)(e(l).liftMotor.updatedAt)),1)])])])]),_:1})]),_:1}),n(e(i),null,{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(f),null,{default:a(()=>s[26]||(s[26]=[d("Drive Motor State")])),_:1})]),_:1}),n(e(p),null,{default:a(()=>[t("div",X,[t("div",Z,[t("p",null,[s[27]||(s[27]=t("span",{class:"font-medium"},"Direction: ",-1)),d(o(e(l).driveMotor.direction),1)]),t("p",null,[s[28]||(s[28]=t("span",{class:"font-medium"},"Speed: ",-1)),d(o(e(l).driveMotor.speed)+" %",1)]),t("div",h,[t("p",null,[s[29]||(s[29]=t("span",{class:"font-medium"},"Running: ",-1)),t("span",{class:u(e(l).driveMotor.isRunning?"text-green-500":"text-red-500")},o(e(l).driveMotor.isRunning?"Yes":"No"),3)]),t("p",null,[s[30]||(s[30]=t("span",{class:"font-medium"},"Enabled: ",-1)),t("span",{class:u(e(l).driveMotor.enabled?"text-green-500":"text-red-500")},o(e(l).driveMotor.enabled?"Yes":"No"),3)])]),t("p",null,[s[31]||(s[31]=t("span",{class:"font-medium"},"Last updated: ",-1)),d(o(e(g)(e(l).driveMotor.updatedAt)),1)])])])]),_:1})]),_:1}),n(e(i),null,{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(f),null,{default:a(()=>s[32]||(s[32]=[d("Distance Sensor State")])),_:1})]),_:1}),n(e(p),null,{default:a(()=>[t("div",tt,[t("div",st,[t("p",null,[s[33]||(s[33]=t("span",{class:"font-medium"},"Front: ",-1)),d(o(e(l).distanceSensor.frontDistance)+" cm",1)]),t("p",null,[s[34]||(s[34]=t("span",{class:"font-medium"},"Back: ",-1)),d(o(e(l).distanceSensor.backDistance)+" cm",1)]),t("p",null,[s[35]||(s[35]=t("span",{class:"font-medium"},"Down: ",-1)),d(o(e(l).distanceSensor.downDistance)+" cm",1)]),t("p",null,[s[36]||(s[36]=t("span",{class:"font-medium"},"Last updated: ",-1)),d(o(e(g)(e(l).distanceSensor.updatedAt)),1)])])])]),_:1})]),_:1}),n(e(i),null,{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(f),null,{default:a(()=>s[37]||(s[37]=[d("Location State")])),_:1})]),_:1}),n(e(p),null,{default:a(()=>[t("div",et,[t("div",lt,[t("p",null,[s[38]||(s[38]=t("span",{class:"font-medium"},"Current location: ",-1)),d(o(e(l).location.currentLocation),1)]),t("p",null,[s[39]||(s[39]=t("span",{class:"font-medium"},"Last updated:",-1)),d(" "+o(e(g)(e(l).location.updatedAt)),1)])])])]),_:1})]),_:1}),n(e(i),null,{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(f),null,{default:a(()=>s[40]||(s[40]=[d("Cargo Door Motor State")])),_:1})]),_:1}),n(e(p),null,{default:a(()=>[t("div",nt,[t("div",ot,[t("p",null,[s[41]||(s[41]=t("span",{class:"font-medium"},"Direction: ",-1)),d(o(e(l).cargoDoorMotor.direction),1)]),t("p",null,[s[42]||(s[42]=t("span",{class:"font-medium"},"Speed: ",-1)),d(o(e(l).cargoDoorMotor.speed)+" %",1)]),t("div",at,[t("p",null,[s[43]||(s[43]=t("span",{class:"font-medium"},"Running: ",-1)),t("span",{class:u(e(l).cargoDoorMotor.isRunning?"text-green-500":"text-red-500")},o(e(l).cargoDoorMotor.isRunning?"Yes":"No"),3)]),t("p",null,[s[44]||(s[44]=t("span",{class:"font-medium"},"Enabled: ",-1)),t("span",{class:u(e(l).cargoDoorMotor.enabled?"text-green-500":"text-red-500")},o(e(l).cargoDoorMotor.enabled?"Yes":"No"),3)])]),t("p",null,[s[45]||(s[45]=t("span",{class:"font-medium"},"Last updated:",-1)),d(" "+o(e(g)(e(l).cargoDoorMotor.updatedAt)),1)])])])]),_:1})]),_:1}),n(e(i),null,{default:a(()=>[n(e(m),null,{default:a(()=>[n(e(f),null,{default:a(()=>s[46]||(s[46]=[d("Cargo State")])),_:1})]),_:1}),n(e(p),null,{default:a(()=>[t("div",dt,[t("div",rt,[t("p",null,[s[47]||(s[47]=t("span",{class:"font-medium"},"Door Open: ",-1)),t("span",{class:u(e(l).cargo.isOpen?"text-green-500":"text-red-500")},o(e(l).cargo.isOpen?"Yes":"No"),3)]),t("p",null,[s[48]||(s[48]=t("span",{class:"font-medium"},"QR Code: ",-1)),d(o(e(l).cargo.qrCode||"None"),1)]),t("p",null,[s[49]||(s[49]=t("span",{class:"font-medium"},"Bottom Distance: ",-1)),d(o(e(l).cargo.bottomDistance)+" cm",1)]),t("p",null,[s[50]||(s[50]=t("span",{class:"font-medium"},"Last updated:",-1)),d(" "+o(e(g)(e(l).cargo.updatedAt)),1)])])])]),_:1})]),_:1})])])):(c(),v("div",O,[n(e(i),{class:"flex flex-col items-center gap-4 p-6"},{default:a(()=>[n(e(y),{class:"w-8 h-8 text-muted-foreground"}),s[2]||(s[2]=t("div",{class:"space-y-2 text-center"},[t("h2",{class:"text-lg font-semibold"}," Robot state not found "),t("p",{class:"text-sm text-muted-foreground"}," The robot state appears to be empty ")],-1))]),_:1})]))]),_:1}))}});export{gt as default};
