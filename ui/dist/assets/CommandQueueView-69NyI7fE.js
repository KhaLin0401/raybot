import{_ as D}from"./index-kncLWKR0.js";import{u as G,g as $e,h as we}from"./index-DB6enRSz.js";import{u as Ee,a as te,b as ae,_ as Oe,c as ke,d as Re,L as h,g as q,e as U,f as H,h as K,i as Ae,C as Se,A as De,Q as Le,S as je,j as Me,k as ne,l as oe,E as le,m as ie,n as j,o as de,t as Ne,p as Ve,q as Pe,r as Ie,s as Te,v as Fe,w as Qe,x as Be}from"./PaginationPrev.vuevuetypescriptsetuptruelang-CvHKNAlB.js";import{f as Ge,a as L,A as he,M as qe,P as V,_ as Ue}from"./date-D4ZjW0EE.js";import{d as A,c as C,o as l,w as a,r as z,m as P,u as e,n as re,g as me,I as He,J as Ke,K as ze,L as We,D as ee,b as s,f as y,y as E,i as p,e as t,k as W,t as g,R as M,M as v,a as ue,N,O as ce,p as I,v as Je,F as Xe,B as pe}from"./index-sUx4EJyp.js";import{_ as J,a as X}from"./CardContent.vuevuetypescriptsetuptruelang-B4EyadPv.js";import{_ as fe}from"./CardFooter.vuevuetypescriptsetuptruelang-ygyuSKQV.js";import{_ as Y,a as Z}from"./CardTitle.vuevuetypescriptsetuptruelang-CtUNP5bv.js";import{z as r,u as Ye,F as T,_ as F,a as Q,b as Ze,c as B,d as se,t as es}from"./vee-validate-zod-B3p22h3G.js";/* empty css                                                              */import{_ as _e,a as Ce,b as ge,c as ve,d as w}from"./SelectValue.vuevuetypescriptsetuptruelang-C3G0PMoT.js";import{P as ss,a as ts}from"./createLucideIcon-C08hqJUE.js";import{b as as}from"./PopperContent-BHrwd_An.js";import{L as ns,_ as os}from"./http-CmJNus9Z.js";import{c as ls,_ as is,a as ds,b as rs}from"./TooltipTrigger.vuevuetypescriptsetuptruelang-DLnJFGcx.js";import"./useMutation-jsz6rHPz.js";const ms=A({__name:"MenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(x){const c=x;return(d,_)=>(l(),C(e(ss),P(c,{role:"separator","aria-orientation":"horizontal"}),{default:a(()=>[z(d.$slots,"default")]),_:3},16))}}),us=A({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(x){const c=x;return as(),(d,_)=>(l(),C(e(ms),re(me(c)),{default:a(()=>[z(d.$slots,"default")]),_:3},16))}}),cs=A({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(x){const c=x;return(d,_)=>(l(),C(e(ls),re(me(c)),{default:a(()=>[z(d.$slots,"default")]),_:3},16))}}),ps={key:0},fs={class:"flex items-center justify-center py-8"},_s={key:1},Cs={key:2,class:"mt-6 space-y-6"},gs={class:"flex items-center justify-between"},vs={class:"flex items-center gap-2"},ys={class:"text-sm font-medium"},xs={class:"grid grid-cols-2 gap-4"},bs={class:"font-medium"},$s={class:"flex flex-col items-start gap-2"},ws={key:0},Es={class:"font-medium"},Os={class:"space-y-2"},ks={class:"p-4 bg-gray-100 rounded-xl dark:bg-gray-800"},Rs={class:"font-mono text-sm text-gray-800 break-words whitespace-pre-wrap dark:text-gray-200"},As={key:0,class:"space-y-2"},Ss={class:"p-4 bg-gray-100 rounded-xl dark:bg-gray-800"},Ds={class:"font-mono text-sm text-gray-800 break-words whitespace-pre-wrap dark:text-gray-200"},Ls={key:1,class:"space-y-2"},js={class:"p-3 text-red-500 rounded-md bg-red-500/10"},Ms={class:"space-y-2"},Ns={class:"space-y-3"},Vs={class:"flex justify-between text-sm"},Ps={key:0,class:"flex justify-between text-sm"},Is={key:1,class:"flex justify-between text-sm"},Ts={class:"flex justify-between text-sm"},Fs={class:"flex gap-2 pt-4"},Qs=1e3,Bs=A({__name:"CommandDetailSheet",props:He({commandId:{}},{isOpen:{type:Boolean,required:!0},isOpenModifiers:{}}),emits:["update:isOpen"],setup(x){const c=x,d=Ke(x,"isOpen"),_=ze(c,"commandId"),{data:o,isPending:f,isError:k,refetch:b}=Ee(_,{axiosOpts:{doNotShowLoading:!0}}),{mutate:m}=te(),{mutate:R}=ae(),{openConfirmation:S}=G(),{pause:u,resume:n}=We(()=>{b()},Qs,{immediate:!1});ee(o,$=>{$&&["SUCCEEDED","FAILED","CANCELED"].includes($.status)?u():n()},{immediate:!0}),ee(d,$=>{$?n():u()},{immediate:!0});function O(){S({title:"Remove command",description:"Are you sure you want to remove this command from queue?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{m(c.commandId,{onSuccess:()=>{v.success("Command removed from queue")},onError:$=>{$ instanceof M?$.errorCode==="command.inProcessingCanNotBeDeleted"?v.error("Command is being processed and cannot be deleted"):v.error($.message):v.error($.message)}})},onCancel:()=>{}})}function xe(){S({title:"Cancel command",description:"Are you sure you want to cancel this command?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{R(void 0,{onSuccess:()=>{v.success("Command cancelled successfully")},onError:$=>{$ instanceof M?$.errorCode==="command.noCommandBeingProcessed"?v.error("No command is being processed"):v.error($.message):v.error($.message)}})},onCancel:()=>{}})}return($,i)=>(l(),C(e($e),{open:d.value,"onUpdate:open":i[0]||(i[0]=be=>d.value=be)},{default:a(()=>[s(e(we),{class:"max-h-screen overflow-y-auto sm:max-w-md"},{default:a(()=>[s(e(Oe),null,{default:a(()=>[s(e(ke),null,{default:a(()=>i[1]||(i[1]=[p(" Command detail ")])),_:1}),s(e(Re),null,{default:a(()=>i[2]||(i[2]=[p(" Real-time information about the selected command ")])),_:1})]),_:1}),e(f)?(l(),y("div",ps,[t("div",fs,[s(e(h),{class:"w-8 h-8 animate-spin"})])])):e(k)?(l(),y("div",_s,i[3]||(i[3]=[t("div",{class:"flex items-center justify-center py-8"},[t("p",{class:"text-sm text-muted-foreground"}," Failed to load command details ")],-1)]))):e(o)?(l(),y("div",Cs,[t("div",gs,[t("div",vs,[(l(),C(W(e(q)(e(o).type)))),t("span",ys,g(e(U)(e(o).type)),1)]),s(H,{status:e(o).status},null,8,["status"])]),t("div",xs,[t("div",null,[i[4]||(i[4]=t("p",{class:"text-sm text-muted-foreground"}," ID ",-1)),t("p",bs,g(e(o).id),1)]),t("div",$s,[i[5]||(i[5]=t("p",{class:"text-sm text-muted-foreground"}," Source ",-1)),s(K,{source:e(o).source},null,8,["source"])]),e(o).completedAt&&e(o).startedAt?(l(),y("div",ws,[i[6]||(i[6]=t("p",{class:"text-sm text-muted-foreground"}," Duration ",-1)),t("p",Es,g(e(Ge)((new Date(e(o).completedAt).getTime()-new Date(e(o).startedAt).getTime())/1e3)),1)])):E("",!0)]),t("div",Os,[i[7]||(i[7]=t("p",{class:"text-sm font-medium"}," Command Inputs ",-1)),t("div",ks,[t("span",Rs,g(JSON.stringify(e(o).inputs,null,4)),1)])]),e(o).status!=="PROCESSING"&&e(o).status!=="QUEUED"?(l(),y("div",As,[i[8]||(i[8]=t("p",{class:"text-sm font-medium"}," Command Outputs ",-1)),t("div",Ss,[t("span",Ds,g(JSON.stringify(e(o).outputs,null,4)),1)])])):E("",!0),e(o).error?(l(),y("div",Ls,[i[9]||(i[9]=t("p",{class:"text-sm font-medium text-red-500"}," Error ",-1)),t("div",js,g(e(o).error),1)])):E("",!0),t("div",Ms,[i[14]||(i[14]=t("p",{class:"text-sm font-medium"}," Timeline ",-1)),t("div",Ns,[t("div",Vs,[i[10]||(i[10]=t("span",{class:"text-muted-foreground"},"Created",-1)),t("span",null,g(e(L)(e(o).createdAt)),1)]),e(o).startedAt?(l(),y("div",Ps,[i[11]||(i[11]=t("span",{class:"text-muted-foreground"},"Started",-1)),t("span",null,g(e(L)(e(o).startedAt)),1)])):E("",!0),e(o).completedAt?(l(),y("div",Is,[i[12]||(i[12]=t("span",{class:"text-muted-foreground"},"Completed",-1)),t("span",null,g(e(L)(e(o).completedAt)),1)])):E("",!0),t("div",Ts,[i[13]||(i[13]=t("span",{class:"text-muted-foreground"},"Last Updated",-1)),t("span",null,g(e(L)(e(o).updatedAt)),1)])])]),t("div",Fs,[e(o).status==="QUEUED"?(l(),C(e(D),{key:0,variant:"destructive",class:"flex-1",onClick:O},{default:a(()=>i[15]||(i[15]=[p(" Remove from queue ")])),_:1})):e(o).status==="PROCESSING"?(l(),C(e(D),{key:1,variant:"destructive",class:"flex-1",onClick:xe},{default:a(()=>i[16]||(i[16]=[p(" Stop execution ")])),_:1})):(l(),C(e(D),{key:2,variant:"outline",class:"flex-1",disabled:""},{default:a(()=>i[17]||(i[17]=[p(" Re-run ")])),_:1}))])])):E("",!0)]),_:1})]),_:1},8,["open"]))}}),Gs=r.discriminatedUnion("type",[r.object({type:r.literal("STOP_MOVEMENT"),inputs:r.object({})}),r.object({type:r.literal("MOVE_TO"),inputs:r.object({location:r.string()})}),r.object({type:r.literal("MOVE_FORWARD"),inputs:r.object({})}),r.object({type:r.literal("MOVE_BACKWARD"),inputs:r.object({})}),r.object({type:r.literal("CARGO_OPEN"),inputs:r.object({})}),r.object({type:r.literal("CARGO_CLOSE"),inputs:r.object({})}),r.object({type:r.literal("CARGO_LIFT"),inputs:r.object({})}),r.object({type:r.literal("CARGO_LOWER"),inputs:r.object({})}),r.object({type:r.literal("CARGO_CHECK_QR"),inputs:r.object({qrCode:r.string()})}),r.object({type:r.literal("SCAN_LOCATION"),inputs:r.object({})})]),hs={class:"space-y-4"},qs={class:"flex items-center gap-2"},Us={class:"flex items-center gap-2"},Hs={class:"flex items-center gap-2"},Ks={class:"flex items-center gap-2"},zs={class:"flex items-center gap-2"},Ws={class:"flex items-center gap-2"},Js={class:"flex items-center gap-2"},Xs={class:"flex items-center gap-2"},Ys={class:"flex items-center gap-2"},Zs={class:"flex items-center gap-2"},et=A({__name:"CreateCommandForm",setup(x){const{values:c,handleSubmit:d,setFieldValue:_,resetForm:o}=Ye({validationSchema:es(Gs),initialValues:{type:"STOP_MOVEMENT",inputs:{}}}),f=ue(()=>c.type);function k(u){_("type",u)}const{mutate:b,isPending:m}=Ae(),R=d(u=>{b(u,{onSuccess:()=>{v.success("Command created successfully")},onError:n=>{n instanceof M?v.error({title:n.errorCode,message:n.message}):v.error("Failed to create command")}})});function S(){o()}return(u,n)=>(l(),C(e(J),{class:"sticky top-6"},{default:a(()=>[s(e(Y),null,{default:a(()=>[s(e(Z),null,{default:a(()=>n[2]||(n[2]=[p("Create command")])),_:1})]),_:1}),t("form",{onSubmit:n[1]||(n[1]=N((...O)=>e(R)&&e(R)(...O),["prevent"]))},[s(e(X),null,{default:a(()=>[t("div",hs,[s(e(T),{name:"type"},{default:a(()=>[s(e(F),null,{default:a(()=>[s(e(Q),null,{default:a(()=>n[3]||(n[3]=[p("Command type")])),_:1}),s(e(_e),{disabled:e(m),"model-value":e(f),"onUpdate:modelValue":n[0]||(n[0]=O=>k(O))},{default:a(()=>[s(e(Ze),null,{default:a(()=>[s(e(Ce),null,{default:a(()=>[s(e(ge),{placeholder:"Select command type"})]),_:1})]),_:1}),s(e(ve),null,{default:a(()=>[s(e(w),{value:"STOP_MOVEMENT"},{default:a(()=>[t("div",qs,[s(e(Se),{class:"w-4 h-4"}),n[4]||(n[4]=t("span",null,"Stop Movement",-1))])]),_:1}),s(e(w),{value:"MOVE_FORWARD"},{default:a(()=>[t("div",Us,[s(e(De),{class:"w-4 h-4"}),n[5]||(n[5]=t("span",null,"Move Forward",-1))])]),_:1}),s(e(w),{value:"MOVE_BACKWARD"},{default:a(()=>[t("div",Hs,[s(e(he),{class:"w-4 h-4"}),n[6]||(n[6]=t("span",null,"Move Backward",-1))])]),_:1}),s(e(w),{value:"MOVE_TO"},{default:a(()=>[t("div",Ks,[s(e(qe),{class:"w-4 h-4"}),n[7]||(n[7]=t("span",null,"Move To",-1))])]),_:1}),s(e(w),{value:"CARGO_OPEN"},{default:a(()=>[t("div",zs,[s(e(V),{class:"w-4 h-4"}),n[8]||(n[8]=t("span",null,"Cargo Open",-1))])]),_:1}),s(e(w),{value:"CARGO_CLOSE"},{default:a(()=>[t("div",Ws,[s(e(V),{class:"w-4 h-4"}),n[9]||(n[9]=t("span",null,"Cargo Close",-1))])]),_:1}),s(e(w),{value:"CARGO_LIFT"},{default:a(()=>[t("div",Js,[s(e(V),{class:"w-4 h-4"}),n[10]||(n[10]=t("span",null,"Cargo Lift",-1))])]),_:1}),s(e(w),{value:"CARGO_LOWER"},{default:a(()=>[t("div",Xs,[s(e(V),{class:"w-4 h-4"}),n[11]||(n[11]=t("span",null,"Cargo Lower",-1))])]),_:1}),s(e(w),{value:"CARGO_CHECK_QR",disabled:""},{default:a(()=>[t("div",Ys,[s(e(Le),{class:"w-4 h-4"}),n[12]||(n[12]=t("span",null,"Cargo Check QR",-1))])]),_:1}),s(e(w),{value:"SCAN_LOCATION"},{default:a(()=>[t("div",Zs,[s(e(je),{class:"w-4 h-4"}),n[13]||(n[13]=t("span",null,"Scan Location",-1))])]),_:1})]),_:1})]),_:1},8,["disabled","model-value"]),s(e(B))]),_:1})]),_:1}),e(f)==="MOVE_TO"?(l(),C(e(T),{key:0,name:"inputs.location"},{default:a(({componentField:O})=>[s(e(F),null,{default:a(()=>[s(e(Q),null,{default:a(()=>n[14]||(n[14]=[p("Location")])),_:1}),s(e(se),P(O,{placeholder:"Enter location"}),null,16),s(e(B))]),_:2},1024)]),_:1})):e(f)==="CARGO_CHECK_QR"?(l(),C(e(T),{key:1,name:"inputs.qrCode"},{default:a(({componentField:O})=>[s(e(F),null,{default:a(()=>[s(e(Q),null,{default:a(()=>n[15]||(n[15]=[p("QR Code")])),_:1}),s(e(se),P(O,{placeholder:"Enter QR code"}),null,16),s(e(B))]),_:2},1024)]),_:1})):E("",!0)])]),_:1}),s(e(fe),{class:"flex flex-col gap-2"},{default:a(()=>[s(e(D),{type:"submit",class:"w-full",disabled:e(m)},{default:a(()=>[e(m)?(l(),C(e(h),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):E("",!0),n[16]||(n[16]=p(" Add command "))]),_:1},8,["disabled"]),s(e(D),{type:"button",variant:"outline",class:"w-full",disabled:e(m),onClick:S},{default:a(()=>n[17]||(n[17]=[p(" Clear form ")])),_:1},8,["disabled"])]),_:1})],32)]),_:1}))}}),ye=A({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(x){const c=x,d=ue(()=>{const{class:_,...o}=c;return o});return(_,o)=>(l(),C(e(us),P(d.value,{class:e(ts)("-mx-1 my-1 h-px bg-muted",c.class)}),null,16,["class"]))}}),st={key:0},tt={class:"flex items-center justify-center gap-2 p-9"},at={class:"flex items-center justify-between"},nt={class:"flex items-center gap-2 font-medium"},ot={class:"flex items-center gap-2 text-sm text-muted-foreground"},lt={key:0,class:"text-sm"},it={key:1,class:"text-sm"},dt=1e3,rt=A({__name:"CurrentProcessingCommandCard",emits:["viewDetails"],setup(x,{emit:c}){const d=c,{openConfirmation:_}=G(),{data:o,refetch:f,isError:k}=Me({axiosOpts:{doNotShowLoading:!0}}),{mutate:b,isPending:m}=ae(),R=setInterval(f,dt);ce(()=>{clearInterval(R)});function S(){_({title:"Cancel command",description:"Are you sure you want to cancel this command?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{b(void 0,{onSuccess:()=>{v.success("Command cancelled successfully")},onError:u=>{u instanceof M?u.errorCode==="command.noCommandBeingProcessed"?v.error("No command is being processed"):v.error(u.message):v.error(u.message)}})},onCancel:()=>{}})}return(u,n)=>e(o)&&!e(k)?(l(),C(e(J),{key:0},{default:a(()=>[s(e(Y),{class:"pb-3"},{default:a(()=>[s(e(Z),{class:"flex items-center justify-between"},{default:a(()=>[n[3]||(n[3]=t("span",null,"Current Command",-1)),s(H,{status:e(o).status},null,8,["status"])]),_:1})]),_:1}),s(e(X),null,{default:a(()=>[e(m)?(l(),y("div",st,[t("div",tt,[s(e(ns),{class:"w-4 h-4 animate-spin"}),n[4]||(n[4]=t("span",null,"Cancelling command...",-1))])])):(l(),y("div",{key:1,class:"p-4 space-y-3 border rounded-lg cursor-pointer bg-muted/50",onClick:n[2]||(n[2]=O=>d("viewDetails",e(o).id))},[t("div",at,[t("div",nt,[(l(),C(W(e(q)(e(o).type)),{class:"w-5 h-5"})),t("span",null,g(e(U)(e(o).type)),1)]),t("div",{class:"flex items-center gap-2",onClick:n[1]||(n[1]=N(()=>{},["stop"]))},[s(K,{source:e(o).source},null,8,["source"]),s(e(ne),null,{default:a(()=>[s(e(oe),{"as-child":""},{default:a(()=>[s(e(D),{variant:"ghost",size:"icon",class:"w-8 h-8"},{default:a(()=>[s(e(le),{class:"w-4 h-4"})]),_:1})]),_:1}),s(e(ie),{align:"end"},{default:a(()=>[s(e(j),{class:"cursor-pointer",onClick:n[0]||(n[0]=N(O=>d("viewDetails",e(o).id),["stop"]))},{default:a(()=>n[5]||(n[5]=[p(" View details ")])),_:1}),s(e(ye)),s(e(j),{class:"text-red-500 cursor-pointer",onClick:S},{default:a(()=>n[6]||(n[6]=[p(" Cancel command ")])),_:1})]),_:1})]),_:1})])]),t("div",ot,[s(e(de),{class:"w-4 h-4"}),t("span",null,"Started at: "+g(e(o).startedAt?e(L)(e(o).startedAt):"N/A"),1)]),e(o).type==="MOVE_TO"?(l(),y("div",lt,[n[7]||(n[7]=t("span",{class:"font-medium"},"Location: ",-1)),p(" "+g(e(o).inputs.location),1)])):e(o).type==="CARGO_CHECK_QR"?(l(),y("div",it,[n[8]||(n[8]=t("span",{class:"font-medium"},"QR Code: ",-1)),p(" "+g(e(o).inputs.qrCode),1)])):E("",!0)]))]),_:1})]),_:1})):E("",!0)}}),mt={class:"flex items-center justify-between"},ut={class:"flex items-center gap-2 font-medium"},ct={class:"flex items-center gap-2 text-sm text-muted-foreground"},pt={key:0,class:"text-sm"},ft={key:1,class:"text-sm"},_t=A({__name:"QueuedCommandItem",props:{command:{}},emits:["viewDetails"],setup(x,{emit:c}){const d=x,_=c,{openConfirmation:o}=G(),{mutate:f}=te();function k(){o({title:"Remove command",description:"Are you sure you want to remove this command from queue?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{f(d.command.id,{onSuccess:()=>{v.success("Command removed from queue")},onError:b=>{b instanceof M?b.errorCode==="command.inProcessingCanNotBeDeleted"?v.error("Command is being processed and cannot be deleted"):v.error(b.message):v.error(b.message)}})},onCancel:()=>{}})}return(b,m)=>(l(),y("div",{class:"p-4 space-y-3 transition-colors border rounded-lg cursor-pointer bg-muted/30 border-border/50 hover:border-border",onClick:m[3]||(m[3]=R=>_("viewDetails",d.command.id))},[t("div",mt,[t("div",ut,[(l(),C(W(e(q)(d.command.type)),{class:"w-5 h-5"})),t("span",null,g(e(U)(d.command.type)),1)]),t("div",{class:"flex items-center gap-2",onClick:m[2]||(m[2]=N(()=>{},["stop"]))},[s(H,{status:d.command.status},null,8,["status"]),s(K,{source:d.command.source},null,8,["source"]),s(e(ne),null,{default:a(()=>[s(e(oe),{"as-child":""},{default:a(()=>[s(e(D),{variant:"ghost",size:"icon",class:"w-8 h-8"},{default:a(()=>[s(e(le),{"class-name":"h-4 w-4"})]),_:1})]),_:1}),s(e(ie),{align:"end",onClick:m[1]||(m[1]=N(()=>{},["stop"]))},{default:a(()=>[s(e(j),{onClick:m[0]||(m[0]=R=>_("viewDetails",d.command.id))},{default:a(()=>m[4]||(m[4]=[p(" View details ")])),_:1}),s(e(j),null,{default:a(()=>m[5]||(m[5]=[p("Edit command")])),_:1}),s(e(ye)),s(e(j),{class:"text-red-500",onClick:k},{default:a(()=>m[6]||(m[6]=[p(" Remove from queue ")])),_:1})]),_:1})]),_:1})])]),t("div",ct,[s(e(de),{class:"w-4 h-4"}),t("span",null,"Created "+g(e(Ne)(d.command.createdAt)),1)]),d.command.type==="MOVE_TO"?(l(),y("div",pt,[m[7]||(m[7]=t("span",{class:"font-medium"},"Location: ",-1)),p(" "+g(b.command.inputs.location),1)])):d.command.type==="CARGO_CHECK_QR"?(l(),y("div",ft,[m[8]||(m[8]=t("span",{class:"font-medium"},"QR Code: ",-1)),p(" "+g(b.command.inputs.qrCode),1)])):E("",!0)]))}}),Ct={key:1,class:"py-6 text-center text-muted-foreground"},gt={class:"flex items-center gap-1 text-sm text-muted-foreground"},vt=2e3,yt=A({__name:"WaitingCommandList",emits:["viewDetails"],setup(x,{emit:c}){const d=c,_=I(1),o=I(5),{data:f,refetch:k}=Ve(_,o,{axiosOpts:{doNotShowLoading:!0}});function b(){_.value=1}function m(S){_.value=S}const R=setInterval(k,vt);return ce(()=>{clearInterval(R)}),(S,u)=>e(f)?(l(),C(e(J),{key:0},{default:a(()=>[s(e(Y),{class:"pb-3"},{default:a(()=>[s(e(Z),{class:"flex items-center justify-between"},{default:a(()=>[u[1]||(u[1]=t("span",null,"Waiting Commands",-1)),s(e(Ue),{variant:"outline"},{default:a(()=>[p(g(e(f).totalItems)+" commands ",1)]),_:1})]),_:1})]),_:1}),s(e(X),{class:"space-y-3"},{default:a(()=>[e(f).totalItems>0?(l(!0),y(Xe,{key:0},Je(e(f).items,n=>(l(),C(_t,{key:n.id,command:n,onViewDetails:O=>d("viewDetails",n.id)},null,8,["command","onViewDetails"]))),128)):(l(),y("div",Ct," No commands in queue "))]),_:1}),s(e(fe),{class:"flex items-center justify-between pt-4 border-t"},{default:a(()=>[t("div",gt,[u[5]||(u[5]=t("span",{class:"text-sm sr-only sm:not-sr-only"}," Items per page: ",-1)),s(e(_e),{modelValue:e(o),"onUpdate:modelValue":[u[0]||(u[0]=n=>pe(o)?o.value=n:null),b]},{default:a(()=>[s(e(Ce),{class:"w-16 h-8 ml-2"},{default:a(()=>[s(e(ge),{placeholder:"5"})]),_:1}),s(e(ve),null,{default:a(()=>[s(e(w),{value:"5"},{default:a(()=>u[2]||(u[2]=[p(" 5 ")])),_:1}),s(e(w),{value:"10"},{default:a(()=>u[3]||(u[3]=[p(" 10 ")])),_:1}),s(e(w),{value:"20"},{default:a(()=>u[4]||(u[4]=[p(" 20 ")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),s(e(Pe),{"sibling-count":1,"items-per-page":e(o),total:e(f).totalItems,"default-page":e(_),"onUpdate:page":m},{default:a(()=>[s(e(Ie),{class:"flex items-center gap-1"},{default:a(()=>[s(e(Te)),s(e(Fe)),s(e(Qe)),s(e(Be))]),_:1})]),_:1},8,["items-per-page","total","default-page"])]),_:1})]),_:1})):E("",!0)}}),xt={class:"flex items-center justify-between"},bt={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},$t={class:"space-y-6 md:col-span-2"},Ft=A({__name:"CommandQueueView",setup(x){const c=I(!1),d=I(null);function _(o){d.value=o,c.value=!0}return(o,f)=>(l(),C(os,null,{default:a(()=>[t("div",xt,[f[2]||(f[2]=t("div",null,[t("h1",{class:"text-xl font-semibold tracking-tight"}," Robot command queue "),t("p",{class:"text-sm text-muted-foreground"}," Manage and monitor robot commands in real-time ")],-1)),s(e(cs),null,{default:a(()=>[s(e(is),null,{default:a(()=>[s(e(ds),{"as-child":""},{default:a(()=>[s(e(D),{variant:"outline",size:"icon"},{default:a(()=>[s(e(h),{class:"w-4 h-4 animate-spin"})]),_:1})]),_:1}),s(e(rs),null,{default:a(()=>f[1]||(f[1]=[t("p",null,"Refreshing in real-time",-1)])),_:1})]),_:1})]),_:1})]),t("div",bt,[t("div",$t,[s(rt,{onViewDetails:_}),s(yt,{onViewDetails:_})]),t("div",null,[s(et)])]),e(d)?(l(),C(Bs,{key:0,"is-open":e(c),"onUpdate:isOpen":f[0]||(f[0]=k=>pe(c)?c.value=k:null),"command-id":e(d)},null,8,["is-open","command-id"])):E("",!0)]),_:1}))}});export{Ft as default};
