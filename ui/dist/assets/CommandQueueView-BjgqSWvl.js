import{_ as D}from"./index-C4L2wlHz.js";import{u as h,g as $e,h as we}from"./index-CRkp648W.js";import{u as Ee,a as ae,b as ne,_ as Oe,c as Ae,d as ke,L as q,g as U,e as W,f as H,h as K,i as Re,C as Se,A as De,Q as Le,S as je,j as z,k as Me,l as oe,m as le,E as ie,n as de,o as j,t as Ne,p as Ie,q as Ve,r as Pe,s as Te,v as Fe,w as Qe,x as Be}from"./PaginationPrev.vuevuetypescriptsetuptruelang-9Rt-JJ0x.js";import{f as Ge,a as L,A as he,M as qe,P as V,_ as Ue}from"./date-DDiApmX2.js";import{d as R,c as C,o as l,w as a,r as J,m as M,u as e,n as re,g as me,J as We,K as He,L as Ke,M as ze,E as te,b as s,f as y,y as O,i as c,e as t,k as X,t as g,R as N,A as v,a as ue,N as I,O as ce,p as B,v as Je,F as Xe,C as pe}from"./index-Cjw-gwD1.js";import{_ as Y,a as Z}from"./CardContent.vuevuetypescriptsetuptruelang-CoBMlXtR.js";import{_ as fe}from"./CardFooter.vuevuetypescriptsetuptruelang-DWR9RaF5.js";import{_ as ee,a as se}from"./CardTitle.vuevuetypescriptsetuptruelang-BawSU7fI.js";import{z as i,u as Ye,F as P,_ as T,a as F,b as Ze,c as Q,d as G,t as es}from"./vee-validate-zod-DdUlnBrn.js";/* empty css                                                              */import{_ as _e,a as Ce,b as ge,c as ve,d as E}from"./SelectValue.vuevuetypescriptsetuptruelang-Cq1v9izK.js";import{P as ss,a as ts}from"./http-DVJ0qLO7.js";import{d as as}from"./PopperContent-D3pQh41S.js";import{L as ns,_ as os}from"./PageContainer.vuevuetypescriptsetuptruelang-BUTrduGU.js";import{c as ls,_ as is,a as ds,b as rs}from"./TooltipTrigger.vuevuetypescriptsetuptruelang-C4ePNLf7.js";const ms=R({__name:"MenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(x){const p=x;return(r,_)=>(l(),C(e(ss),M(p,{role:"separator","aria-orientation":"horizontal"}),{default:a(()=>[J(r.$slots,"default")]),_:3},16))}}),us=R({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(x){const p=x;return as(),(r,_)=>(l(),C(e(ms),re(me(p)),{default:a(()=>[J(r.$slots,"default")]),_:3},16))}}),cs=R({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(x){const p=x;return(r,_)=>(l(),C(e(ls),re(me(p)),{default:a(()=>[J(r.$slots,"default")]),_:3},16))}}),ps={key:0},fs={class:"flex items-center justify-center py-8"},_s={key:1},Cs={key:2,class:"mt-6 space-y-6"},gs={class:"flex items-center justify-between"},vs={class:"flex items-center gap-2"},ys={class:"text-sm font-medium"},xs={class:"grid grid-cols-2 gap-4"},bs={class:"font-medium"},$s={class:"flex flex-col items-start gap-2"},ws={key:0},Es={class:"font-medium"},Os={class:"space-y-2"},As={class:"p-4 bg-gray-100 rounded-xl dark:bg-gray-800"},ks={class:"font-mono text-sm text-gray-800 break-words whitespace-pre-wrap dark:text-gray-200"},Rs={key:0,class:"space-y-2"},Ss={class:"p-4 bg-gray-100 rounded-xl dark:bg-gray-800"},Ds={class:"font-mono text-sm text-gray-800 break-words whitespace-pre-wrap dark:text-gray-200"},Ls={key:1,class:"space-y-2"},js={class:"p-3 text-red-500 rounded-md bg-red-500/10"},Ms={class:"space-y-2"},Ns={class:"space-y-3"},Is={class:"flex justify-between text-sm"},Vs={key:0,class:"flex justify-between text-sm"},Ps={key:1,class:"flex justify-between text-sm"},Ts={class:"flex justify-between text-sm"},Fs={class:"flex gap-2 pt-4"},Qs=1e3,Bs=R({__name:"CommandDetailSheet",props:We({commandId:{}},{isOpen:{type:Boolean,required:!0},isOpenModifiers:{}}),emits:["update:isOpen"],setup(x){const p=x,r=He(x,"isOpen"),_=Ke(p,"commandId"),{data:o,isPending:f,isError:A,refetch:b}=Ee(_,{axiosOpts:{doNotShowLoading:!0}}),{mutate:m}=ae(),{mutate:k}=ne(),{openConfirmation:S}=h(),{pause:u,resume:n}=ze(()=>{b()},Qs,{immediate:!1});te(o,$=>{$&&["SUCCEEDED","FAILED","CANCELED"].includes($.status)?u():n()},{immediate:!0}),te(r,$=>{$?n():u()},{immediate:!0});function w(){S({title:"Remove command",description:"Are you sure you want to remove this command from queue?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{m(p.commandId,{onSuccess:()=>{v.success("Command removed from queue")},onError:$=>{$ instanceof N?$.errorCode==="command.inProcessingCanNotBeDeleted"?v.error("Command is being processed and cannot be deleted"):v.error($.message):v.error($.message)}})},onCancel:()=>{}})}function xe(){S({title:"Cancel command",description:"Are you sure you want to cancel this command?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{k(void 0,{onSuccess:()=>{v.success("Command cancelled successfully")},onError:$=>{$ instanceof N?$.errorCode==="command.noCommandBeingProcessed"?v.error("No command is being processed"):v.error($.message):v.error($.message)}})},onCancel:()=>{}})}return($,d)=>(l(),C(e($e),{open:r.value,"onUpdate:open":d[0]||(d[0]=be=>r.value=be)},{default:a(()=>[s(e(we),{class:"max-h-screen overflow-y-auto sm:max-w-xl"},{default:a(()=>[s(e(Oe),null,{default:a(()=>[s(e(Ae),null,{default:a(()=>d[1]||(d[1]=[c(" Command detail ")])),_:1}),s(e(ke),null,{default:a(()=>d[2]||(d[2]=[c(" Real-time information about the selected command ")])),_:1})]),_:1}),e(f)?(l(),y("div",ps,[t("div",fs,[s(e(q),{class:"w-8 h-8 animate-spin"})])])):e(A)?(l(),y("div",_s,d[3]||(d[3]=[t("div",{class:"flex items-center justify-center py-8"},[t("p",{class:"text-sm text-muted-foreground"}," Failed to load command details ")],-1)]))):e(o)?(l(),y("div",Cs,[t("div",gs,[t("div",vs,[(l(),C(X(e(U)(e(o).type)))),t("span",ys,g(e(W)(e(o).type)),1)]),s(H,{status:e(o).status},null,8,["status"])]),t("div",xs,[t("div",null,[d[4]||(d[4]=t("p",{class:"text-sm text-muted-foreground"}," ID ",-1)),t("p",bs,g(e(o).id),1)]),t("div",$s,[d[5]||(d[5]=t("p",{class:"text-sm text-muted-foreground"}," Source ",-1)),s(K,{source:e(o).source},null,8,["source"])]),e(o).completedAt&&e(o).startedAt?(l(),y("div",ws,[d[6]||(d[6]=t("p",{class:"text-sm text-muted-foreground"}," Duration ",-1)),t("p",Es,g(e(Ge)((new Date(e(o).completedAt).getTime()-new Date(e(o).startedAt).getTime())/1e3)),1)])):O("",!0)]),t("div",Os,[d[7]||(d[7]=t("p",{class:"text-sm font-medium"}," Command Inputs ",-1)),t("div",As,[t("span",ks,g(JSON.stringify(e(o).inputs,null,4)),1)])]),e(o).status!=="PROCESSING"&&e(o).status!=="QUEUED"?(l(),y("div",Rs,[d[8]||(d[8]=t("p",{class:"text-sm font-medium"}," Command Outputs ",-1)),t("div",Ss,[t("span",Ds,g(JSON.stringify(e(o).outputs,null,4)),1)])])):O("",!0),e(o).error?(l(),y("div",Ls,[d[9]||(d[9]=t("p",{class:"text-sm font-medium text-red-500"}," Error ",-1)),t("div",js,g(e(o).error),1)])):O("",!0),t("div",Ms,[d[14]||(d[14]=t("p",{class:"text-sm font-medium"}," Timeline ",-1)),t("div",Ns,[t("div",Is,[d[10]||(d[10]=t("span",{class:"text-muted-foreground"},"Created",-1)),t("span",null,g(e(L)(e(o).createdAt)),1)]),e(o).startedAt?(l(),y("div",Vs,[d[11]||(d[11]=t("span",{class:"text-muted-foreground"},"Started",-1)),t("span",null,g(e(L)(e(o).startedAt)),1)])):O("",!0),e(o).completedAt?(l(),y("div",Ps,[d[12]||(d[12]=t("span",{class:"text-muted-foreground"},"Completed",-1)),t("span",null,g(e(L)(e(o).completedAt)),1)])):O("",!0),t("div",Ts,[d[13]||(d[13]=t("span",{class:"text-muted-foreground"},"Last Updated",-1)),t("span",null,g(e(L)(e(o).updatedAt)),1)])])]),t("div",Fs,[e(o).status==="QUEUED"?(l(),C(e(D),{key:0,variant:"destructive",class:"flex-1",onClick:w},{default:a(()=>d[15]||(d[15]=[c(" Remove from queue ")])),_:1})):e(o).status==="PROCESSING"?(l(),C(e(D),{key:1,variant:"destructive",class:"flex-1",onClick:xe},{default:a(()=>d[16]||(d[16]=[c(" Stop execution ")])),_:1})):(l(),C(e(D),{key:2,variant:"outline",class:"flex-1",disabled:""},{default:a(()=>d[17]||(d[17]=[c(" Re-run ")])),_:1}))])])):O("",!0)]),_:1})]),_:1},8,["open"]))}}),Gs=i.discriminatedUnion("type",[i.object({type:i.literal("STOP_MOVEMENT"),inputs:i.object({})}),i.object({type:i.literal("MOVE_TO"),inputs:i.object({location:i.string()})}),i.object({type:i.literal("MOVE_FORWARD"),inputs:i.object({})}),i.object({type:i.literal("MOVE_BACKWARD"),inputs:i.object({})}),i.object({type:i.literal("CARGO_OPEN"),inputs:i.object({})}),i.object({type:i.literal("CARGO_CLOSE"),inputs:i.object({})}),i.object({type:i.literal("CARGO_LIFT"),inputs:i.object({})}),i.object({type:i.literal("CARGO_LOWER"),inputs:i.object({})}),i.object({type:i.literal("CARGO_CHECK_QR"),inputs:i.object({qrCode:i.string()})}),i.object({type:i.literal("SCAN_LOCATION"),inputs:i.object({})}),i.object({type:i.literal("WAIT"),inputs:i.object({durationMs:i.number()})})]),hs={class:"space-y-4"},qs={class:"flex items-center gap-2"},Us={class:"flex items-center gap-2"},Ws={class:"flex items-center gap-2"},Hs={class:"flex items-center gap-2"},Ks={class:"flex items-center gap-2"},zs={class:"flex items-center gap-2"},Js={class:"flex items-center gap-2"},Xs={class:"flex items-center gap-2"},Ys={class:"flex items-center gap-2"},Zs={class:"flex items-center gap-2"},et={class:"flex items-center gap-2"},st=R({__name:"CreateCommandForm",setup(x){const{values:p,handleSubmit:r,setFieldValue:_,resetForm:o}=Ye({validationSchema:es(Gs),initialValues:{type:"STOP_MOVEMENT",inputs:{}}}),f=ue(()=>p.type);function A(u){_("type",u)}const{mutate:b,isPending:m}=Re(),k=r(u=>{b(u,{onSuccess:()=>{v.success("Command created successfully")},onError:n=>{n instanceof N?v.error({title:n.errorCode,message:n.message}):v.error("Failed to create command")}})});function S(){o()}return(u,n)=>(l(),C(e(Y),{class:"sticky top-6"},{default:a(()=>[s(e(ee),null,{default:a(()=>[s(e(se),null,{default:a(()=>n[2]||(n[2]=[c("Create command")])),_:1})]),_:1}),t("form",{onSubmit:n[1]||(n[1]=I((...w)=>e(k)&&e(k)(...w),["prevent"]))},[s(e(Z),null,{default:a(()=>[t("div",hs,[s(e(P),{name:"type"},{default:a(()=>[s(e(T),null,{default:a(()=>[s(e(F),null,{default:a(()=>n[3]||(n[3]=[c("Command type")])),_:1}),s(e(_e),{disabled:e(m),"model-value":e(f),"onUpdate:modelValue":n[0]||(n[0]=w=>A(w))},{default:a(()=>[s(e(Ze),null,{default:a(()=>[s(e(Ce),null,{default:a(()=>[s(e(ge),{placeholder:"Select command type"})]),_:1})]),_:1}),s(e(ve),null,{default:a(()=>[s(e(E),{value:"STOP_MOVEMENT"},{default:a(()=>[t("div",qs,[s(e(Se),{class:"w-4 h-4"}),n[4]||(n[4]=t("span",null,"Stop Movement",-1))])]),_:1}),s(e(E),{value:"MOVE_FORWARD"},{default:a(()=>[t("div",Us,[s(e(De),{class:"w-4 h-4"}),n[5]||(n[5]=t("span",null,"Move Forward",-1))])]),_:1}),s(e(E),{value:"MOVE_BACKWARD"},{default:a(()=>[t("div",Ws,[s(e(he),{class:"w-4 h-4"}),n[6]||(n[6]=t("span",null,"Move Backward",-1))])]),_:1}),s(e(E),{value:"MOVE_TO"},{default:a(()=>[t("div",Hs,[s(e(qe),{class:"w-4 h-4"}),n[7]||(n[7]=t("span",null,"Move To",-1))])]),_:1}),s(e(E),{value:"CARGO_OPEN"},{default:a(()=>[t("div",Ks,[s(e(V),{class:"w-4 h-4"}),n[8]||(n[8]=t("span",null,"Cargo Open",-1))])]),_:1}),s(e(E),{value:"CARGO_CLOSE"},{default:a(()=>[t("div",zs,[s(e(V),{class:"w-4 h-4"}),n[9]||(n[9]=t("span",null,"Cargo Close",-1))])]),_:1}),s(e(E),{value:"CARGO_LIFT"},{default:a(()=>[t("div",Js,[s(e(V),{class:"w-4 h-4"}),n[10]||(n[10]=t("span",null,"Cargo Lift",-1))])]),_:1}),s(e(E),{value:"CARGO_LOWER"},{default:a(()=>[t("div",Xs,[s(e(V),{class:"w-4 h-4"}),n[11]||(n[11]=t("span",null,"Cargo Lower",-1))])]),_:1}),s(e(E),{value:"CARGO_CHECK_QR"},{default:a(()=>[t("div",Ys,[s(e(Le),{class:"w-4 h-4"}),n[12]||(n[12]=t("span",null,"Cargo Check QR",-1))])]),_:1}),s(e(E),{value:"SCAN_LOCATION"},{default:a(()=>[t("div",Zs,[s(e(je),{class:"w-4 h-4"}),n[13]||(n[13]=t("span",null,"Scan Location",-1))])]),_:1}),s(e(E),{value:"WAIT"},{default:a(()=>[t("div",et,[s(e(z),{class:"w-4 h-4"}),n[14]||(n[14]=t("span",null,"Wait",-1))])]),_:1})]),_:1})]),_:1},8,["disabled","model-value"]),s(e(Q))]),_:1})]),_:1}),e(f)==="MOVE_TO"?(l(),C(e(P),{key:0,name:"inputs.location"},{default:a(({componentField:w})=>[s(e(T),null,{default:a(()=>[s(e(F),null,{default:a(()=>n[15]||(n[15]=[c("Location")])),_:1}),s(e(G),M(w,{placeholder:"Enter location"}),null,16),s(e(Q))]),_:2},1024)]),_:1})):e(f)==="CARGO_CHECK_QR"?(l(),C(e(P),{key:1,name:"inputs.qrCode"},{default:a(({componentField:w})=>[s(e(T),null,{default:a(()=>[s(e(F),null,{default:a(()=>n[16]||(n[16]=[c("QR Code")])),_:1}),s(e(G),M(w,{placeholder:"Enter QR code"}),null,16),s(e(Q))]),_:2},1024)]),_:1})):e(f)==="WAIT"?(l(),C(e(P),{key:2,name:"inputs.durationMs"},{default:a(({componentField:w})=>[s(e(T),null,{default:a(()=>[s(e(F),null,{default:a(()=>n[17]||(n[17]=[c("Duration (ms)")])),_:1}),s(e(G),M(w,{type:"number",placeholder:"Enter duration"}),null,16),s(e(Q))]),_:2},1024)]),_:1})):O("",!0)])]),_:1}),s(e(fe),{class:"flex flex-col gap-2"},{default:a(()=>[s(e(D),{type:"submit",class:"w-full",disabled:e(m)},{default:a(()=>[e(m)?(l(),C(e(q),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):O("",!0),n[18]||(n[18]=c(" Add command "))]),_:1},8,["disabled"]),s(e(D),{type:"button",variant:"outline",class:"w-full",disabled:e(m),onClick:S},{default:a(()=>n[19]||(n[19]=[c(" Clear form ")])),_:1},8,["disabled"])]),_:1})],32)]),_:1}))}}),ye=R({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(x){const p=x,r=ue(()=>{const{class:_,...o}=p;return o});return(_,o)=>(l(),C(e(us),M(r.value,{class:e(ts)("-mx-1 my-1 h-px bg-muted",p.class)}),null,16,["class"]))}}),tt={key:0},at={class:"flex items-center justify-center gap-2 p-9"},nt={class:"flex items-center justify-between"},ot={class:"flex items-center gap-2 font-medium"},lt={class:"flex items-center gap-2 text-sm text-muted-foreground"},it={key:0,class:"text-sm"},dt={key:1,class:"text-sm"},rt=1e3,mt=R({__name:"CurrentProcessingCommandCard",emits:["viewDetails"],setup(x,{emit:p}){const r=p,{openConfirmation:_}=h(),{data:o,refetch:f,isError:A}=Me({axiosOpts:{doNotShowLoading:!0}}),{mutate:b,isPending:m}=ne(),k=setInterval(f,rt);ce(()=>{clearInterval(k)});function S(){_({title:"Cancel command",description:"Are you sure you want to cancel this command?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{b(void 0,{onSuccess:()=>{v.success("Command cancelled successfully")},onError:u=>{u instanceof N?u.errorCode==="command.noCommandBeingProcessed"?v.error("No command is being processed"):v.error(u.message):v.error(u.message)}})},onCancel:()=>{}})}return(u,n)=>e(o)&&!e(A)?(l(),C(e(Y),{key:0},{default:a(()=>[s(e(ee),{class:"pb-3"},{default:a(()=>[s(e(se),{class:"flex items-center justify-between"},{default:a(()=>[n[3]||(n[3]=t("span",null,"Current Command",-1)),s(H,{status:e(o).status},null,8,["status"])]),_:1})]),_:1}),s(e(Z),null,{default:a(()=>[e(m)?(l(),y("div",tt,[t("div",at,[s(e(ns),{class:"w-4 h-4 animate-spin"}),n[4]||(n[4]=t("span",null,"Cancelling command...",-1))])])):(l(),y("div",{key:1,class:"p-4 space-y-3 border rounded-lg cursor-pointer bg-muted/50",onClick:n[2]||(n[2]=w=>r("viewDetails",e(o).id))},[t("div",nt,[t("div",ot,[(l(),C(X(e(U)(e(o).type)),{class:"w-5 h-5"})),t("span",null,g(e(W)(e(o).type)),1)]),t("div",{class:"flex items-center gap-2",onClick:n[1]||(n[1]=I(()=>{},["stop"]))},[s(K,{source:e(o).source},null,8,["source"]),s(e(oe),null,{default:a(()=>[s(e(le),{"as-child":""},{default:a(()=>[s(e(D),{variant:"ghost",size:"icon",class:"w-8 h-8"},{default:a(()=>[s(e(ie),{class:"w-4 h-4"})]),_:1})]),_:1}),s(e(de),{align:"end"},{default:a(()=>[s(e(j),{class:"cursor-pointer",onClick:n[0]||(n[0]=I(w=>r("viewDetails",e(o).id),["stop"]))},{default:a(()=>n[5]||(n[5]=[c(" View details ")])),_:1}),s(e(ye)),s(e(j),{class:"text-red-500 cursor-pointer",onClick:S},{default:a(()=>n[6]||(n[6]=[c(" Cancel command ")])),_:1})]),_:1})]),_:1})])]),t("div",lt,[s(e(z),{class:"w-4 h-4"}),t("span",null,"Started at: "+g(e(o).startedAt?e(L)(e(o).startedAt):"N/A"),1)]),e(o).type==="MOVE_TO"?(l(),y("div",it,[n[7]||(n[7]=t("span",{class:"font-medium"},"Location: ",-1)),c(" "+g(e(o).inputs.location),1)])):e(o).type==="CARGO_CHECK_QR"?(l(),y("div",dt,[n[8]||(n[8]=t("span",{class:"font-medium"},"QR Code: ",-1)),c(" "+g(e(o).inputs.qrCode),1)])):O("",!0)]))]),_:1})]),_:1})):O("",!0)}}),ut={class:"flex items-center justify-between"},ct={class:"flex items-center gap-2 font-medium"},pt={class:"flex items-center gap-2 text-sm text-muted-foreground"},ft={key:0,class:"text-sm"},_t={key:1,class:"text-sm"},Ct=R({__name:"QueuedCommandItem",props:{command:{}},emits:["viewDetails"],setup(x,{emit:p}){const r=x,_=p,{openConfirmation:o}=h(),{mutate:f}=ae();function A(){o({title:"Remove command",description:"Are you sure you want to remove this command from queue?",actionLabel:"Confirm",cancelLabel:"Cancel",onAction:()=>{f(r.command.id,{onSuccess:()=>{v.success("Command removed from queue")},onError:b=>{b instanceof N?b.errorCode==="command.inProcessingCanNotBeDeleted"?v.error("Command is being processed and cannot be deleted"):v.error(b.message):v.error(b.message)}})},onCancel:()=>{}})}return(b,m)=>(l(),y("div",{class:"p-4 space-y-3 transition-colors border rounded-lg cursor-pointer bg-muted/30 border-border/50 hover:border-border",onClick:m[3]||(m[3]=k=>_("viewDetails",r.command.id))},[t("div",ut,[t("div",ct,[(l(),C(X(e(U)(r.command.type)),{class:"w-5 h-5"})),t("span",null,g(e(W)(r.command.type)),1)]),t("div",{class:"flex items-center gap-2",onClick:m[2]||(m[2]=I(()=>{},["stop"]))},[s(H,{status:r.command.status},null,8,["status"]),s(K,{source:r.command.source},null,8,["source"]),s(e(oe),null,{default:a(()=>[s(e(le),{"as-child":""},{default:a(()=>[s(e(D),{variant:"ghost",size:"icon",class:"w-8 h-8"},{default:a(()=>[s(e(ie),{"class-name":"h-4 w-4"})]),_:1})]),_:1}),s(e(de),{align:"end",onClick:m[1]||(m[1]=I(()=>{},["stop"]))},{default:a(()=>[s(e(j),{onClick:m[0]||(m[0]=k=>_("viewDetails",r.command.id))},{default:a(()=>m[4]||(m[4]=[c(" View details ")])),_:1}),s(e(j),null,{default:a(()=>m[5]||(m[5]=[c("Edit command")])),_:1}),s(e(ye)),s(e(j),{class:"text-red-500",onClick:A},{default:a(()=>m[6]||(m[6]=[c(" Remove from queue ")])),_:1})]),_:1})]),_:1})])]),t("div",pt,[s(e(z),{class:"w-4 h-4"}),t("span",null,"Created "+g(e(Ne)(r.command.createdAt)),1)]),r.command.type==="MOVE_TO"?(l(),y("div",ft,[m[7]||(m[7]=t("span",{class:"font-medium"},"Location: ",-1)),c(" "+g(b.command.inputs.location),1)])):r.command.type==="CARGO_CHECK_QR"?(l(),y("div",_t,[m[8]||(m[8]=t("span",{class:"font-medium"},"QR Code: ",-1)),c(" "+g(b.command.inputs.qrCode),1)])):O("",!0)]))}}),gt={key:1,class:"py-6 text-center text-muted-foreground"},vt={class:"flex items-center gap-1 text-sm text-muted-foreground"},yt=2e3,xt=R({__name:"WaitingCommandList",emits:["viewDetails"],setup(x,{emit:p}){const r=p,_=B(1),o=B(5),{data:f,refetch:A}=Ie(_,o,{axiosOpts:{doNotShowLoading:!0}});function b(){_.value=1}function m(S){_.value=S}const k=setInterval(A,yt);return ce(()=>{clearInterval(k)}),(S,u)=>e(f)?(l(),C(e(Y),{key:0},{default:a(()=>[s(e(ee),{class:"pb-3"},{default:a(()=>[s(e(se),{class:"flex items-center justify-between"},{default:a(()=>[u[1]||(u[1]=t("span",null,"Waiting Commands",-1)),s(e(Ue),{variant:"outline"},{default:a(()=>[c(g(e(f).totalItems)+" commands ",1)]),_:1})]),_:1})]),_:1}),s(e(Z),{class:"space-y-3"},{default:a(()=>[e(f).totalItems>0?(l(!0),y(Xe,{key:0},Je(e(f).items,n=>(l(),C(Ct,{key:n.id,command:n,onViewDetails:w=>r("viewDetails",n.id)},null,8,["command","onViewDetails"]))),128)):(l(),y("div",gt," No commands in queue "))]),_:1}),s(e(fe),{class:"flex items-center justify-between pt-4 border-t"},{default:a(()=>[t("div",vt,[u[5]||(u[5]=t("span",{class:"text-sm sr-only sm:not-sr-only"}," Items per page: ",-1)),s(e(_e),{modelValue:e(o),"onUpdate:modelValue":[u[0]||(u[0]=n=>pe(o)?o.value=n:null),b]},{default:a(()=>[s(e(Ce),{class:"w-16 h-8 ml-2"},{default:a(()=>[s(e(ge),{placeholder:"5"})]),_:1}),s(e(ve),null,{default:a(()=>[s(e(E),{value:"5"},{default:a(()=>u[2]||(u[2]=[c(" 5 ")])),_:1}),s(e(E),{value:"10"},{default:a(()=>u[3]||(u[3]=[c(" 10 ")])),_:1}),s(e(E),{value:"20"},{default:a(()=>u[4]||(u[4]=[c(" 20 ")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),s(e(Ve),{"sibling-count":1,"items-per-page":e(o),total:e(f).totalItems,"default-page":e(_),"onUpdate:page":m},{default:a(()=>[s(e(Pe),{class:"flex items-center gap-1"},{default:a(()=>[s(e(Te)),s(e(Fe)),s(e(Qe)),s(e(Be))]),_:1})]),_:1},8,["items-per-page","total","default-page"])]),_:1})]),_:1})):O("",!0)}}),bt={class:"flex items-center justify-between"},$t={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},wt={class:"space-y-6 md:col-span-2"},Ft=R({__name:"CommandQueueView",setup(x){const p=B(!1),r=B(null);function _(o){r.value=o,p.value=!0}return(o,f)=>(l(),C(os,null,{default:a(()=>[t("div",bt,[f[2]||(f[2]=t("div",null,[t("h1",{class:"text-xl font-semibold tracking-tight"}," Robot command queue "),t("p",{class:"text-sm text-muted-foreground"}," Manage and monitor robot commands in real-time ")],-1)),s(e(cs),null,{default:a(()=>[s(e(is),null,{default:a(()=>[s(e(ds),{"as-child":""},{default:a(()=>[s(e(D),{variant:"outline",size:"icon"},{default:a(()=>[s(e(q),{class:"w-4 h-4 animate-spin"})]),_:1})]),_:1}),s(e(rs),null,{default:a(()=>f[1]||(f[1]=[t("p",null,"Refreshing in real-time",-1)])),_:1})]),_:1})]),_:1})]),t("div",$t,[t("div",wt,[s(mt,{onViewDetails:_}),s(xt,{onViewDetails:_})]),t("div",null,[s(st)])]),e(r)?(l(),C(Bs,{key:0,"is-open":e(p),"onUpdate:isOpen":f[0]||(f[0]=A=>pe(p)?p.value=A:null),"command-id":e(r)},null,8,["is-open","command-id"])):O("",!0)]),_:1}))}});export{Ft as default};
